{
    "type": "OBJECT",
    "properties": {
        "bankAccount": {
            "type": "ARRAY",
            "items": {
                "type":  "STRING",
                "nullable": true,
                "description": "The bank account(s) number(s) of the vendor. This is the account to which the payment should be made. Extract all the relevant bank account numbers mentioned in the invoice."
            }
        },
        "contractNumber": {"type":  "STRING",
            "nullable": true,
            "description": "It's a contract number between the carrier and Forto Logistics SE & Co KG."
        },
        "currencyExchange": {
            "type": "OBJECT",
            "properties": {
                "from": {"type":  "STRING",
                    "nullable": true,
                    "description": "The currency code from which the exchange rate is applied."
                },
                "fxRate": {"type":  "STRING",
                    "nullable": true,
                    "description": "The exchange rate applied to convert the amount from the 'from' currency to the 'to' currency."
                },
                "to": {"type":  "STRING",
                    "nullable": true,
                    "description": "The currency code to which the exchange rate is applied."}
            }
        },
        "documentType": {"type":  "STRING", "nullable": true},
        "dueDate": {"type":  "STRING", "nullable": true,
            "description": "The date by which the payment should be made by Forto Logistics SE & Co KG. Do Not calculate dueDate based on issueDate or any other date. Extract it directly from the invoice."},
        "eta": {"type":  "STRING", "nullable": true,
            "description": "Estimated Time of Arrival (ETA) is the expected date when the shipment will arrive at its destination."},
        "etd": {"type":  "STRING", "nullable": true,
            "description": "Estimated Time of Departure (ETD) is the expected date when the shipment will leave the origin port."},
        "fortoEntity": {"type":  "STRING", "nullable": true,
            "description": "The entity of 'Forto Logistics SE & Co KG' that is responsible for the invoice. The Forto organization or branch managing the shipment."
        },
        "hblNumber": {"type":  "STRING", "nullable": true,
            "description": "House Bill of Lading number, a document issued by a freight forwarder."
        },
        "currencyCode": {"type":  "STRING", "nullable": true,
            "description": "The currency code in which the invoice is issued, such as EUR, USD, etc."
        },
        "grandTotal": {"type":  "STRING", "nullable": true,
            "description": "The total amount of the invoice, including all line items and taxes."
        },
        "vatAmount": {"type":  "STRING", "nullable": true,
            "description": "The total VAT amount applied to the invoice. This is the tax charged on the vatApplicableAmount of the invoice. Bitte Zahlen is not the vatAmount."
        },
        "vatApplicableAmount": {"type":  "STRING", "nullable": true,
            "description": "The amount on which VAT is applicable. This is the net amount before VAT is applied (without VAT)."
        },
        "vatPercentage": {"type":  "STRING", "nullable": true,
            "description": "The percentage rate of VAT applied to the vatApplicableAmount. This is used to calculate the vatAmount."
        },
        "invoiceNumber": {"type":  "STRING", "nullable": true,
            "description": "The unique identifier for the invoice. This is used to track and reference the invoice in financial records."
        },
        "issueDate": {"type":  "STRING", "nullable": true,
            "description": "The date when the invoice was issued."
        },
        "lineItem": {
            "type": "ARRAY",
            "items": {
                "type": "OBJECT",
                "properties": {
                    "uniqueId": {
                        "type":  "STRING",
                        "nullable": true,
                        "description": "A line item can belong to a different shipments. Hence, the unique IDs of a line item need to be extracted that you see only on the line item level. UniqueIds are containerNumber, shipmentId, or sealNumber."
                    },
                    "lineItemDescription": {"type": "STRING", "nullable": true,
                        "description": "A description of the line item (COGS or Customs line items), which can include details about the service provided."},
                    "totalAmount": {"type": "STRING", "nullable": true,
                        "description": "The total amount for the line item, which may include the cost of services, and applicable taxes."},
                    "totalAmountCurrency": {"type": "STRING", "nullable": true,
                        "description": "The currency code for the total amount, such as EUR, USD, etc."},
                    "totalAmountEuro": {"type": "STRING", "nullable": true,
                        "description": "The total amount converted to Euro, if applicable. You can find it by looking for the term 'Total EUR' or 'Amount in Euro' in the line item."},
                    "quantity": {"type": "STRING", "nullable": true,
                        "description": "The quantity of the item or service provided in the line item."},
                    "unitPrice": {"type": "STRING", "nullable": true,
                        "description": "The price per unit of the item or service in the line item. Check the naming in a different languages, such as 'Einzelpreis', 'Unit Price', 'Prezzo unitario', 'Preis pro Einheit', etc.. Refer to 'Prezzo unitario' field in the italian invoice example"},
                    "unitPriceCurrency": {"type": "STRING", "nullable": true,
                        "description": "The currency code for the unit price, such as EUR, USD, etc."},
                    "vatAmount": {"type": "STRING", "nullable": true,
                        "description": "The VAT amount applied to the line item. This is the tax charged on the totalAmount of the line item."},
                    "vatPercentage": {"type": "STRING", "nullable": true,
                        "description": "The percentage rate of VAT applied to the totalAmount of the line item. This is used to calculate the vatAmount."
                    },
                    "containerNumber": {"type": "STRING", "nullable": true,
                        "description": "The container number associated with the line item. containerNumber MUST start with 4 letters followed by 7 digits (e.g., CMAU1234567)"},
                    "containerSize": {"type": "STRING", "nullable": true,
                        "description": "The size of the container associated with the containerNumber, such as 20ft, 40ft, 40HC, 20DC etc."}
                }
            },
            "required": [
                "uniqueId",
                "lineItemDescription",
                "totalAmount",
                "totalAmountCurrency",
                "totalAmountEuro",
                "unitPrice",
                "unitPriceCurrency",
                "vatAmount",
                "vatPercentage",
                "containerNumber",
                "containerSize"
            ]
        },
        "mblNumber": {"type": "STRING", "nullable": true,
            "description": "Bill of Lading number (B/L NO.), a document issued by the carrier."
        },
        "partnerReference": {"type": "STRING", "nullable": true,
            "description": "A partnerReference can be a shipment ID.  It starts with 'S' followed by 6 or 7 digits (e.g., 'S1234567')."
        },
        "paymentTerm": {"type": "STRING", "nullable": true,
            "description": "The payment term indicates the conditions under which the payment should be made. E.g., 'In 10 TAGEN', '14 TAGEN', '14 days', etc."},
        "portOfDischarge": {"type": "STRING", "nullable": true,
            "description": "The port where the goods are discharged from the vessel. This is the destination port for the shipment."},
        "portOfLoading": {"type": "STRING", "nullable": true,
            "description": "The origin port where the goods are loaded onto the vessel. Find information like 'Ladehafen' or 'Port of Loading' in the invoice."},
        "recipientAddress": {"type": "STRING", "nullable": true,
            "description": "Majority of the times, it is 'Forto Logistics SE & Co KG' Address depends on the entity."},
        "recipientName": {"type": "STRING", "nullable": true,
            "description": "The name of the recipient who is responsible for making the payment. This is often the 'Forto Logistics SE & Co KG' entity or partner."},
        "serviceDate": {"type": "STRING", "nullable": true,
            "description": "The date when the service was provided. If Service date is not available in the invoice, Estimated Time of Arrival (ETA) can be used."},
        "vatId": {"type": "STRING", "nullable": true,
            "description": "The VAT ID of the vendor. This is used for tax purposes and to identify the vendor in financial transactions."},
        "vendorAddress": {"type": "STRING", "nullable": true,
            "description": "The address of the vendor to whom the payment should be made."},
        "vendorName": {"type": "STRING", "nullable": true,
            "description": "The name of the vendor to whom the payment should be made. Extract the main vendor details incase the invoice contains 'As Agent For'."},
        "agentName": {
            "type": "STRING",
            "nullable": true,
            "description": "The name of the agent or intermediary involved in the transaction, if applicable."},
        "agentKeyWord": {
            "type": "STRING",
            "nullable": true,
            "description": "A keyword or phrase that indicates the presence of an agent or intermediary in the transaction, such as 'As Agent For', 'Acting Agent', 'Issuing agent', 'Contact Agent', or similar words."},

        "paymentInformation": {
            "type": "OBJECT",
            "properties": {
                "paidAmount": {
                    "type": "STRING",
                    "nullable": true,
                    "description": "The amount that has been paid so far. You can identify this in the invoice by looking for terms like 'Vorschuss'."
                },
                "remainingAmountToPay": {
                    "type": "STRING",
                    "nullable": true,
                    "description": "The amount that is still due for payment (e.g., 'Bitte zahlen', 'Zu zahlen' only). This can be negative & ensure the negative sign is captured if applicable."
                },
                "currency": {
                    "type": "STRING",
                    "nullable": true,
                    "description": "Currency code associated with the paidAmount and remainngAmountToPay"
                },
                "sentence": {"type": "STRING", "nullable": true,
                    "description": "A sentence that indicates the payment status, such as 'Vorschuss', 'Vorauszahlung', 'Paid', 'Partially Paid', or 'Unpaid'. This is used to summarize the payment status of the invoice."}
            }

        },
        "reverseChargeSentence": {
            "type": "STRING",
            "nullable": true,
            "description": "A sentence which indicate that the reverse charge applies. Mostly found as VAT/Tax Clause."
        }
    },
    "required": [
        "bankAccount",
        "contractNumber",
        "currencyExchange",
        "documentType",
        "eta",
        "etd",
        "fortoEntity",
        "currencyCode",
        "grandTotal",
        "vatAmount",
        "vatApplicableAmount",
        "vatPercentage",
        "invoiceNumber",
        "issueDate",
        "lineItem",
        "mblNumber",
        "partnerReference",
        "paymentTerm",
        "portOfDischarge",
        "portOfLoading",
        "recipientAddress",
        "recipientName",
        "serviceDate",
        "vatId",
        "vendorAddress",
        "vendorName"
    ]
}
