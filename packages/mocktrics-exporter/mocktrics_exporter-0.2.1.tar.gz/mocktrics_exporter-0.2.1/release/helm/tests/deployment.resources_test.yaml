suite: test deployment.resources
templates:
- deployment.yaml
tests:

- it: renders container resources when configured
  set:
    deployment:
      resources:
        requests:
          cpu: 1m
          memory: 1Mi
        limits:
          cpu: 1m
          memory: 1Mi
  asserts:
  - isKind:
      of: Deployment
  - equal:
      path: spec.template.spec.containers[0].resources
      value:
        requests:
          cpu: 1m
          memory: 1Mi
        limits:
          cpu: 1m
          memory: 1Mi

- it: leaves container resources empty by default
  set:
    deployment:
      resources:
  asserts:
  - isKind:
      of: Deployment
  - equal:
      path: spec.template.spec.containers[0].resources
      value:
