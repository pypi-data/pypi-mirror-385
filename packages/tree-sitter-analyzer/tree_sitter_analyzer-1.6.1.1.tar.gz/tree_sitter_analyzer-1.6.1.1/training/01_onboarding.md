# ğŸš€ 01 é›¶åŸºç¡€å¿«é€Ÿä¸Šæ‰‹

> **30åˆ†é’Ÿå†…ä»é›¶åˆ°ä¸€ï¼Œä½“éªŒTree-sitter Analyzerçš„å¼ºå¤§åŠŸèƒ½**

![éš¾åº¦](https://img.shields.io/badge/éš¾åº¦-â­-brightgreen)
![æ—¶é—´](https://img.shields.io/badge/æ—¶é—´-30--60åˆ†é’Ÿ-blue)
![å®è·µ](https://img.shields.io/badge/å®è·µ-100%25-orange)

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å°†ï¼š
- âœ… **æ­å»ºå®Œæ•´å¼€å‘ç¯å¢ƒ**ï¼ˆ5åˆ†é’Ÿï¼‰
- âœ… **è¿è¡Œç¬¬ä¸€ä¸ªåˆ†æå‘½ä»¤**ï¼ˆ10åˆ†é’Ÿï¼‰
- âœ… **ç†è§£æ ¸å¿ƒæ¦‚å¿µ**ï¼ˆ10åˆ†é’Ÿï¼‰
- âœ… **å®Œæˆå®æˆ˜ç»ƒä¹ **ï¼ˆ15åˆ†é’Ÿï¼‰
- âœ… **éªŒè¯å­¦ä¹ æˆæœ**ï¼ˆ10åˆ†é’Ÿï¼‰

## ğŸ“‹ å‰ç½®è¦æ±‚

- ğŸ’» **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10+ / macOS 10.15+ / Linux
- ğŸ **Python**ï¼š3.10 - 3.12ï¼ˆæ¨è3.11ï¼‰
- ğŸŒ **ç½‘ç»œ**ï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥
- ğŸ’¡ **åŸºç¡€çŸ¥è¯†**ï¼šåŸºæœ¬çš„å‘½ä»¤è¡Œæ“ä½œ

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒæ­å»ºï¼ˆ5åˆ†é’Ÿï¼‰

### 1.1 å®‰è£…åŒ…ç®¡ç†å™¨

**Windows (PowerShell 7)**
```powershell
# ä¸€é”®å®‰è£… uv åŒ…ç®¡ç†å™¨
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

# éªŒè¯å®‰è£…
uv --version
```

**Linux/macOS**
```bash
# å®‰è£… uv
curl -Ls https://astral.sh/uv/install.sh | sh

# é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡
source ~/.bashrc  # æˆ– source ~/.zshrc

# éªŒè¯å®‰è£…
uv --version
```

> ğŸ’¡ **å°è´´å£«**ï¼šuvæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„PythonåŒ…ç®¡ç†å™¨ï¼Œæ¯”pipæ›´å¿«ã€æ›´å¯é ã€‚

### 1.2 è·å–é¡¹ç›®ä»£ç 

```bash
# å…‹éš†é¡¹ç›®ä»“åº“
git clone https://github.com/aimasteracc/tree-sitter-analyzer.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd tree-sitter-analyzer

# å®‰è£…é¡¹ç›®ä¾èµ–
uv sync --extra popular --extra mcp
```

> ğŸ¯ **éªŒè¯ç‚¹**ï¼šè¿è¡Œ `uv run python --version` ç¡®è®¤Pythonç¯å¢ƒæ­£å¸¸ã€‚

## ğŸ¯ ç¬¬äºŒæ­¥ï¼šé¦–æ¬¡è¿è¡Œï¼ˆ10åˆ†é’Ÿï¼‰

### 2.1 åˆ†æç¤ºä¾‹ä»£ç 

è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„Javaæ–‡ä»¶å¼€å§‹ï¼š

```bash
# åˆ†æç¤ºä¾‹Javaæ–‡ä»¶
uv run python -m tree_sitter_analyzer examples/BigService.java --table=full --quiet
```

**æœŸæœ›è¾“å‡ºç¤ºä¾‹**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tree-sitter Analyzer Results                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ File: examples/BigService.java                                                  â”‚
â”‚ Language: java                                                                  â”‚
â”‚ Summary: 1 class, 5 methods, 3 fields                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Classes:                                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Name            â”‚ Start Line  â”‚ End Line    â”‚ Methods                     â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ BigService      â”‚ 1           â”‚ 45          â”‚ 5                           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ¢ç´¢ä¸åŒè¾“å‡ºæ ¼å¼

```bash
# JSONæ ¼å¼è¾“å‡º
uv run python -m tree_sitter_analyzer examples/BigService.java --summary

# æ–‡æœ¬æ ¼å¼è¾“å‡º
uv run python -m tree_sitter_analyzer examples/BigService.java --advanced --output-format=text

# æå–ç‰¹å®šè¡ŒèŒƒå›´
uv run python -m tree_sitter_analyzer examples/BigService.java --partial-read --start-line 10 --end-line 20
```

## ğŸ§  ç¬¬ä¸‰æ­¥ï¼šæ ¸å¿ƒæ¦‚å¿µç†è§£ï¼ˆ10åˆ†é’Ÿï¼‰

### 3.1 Tree-sitteræ˜¯ä»€ä¹ˆï¼Ÿ

Tree-sitteræ˜¯ä¸€ä¸ªå¢é‡è§£æå™¨ç”Ÿæˆå·¥å…·å’Œè§£æåº“ï¼Œèƒ½å¤Ÿï¼š
- ğŸ” **ç²¾ç¡®è§£æ**ï¼šç†è§£ä»£ç çš„è¯­æ³•ç»“æ„
- âš¡ **å¢é‡æ›´æ–°**ï¼šåªé‡æ–°è§£æä¿®æ”¹çš„éƒ¨åˆ†
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€
- ğŸ¯ **é”™è¯¯æ¢å¤**ï¼šå³ä½¿æœ‰è¯­æ³•é”™è¯¯ä¹Ÿèƒ½ç»§ç»­è§£æ

### 3.2 é¡¹ç›®æ¶æ„æ¦‚è§ˆ

```mermaid
graph TD
    A[è¾“å…¥æ–‡ä»¶] --> B[è¯­è¨€æ£€æµ‹]
    B --> C[Tree-sitterè§£æ]
    C --> D[ç»“æ„æå–]
    D --> E[æ ¼å¼åŒ–è¾“å‡º]
    
    B --> F[Javaæ’ä»¶]
    B --> G[Pythonæ’ä»¶]
    B --> H[JavaScriptæ’ä»¶]
    
    E --> I[è¡¨æ ¼æ ¼å¼]
    E --> J[JSONæ ¼å¼]
    E --> K[æ–‡æœ¬æ ¼å¼]
    
    style A fill:#e1f5fe
    style E fill:#c8e6c9
    style F fill:#fff3e0
    style G fill:#f3e5f5
    style H fill:#e8f5e8
```

### 3.3 å…³é”®ç›®å½•ç»“æ„

```
tree-sitter-analyzer/
â”œâ”€â”€ tree_sitter_analyzer/
â”‚   â”œâ”€â”€ cli_main.py          # CLIä¸»å…¥å£
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ languages/           # è¯­è¨€æ’ä»¶
â”‚   â”œâ”€â”€ queries/             # æŸ¥è¯¢åº“
â”‚   â””â”€â”€ mcp/                 # MCPæœåŠ¡
â”œâ”€â”€ examples/                # ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ tests/                   # æµ‹è¯•å¥—ä»¶
â””â”€â”€ training/                # æœ¬æ•™ç¨‹ç³»åˆ—
```

## ğŸ¯ ç¬¬å››æ­¥ï¼šå®æˆ˜ç»ƒä¹ ï¼ˆ15åˆ†é’Ÿï¼‰

### ç»ƒä¹ 1ï¼šåˆ†æPythonæ–‡ä»¶

```bash
# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
echo 'def hello_world():
    print("Hello, World!")

class Calculator:
    def add(self, a, b):
        return a + b' > test_example.py

# åˆ†æPythonæ–‡ä»¶
uv run python -m tree_sitter_analyzer test_example.py --table=full
```

### ç»ƒä¹ 2ï¼šä½¿ç”¨é«˜çº§æŸ¥è¯¢

```bash
# æŸ¥æ‰¾æ‰€æœ‰æ–¹æ³•
uv run python -m tree_sitter_analyzer examples/BigService.java --query-key methods

# æŸ¥æ‰¾ç‰¹å®šæ–¹æ³•
uv run python -m tree_sitter_analyzer examples/BigService.java --query-key methods --filter "name=main"

# æŸ¥æ‰¾è®¤è¯ç›¸å…³æ–¹æ³•
uv run python -m tree_sitter_analyzer examples/BigService.java --query-key methods --filter "name=~auth*"
```

### ç»ƒä¹ 3ï¼šåˆ†æä¸åŒçš„Javaæ–‡ä»¶

```bash
# åˆ†æå¤šä¸ªæ–‡ä»¶
uv run python -m tree_sitter_analyzer examples/Sample.java --table=full
uv run python -m tree_sitter_analyzer examples/BigService.java --table=full

```

## âœ… ç¬¬äº”æ­¥ï¼šéªŒè¯å­¦ä¹ æˆæœï¼ˆ10åˆ†é’Ÿï¼‰

### 5.1 è¿è¡Œæµ‹è¯•å¥—ä»¶

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest -q

# è¿è¡Œç‰¹å®šæµ‹è¯•
uv run pytest tests/test_cli.py -v
```

### 5.2 è´¨é‡æ£€æŸ¥

```bash
# ä»£ç æ ¼å¼æ£€æŸ¥
uv run black . --check
uv run isort . --check

# ä»£ç è´¨é‡æ£€æŸ¥
uv run ruff check .

# ç±»å‹æ£€æŸ¥
uv run mypy tree_sitter_analyzer/
```

### 5.3 è‡ªæˆ‘è¯„ä¼°

è¯·å›ç­”ä»¥ä¸‹é—®é¢˜æ¥éªŒè¯æ‚¨çš„å­¦ä¹ ï¼š

- [ ] æˆ‘èƒ½å¤ŸæˆåŠŸå®‰è£…å’Œé…ç½®å¼€å‘ç¯å¢ƒ
- [ ] æˆ‘èƒ½å¤Ÿè¿è¡ŒåŸºæœ¬çš„ä»£ç åˆ†æå‘½ä»¤
- [ ] æˆ‘ç†è§£äº†Tree-sitterçš„åŸºæœ¬æ¦‚å¿µ
- [ ] æˆ‘èƒ½å¤Ÿä½¿ç”¨ä¸åŒçš„è¾“å‡ºæ ¼å¼
- [ ] æˆ‘èƒ½å¤Ÿè¿è¡Œæµ‹è¯•å’Œè´¨é‡æ£€æŸ¥

## ğŸ‰ æ­å–œï¼æ‚¨å·²å®Œæˆå¿«é€Ÿä¸Šæ‰‹

### ğŸ“Š å­¦ä¹ æˆæœ

æ‚¨ç°åœ¨å·²ç»æŒæ¡äº†ï¼š
- âœ… **ç¯å¢ƒæ­å»º**ï¼šç‹¬ç«‹é…ç½®å¼€å‘ç¯å¢ƒ
- âœ… **åŸºç¡€æ“ä½œ**ï¼šè¿è¡Œä»£ç åˆ†æå‘½ä»¤
- âœ… **æ ¸å¿ƒæ¦‚å¿µ**ï¼šç†è§£Tree-sitteråŸç†
- âœ… **å®ç”¨æŠ€èƒ½**ï¼šä½¿ç”¨CLIå·¥å…·åˆ†æä»£ç 

### ğŸš€ ä¸‹ä¸€æ­¥

ç»§ç»­æ‚¨çš„å­¦ä¹ ä¹‹æ—…ï¼š

1. **ğŸ—ï¸ [æ¶æ„æ·±åº¦è§£æ](02_architecture_map.md)** - æ·±å…¥ç†è§£ç³»ç»Ÿæ¶æ„
2. **âš¡ [CLIå¤§å¸ˆçº§é€ŸæŸ¥](03_cli_cheatsheet.md)** - æŒæ¡é«˜çº§å‘½ä»¤æŠ€å·§
3. **ğŸ”Œ [MCPé›†æˆä¸“å®¶](04_mcp_cheatsheet.md)** - å­¦ä¹ AIå·¥å…·é›†æˆ

### ğŸ’¡ å°è´´å£«

- ğŸ”„ **å®šæœŸç»ƒä¹ **ï¼šæ¯å¤©èŠ±10åˆ†é’Ÿç»ƒä¹ ä¸åŒçš„å‘½ä»¤
- ğŸ“š **æŸ¥é˜…æ–‡æ¡£**ï¼šé‡åˆ°é—®é¢˜æ—¶æŸ¥çœ‹ `--help` é€‰é¡¹
- ğŸ¤ **ç¤¾åŒºæ”¯æŒ**ï¼šåœ¨GitHubä¸Šæé—®æˆ–è®¨è®º

---

**ğŸ¯ å‡†å¤‡å¥½è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µäº†å—ï¼Ÿ**

**ğŸ‘‰ ç»§ç»­å­¦ä¹ ï¼š[02 æ¶æ„æ·±åº¦è§£æ](02_architecture_map.md)**
