#ifndef TEXTBOT_H
#define TEXTBOT_H

#include <cstdlib>

#include "rsb_bot.h"

namespace roshambo_tournament {

/* Text bot */
class TextBot : public RSBBot {
 public:
  TextBot(int match_length) : RSBBot(match_length) {}

  int GetAction() override { return db_table_[history_len() % 1000]; }

 private:
  /* English text (rsbpc post) converted to r-p-s */
  /* contains:  281 0's, 267 1's, 452 2's (heavy bias) */
  static constexpr int db_table_[1000] = {
      2, 0, 2, 2, 2, 1, 0, 0, 1, 2, 2, 1, 2, 2, 2, 0, 2, 1, 2, 0, 0, 2, 1, 0,
      2, 1, 0, 2, 2, 1, 1, 0, 0, 2, 2, 0, 0, 1, 0, 1, 1, 1, 0, 2, 1, 2, 1, 0,
      1, 1, 2, 2, 0, 2, 0, 0, 2, 2, 2, 0, 1, 1, 1, 0, 1, 1, 2, 0, 0, 0, 2, 2,
      2, 1, 2, 1, 0, 0, 1, 0, 1, 1, 2, 2, 0, 2, 1, 0, 1, 1, 2, 1, 0, 0, 2, 0,
      2, 1, 1, 2, 0, 0, 2, 0, 0, 1, 1, 0, 0, 1, 2, 2, 1, 2, 1, 2, 2, 2, 2, 2,
      0, 2, 0, 2, 2, 2, 0, 2, 1, 0, 1, 1, 2, 0, 2, 2, 1, 2, 2, 0, 1, 2, 2, 2,
      0, 0, 1, 1, 2, 2, 0, 2, 0, 0, 2, 2, 1, 1, 1, 0, 2, 1, 2, 2, 0, 2, 2, 2,
      0, 2, 1, 0, 0, 1, 0, 1, 1, 1, 1, 2, 2, 2, 0, 0, 1, 0, 1, 2, 1, 2, 0, 0,
      2, 2, 1, 1, 2, 2, 0, 0, 2, 2, 2, 1, 2, 1, 2, 1, 1, 1, 2, 2, 2, 0, 2, 1,
      0, 2, 2, 1, 0, 1, 2, 2, 2, 0, 2, 1, 1, 2, 2, 1, 0, 2, 2, 1, 1, 0, 0, 2,
      1, 1, 0, 1, 0, 2, 2, 2, 0, 2, 2, 2, 1, 1, 2, 1, 0, 0, 2, 0, 2, 1, 1, 2,
      0, 0, 2, 0, 0, 1, 1, 0, 0, 1, 2, 2, 0, 1, 2, 1, 2, 1, 0, 1, 1, 0, 2, 2,
      1, 1, 1, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 0, 1, 2,
      2, 1, 1, 2, 0, 1, 2, 2, 2, 2, 0, 0, 1, 2, 2, 2, 0, 0, 2, 2, 2, 0, 0, 1,
      1, 0, 0, 0, 1, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1, 0, 1, 1, 0, 2, 1, 2, 1, 1,
      1, 0, 2, 1, 2, 2, 0, 1, 0, 0, 0, 2, 0, 2, 2, 0, 1, 1, 0, 2, 2, 2, 2, 1,
      2, 1, 1, 0, 0, 2, 2, 1, 1, 2, 2, 0, 1, 1, 2, 1, 1, 2, 1, 2, 2, 0, 2, 2,
      2, 1, 1, 1, 2, 2, 0, 1, 2, 1, 0, 1, 1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
      2, 2, 0, 2, 1, 0, 1, 1, 2, 0, 1, 1, 2, 2, 1, 2, 2, 2, 1, 0, 2, 2, 2, 0,
      0, 2, 2, 2, 2, 2, 2, 2, 1, 0, 1, 1, 2, 0, 1, 2, 1, 0, 1, 0, 0, 2, 1, 2,
      2, 0, 0, 1, 0, 1, 2, 0, 2, 0, 0, 1, 2, 2, 0, 2, 2, 2, 0, 0, 2, 1, 0, 0,
      0, 2, 1, 2, 2, 1, 1, 1, 1, 2, 0, 1, 2, 2, 0, 0, 2, 1, 1, 0, 0, 1, 1, 0,
      0, 1, 1, 1, 2, 2, 1, 0, 2, 2, 2, 2, 1, 2, 0, 2, 0, 0, 1, 2, 2, 2, 2, 2,
      2, 1, 1, 1, 2, 2, 0, 2, 2, 1, 2, 2, 2, 2, 2, 2, 0, 2, 1, 0, 0, 2, 2, 0,
      1, 2, 1, 2, 2, 0, 2, 2, 2, 0, 2, 2, 2, 0, 2, 0, 1, 2, 2, 1, 1, 1, 2, 0,
      2, 0, 0, 1, 2, 0, 1, 2, 0, 0, 0, 2, 2, 2, 1, 0, 0, 1, 1, 0, 0, 1, 2, 0,
      0, 2, 1, 2, 1, 1, 1, 2, 0, 2, 2, 0, 0, 2, 0, 0, 0, 2, 2, 0, 0, 0, 1, 2,
      2, 1, 2, 1, 0, 0, 1, 1, 0, 0, 1, 1, 2, 2, 2, 2, 1, 1, 2, 0, 2, 2, 0, 0,
      2, 1, 0, 1, 2, 1, 2, 0, 0, 2, 1, 2, 1, 2, 0, 0, 2, 1, 2, 0, 0, 2, 2, 0,
      0, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 1, 0, 1, 1,
      2, 0, 1, 1, 2, 2, 0, 2, 2, 2, 1, 1, 1, 2, 2, 0, 1, 2, 2, 0, 0, 1, 0, 1,
      0, 2, 0, 0, 0, 1, 2, 1, 2, 1, 1, 1, 2, 0, 2, 2, 2, 0, 0, 2, 2, 0, 0, 2,
      1, 0, 0, 2, 2, 2, 0, 0, 2, 1, 0, 2, 2, 1, 2, 2, 0, 2, 2, 2, 0, 1, 2, 0,
      1, 1, 0, 2, 1, 0, 0, 2, 1, 2, 1, 2, 0, 1, 2, 2, 1, 1, 2, 0, 1, 2, 2, 0,
      2, 0, 2, 0, 0, 1, 2, 2, 1, 2, 2, 1, 0, 2, 0, 0, 2, 2, 0, 2, 0, 0, 0, 0,
      1, 0, 1, 2, 1, 2, 2, 0, 1, 2, 1, 0, 1, 2, 1, 0, 2, 2, 0, 2, 2, 0, 0, 1,
      2, 1, 0, 0, 2, 1, 2, 0, 0, 0, 2, 1, 2, 0, 0, 2, 2, 1, 0, 2, 2, 1, 2, 2,
      0, 2, 0, 1, 2, 2, 0, 0, 0, 2, 2, 2, 1, 0, 0, 2, 2, 1, 2, 2, 0, 2, 1, 2,
      0, 2, 1, 2, 2, 2, 0, 2, 1, 0, 0, 2, 2, 0, 2, 2, 2, 2, 2, 2, 0, 0, 2, 1,
      2, 0, 0, 2, 2, 2, 0, 2, 1, 1, 0, 1, 0, 2, 1, 1, 2, 0, 0, 2, 2, 0, 2, 2,
      1, 2, 0, 0, 2, 1, 2, 1, 0, 0, 2, 2, 0, 2, 2, 2, 2, 1, 2, 0, 2, 2, 2, 2,
      2, 2, 0, 1, 1, 0, 2, 2, 2, 2, 2, 0, 1, 1, 2, 2};
};

}  // namespace roshambo_tournament

#endif  // TEXTBOT_H
