Metadata-Version: 2.3
Name: china-stock-mcp
Version: 0.1.16
Summary: MCP server that provides access to Chinese stock market data using akshare
Keywords: akshare,stock,mcp,mcp-server
Author: postback
Author-email: postback <ssf@foxmail.com>
License: MIT
Requires-Dist: akshare>=1.17.67
Requires-Dist: akshare-one>=0.3.12
Requires-Dist: fastmcp>=2.12.4
Requires-Dist: uvicorn>=0.37.0
Requires-Dist: pyarrow
Requires-Python: >=3.12
Project-URL: Homepage, https://github.com/xinkuang/china-stock-mcp
Project-URL: Repository, https://github.com/xinkuang/china-stock-mcp.git
Description-Content-Type: text/markdown

# china-stock-mcp
[![smithery badge](https://smithery.ai/badge/@xinkuang/china-stock-mcp)](https://smithery.ai/server/@xinkuang/china-stock-mcp)
ä¸€æ¬¾åŸºäº [akshare-one](https://github.com/zwldarren/akshare-one) æ„å»ºçš„ MCP (Model Context Protocol) æœåŠ¡å™¨ï¼Œä¸ºä¸­å›½è‚¡å¸‚æ•°æ®æä¾›æ¥å£ã€‚æä¾›äº†ä¸€ç³»åˆ—å·¥å…·ï¼Œç”¨äºè·å–è´¢åŠ¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†å²è‚¡ç¥¨æ•°æ®ã€å®æ—¶æ•°æ®ã€æ–°é—»æ•°æ®ã€è´¢åŠ¡æŠ¥è¡¨ç­‰ã€‚



## ğŸš€ æ ¸å¿ƒç‰¹æ€§

- **åŒæ¨¡å¼è¿è¡Œ**: æ”¯æŒ stdio æœ¬åœ°æ¨¡å¼å’Œ HTTP ç½‘ç»œæ¨¡å¼
- **ä¸°å¯Œçš„è´¢åŠ¡æ•°æ®**: æ¶µç›– A/B/H è‚¡æ•°æ®çš„å…¨æ–¹ä½è·å–
- **å®æ—¶æ•°æ®**: æ”¯æŒå®æ—¶è‚¡ä»·ã€äº¤æ˜“ä¿¡æ¯ç­‰
- **è´¢åŠ¡æŠ¥è¡¨**: èµ„äº§è´Ÿå€ºè¡¨ã€åˆ©æ¶¦è¡¨ã€ç°é‡‘æµé‡è¡¨ç­‰
- **æŠ€æœ¯æŒ‡æ ‡**: 30+ ç§æŠ€æœ¯æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—å’Œæ·»åŠ 
- **æ–°é—»æ•°æ®**: è‚¡ç¥¨ç›¸å…³æ–°é—»å’Œå…¬å‘Šä¿¡æ¯
- **æ˜“ç”¨æ€§**: ç®€å•é…ç½®å³å¯é›†æˆåˆ° AI åŠ©æ‰‹ (Claudeã€Cursor ç­‰)
- **æ•°æ®ç¼“å­˜**: å†…ç½®å†…å­˜å’Œç£ç›˜ç¼“å­˜æœºåˆ¶ï¼Œæé«˜æ•°æ®è·å–æ•ˆç‡å’Œå“åº”é€Ÿåº¦
- **å®¹å™¨åŒ–**: æ”¯æŒ Docker éƒ¨ç½²

## ğŸ› ï¸ æ¶æ„æ¦‚è§ˆ

### ä¸»è¦ç»„ä»¶

- `server.py`: MCP æœåŠ¡å™¨æ ¸å¿ƒï¼Œå®šä¹‰æ‰€æœ‰å·¥å…·å’Œæ•°æ®æ¥å£
- `__main__.py`: å‘½ä»¤è¡Œå…¥å£ï¼Œæ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼
- FastMCP æ¡†æ¶: å¤„ç† MCP åè®®é€šä¿¡
- akshare-one åº“: æä¾›åº•å±‚çš„ä¸­å›½è‚¡å¸‚æ•°æ®è·å–èƒ½åŠ›
- `cache_utils.py`: ç¼“å­˜å·¥å…·ï¼Œæä¾›å†…å­˜å’Œç£ç›˜ç¼“å­˜åŠŸèƒ½

### æ”¯æŒçš„æ•°æ®æº

- \*\*æ•°æ®æºæ•…éšœåˆ‡æ¢\*\*: å†…ç½® \`\_fetch\_data\_with\_fallback\` æœºåˆ¶ï¼Œæ”¯æŒæŒ‰ä¼˜å…ˆçº§è‡ªåŠ¨åˆ‡æ¢æ•°æ®æºã€‚å½“é¦–é€‰æ•°æ®æºå¤±è´¥æˆ–è¿”å›ç©ºæ•°æ®æ—¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å°è¯•å¤‡ç”¨æ•°æ®æºï¼Œä»è€Œæé«˜æ•°æ®è·å–çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚

- ä¸œæ–¹è´¢å¯Œ (eastmoney, eastmoney_direct)
- æ–°æµªè´¢ç» (sina)
- é›ªçƒ (xueqiu)
## ğŸ“‹ å¯ç”¨å·¥å…·

### 1. `è·å–è‚¡ç¥¨çš„å†å²è¡Œæƒ…æ•°æ®ï¼Œæ”¯æŒå¤šç§æ•°æ®æºå’ŒæŠ€æœ¯æŒ‡æ ‡` (get_hist_data)

è·å–è‚¡ç¥¨å†å²è¡Œæƒ…æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `interval` (Literal): æ—¶é—´å‘¨æœŸ: minute, hour, day, week, month, yearã€‚é»˜è®¤:day
- `interval_multiplier` (int): æ—¶é—´å‘¨æœŸä¹˜æ•°
- `start_date` (string): å¼€å§‹æ—¥æœŸï¼Œæ ¼å¼ä¸º YYYY-MM-DD
- `end_date` (string): ç»“æŸæ—¥æœŸï¼Œæ ¼å¼ä¸º YYYY-MM-DD
- `adjust` (Literal): å¤æƒç±»å‹: none, qfq(å‰å¤æƒ), hfq(åå¤æƒ)ã€‚é»˜è®¤ï¼šnone
- \`indicators\_list\` \(string\|list\): è¦æ·»åŠ çš„æŠ€æœ¯æŒ‡æ ‡ï¼Œå¯ä»¥æ˜¯é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚: 'SMA,EMA'ï¼‰æˆ–å­—ç¬¦ä¸²åˆ—è¡¨ï¼ˆä¾‹å¦‚: \['SMA', 'EMA'\]ï¼‰ã€‚æ”¯æŒçš„æŒ‡æ ‡åŒ…æ‹¬: SMA, EMA, RSI, MACD, BOLL, STOCH, ATR, CCI, ADX, WILLR, AD, ADOSC, OBV, MOM, SAR, TSF, APO, AROON, AROONOSC, BOP, CMO, DX, MFI, MINUS\_DI, MINUS\_DM, PLUS\_DI, PLUS\_DM, PPO, ROC, ROCP, ROCR, ROCR100, TRIX, ULTOSCã€‚å¸¸ç”¨æŒ‡æ ‡ï¼šSMA, EMA, RSI, MACD, BOLL, STOCH, OBV, MFI,å»ºè®®ä¸è¶…è¿‡10ä¸ªã€‚
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 2. `è·å–è‚¡ç¥¨çš„å®æ—¶è¡Œæƒ…æ•°æ®ï¼Œæ”¯æŒå¤šç§æ•°æ®æº` (get_realtime_data)

è·å–å®æ—¶è‚¡ç¥¨è¡Œæƒ…æ•°æ®ï¼Œæ”¯æŒçš„æ•°æ®æºåŒ…æ‹¬ï¼šeastmoney, eastmoney\_direct, xueqiuã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 3. `è·å–è‚¡ç¥¨ç›¸å…³çš„æ–°é—»æ•°æ®` (get_news_data)

è·å–è‚¡ç¥¨ç›¸å…³æ–°é—»æ•°æ®.

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 4. `è·å–å…¬å¸çš„èµ„äº§è´Ÿå€ºè¡¨æ•°æ®` (get_balance_sheet)

è·å–å…¬å¸èµ„äº§è´Ÿå€ºè¡¨æ•°æ®.

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 5. `è·å–æŒ‡å®šè‚¡ç¥¨ä»£ç çš„å…¬å¸çš„åˆ©æ¶¦è¡¨æ•°æ®` (get_income_statement)

è·å–å…¬å¸åˆ©æ¶¦è¡¨æ•°æ®.

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 6. `è·å–æŒ‡å®šè‚¡ç¥¨ä»£ç çš„å…¬å¸çš„ç°é‡‘æµé‡è¡¨æ•°æ®` (get_cash_flow)

è·å–å…¬å¸ç°é‡‘æµé‡è¡¨æ•°æ®.

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 7. `è·å–è‚¡ç¥¨çš„è¿‘ 100 ä¸ªäº¤æ˜“æ—¥çš„èµ„é‡‘æµå‘æ•°æ®` (get_fund_flow)

è·å–è‚¡ç¥¨çš„è¿‘ 100 ä¸ªäº¤æ˜“æ—¥çš„èµ„é‡‘æµå‘æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 8. `è·å–å…¬å¸çš„å†…éƒ¨è‚¡ä¸œäº¤æ˜“æ•°æ®` (get_inner_trade_data)

è·å–å…¬å¸å†…éƒ¨è‚¡ä¸œäº¤æ˜“æ•°æ®.

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 9. `è·å–ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨çš„å…³é”®è´¢åŠ¡æŒ‡æ ‡` (get_financial_metrics)

è·å–ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨çš„å…³é”®è´¢åŠ¡æŒ‡æ ‡.

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 10. `è·å–å½“å‰æ—¶é—´ï¼ˆISOæ ¼å¼ã€æ—¶é—´æˆ³ï¼‰å’Œæœ€è¿‘ä¸€ä¸ªäº¤æ˜“æ—¥` (get_time_info)

è·å–å½“å‰æ—¶é—´ï¼ˆISOæ ¼å¼ã€æ—¶é—´æˆ³ï¼‰å’Œæœ€è¿‘ä¸€ä¸ªäº¤æ˜“æ—¥.

**å‚æ•°:** æ— 

### 11. `è·å–æŒ‡å®šè‚¡ç¥¨çš„åŸºæœ¬æ¦‚è¦ä¿¡æ¯` (get_stock_basic_info)

è·å–è‚¡ç¥¨åŸºæœ¬æ¦‚è¦ä¿¡æ¯ï¼Œæ”¯æŒ A è‚¡å’Œæ¸¯è‚¡

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 12. `è·å–å•ä¸ªå®è§‚ç»æµæŒ‡æ ‡æ•°æ®` (get_macro_data)

è·å–å•ä¸ªå®è§‚ç»æµæŒ‡æ ‡æ•°æ®

**å‚æ•°:**
- `indicator` (Literal): è¦è·å–çš„å®è§‚ç»æµæŒ‡æ ‡ã€‚æ”¯æŒçš„æŒ‡æ ‡åŒ…æ‹¬: money_supply, gdp, cpi, pmi, stock_summaryã€‚é»˜è®¤: 'gdp'
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 13. `åˆ†ææ•£æˆ·å’Œæœºæ„æŠ•èµ„è€…çš„æŠ•èµ„æƒ…ç»ª` (get_investor_sentiment)

åˆ†ææ•£æˆ·å’Œæœºæ„æŠ•èµ„è€…çš„æŠ•èµ„æƒ…ç»ª

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 14. `è·å–æŒ‡å®šè‚¡ç¥¨çš„è‚¡ä¸œæƒ…å†µ` (get_shareholder_info)

è·å–è‚¡ä¸œæƒ…å†µ

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 15. `è·å–æŒ‡å®šè‚¡ç¥¨å…¬å¸çš„ä¸»è¦äº§å“æˆ–ä¸šåŠ¡æ„æˆ` (get_product_info)

è·å–äº§å“æƒ…å†µ

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 16. `è·å–è‚¡ç¥¨çš„ä¸šç»©é¢„æµ‹æ•°æ®ï¼ŒåŒ…æ‹¬é¢„æµ‹å¹´æŠ¥å‡€åˆ©æ¶¦å’Œæ¯è‚¡æ”¶ç›Š` (get_profit_forecast)

è·å–è‚¡ç¥¨çš„ä¸šç»©é¢„æµ‹æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '600519')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 17. `è·å–åˆ†çº¢é€è‚¡è¯¦æƒ…` (get_stock_fhps_detail)

è·å–æŒ‡å®šè‚¡ç¥¨çš„åˆ†çº¢é€è‚¡è¯¦æƒ…æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown
### 18. `è·å–ç­¹ç åˆ†å¸ƒæ•°æ®` (get_stock_cyq)

è·å–æŒ‡å®šè‚¡ç¥¨çš„ç­¹ç åˆ†å¸ƒæ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `date` (string): æŸ¥è¯¢æ—¥æœŸï¼Œæ ¼å¼ä¸º YYYY-MM-DD
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown
### 19. `è·å–è‚¡ç¥¨ç ”ç©¶æŠ¥å‘Š` (get_stock_research_report)

è·å–æŒ‡å®šè‚¡ç¥¨çš„ç ”ç©¶æŠ¥å‘Šæ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 20. `è·å–æµé€šè‚¡ä¸œæ•°æ®` (get_stock_circulate_stock_holder)

è·å–æŒ‡å®šè‚¡ç¥¨çš„æµé€šè‚¡ä¸œæ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 21. `è·å–é«˜ç®¡å˜åŠ¨æ•°æ®` (get_stock_management_change)

è·å–æŒ‡å®šè‚¡ç¥¨çš„é«˜ç®¡å˜åŠ¨æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown


### 22. `è·å–é™å”®è§£ç¦æ•°æ®` (get_stock_restricted_release_queue)

è·å–æŒ‡å®šè‚¡ç¥¨çš„é™å”®è§£ç¦æ•°æ®ã€‚


**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown



### 23. `è·å– A è‚¡ä»£ç å’Œåç§°` (get_stock_a_code_name)

è·å–æ‰€æœ‰ A è‚¡è‚¡ç¥¨çš„ä»£ç å’Œåç§°ã€‚

**å‚æ•°:**
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown


### 24. `è·å–è‚¡ç¥¨ä¼°å€¼æ•°æ®` (get_stock_value)

è·å–æŒ‡å®šè‚¡ç¥¨çš„ä¼°å€¼æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 25. `è®¡ç®—æŒ‡å®šä¸ªè‚¡çš„æ³¢åŠ¨ç‡æŒ‡æ ‡` (get_stock_volatility)

é€šè¿‡åˆ†é’Ÿçº§å†å²è¡Œæƒ…è®¡ç®—æŒ‡å®šä¸ªè‚¡çš„æ³¢åŠ¨ç‡æŒ‡æ ‡ã€‚
**å‚æ•°:**
- `symbol` (string): è‚¡ç¥¨ä»£ç  (ä¾‹å¦‚: '000001')
- `start_date`(string): å¼€å§‹æ—¥æœŸ
- `end_date`(string): ç»“æŸæ—¥æœŸ
- `period` (int): æ—¶é—´å‘¨æœŸï¼Œåˆ†é’Ÿçº§åˆ« (ä¾‹å¦‚: '1', '5', '15', '30', '60')")
- `adjust`(string): å¤æƒç±»å‹: none, qfq(å‰å¤æƒ), hfq(åå¤æƒ)ã€‚é»˜è®¤ï¼šnone
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 26. `è·å–æ‰€æœ‰æŒ‡æ•°çš„ä»£ç å’ŒåŸºæœ¬ä¿¡æ¯` (get_all_cni_indices)

è·å–æ‰€æœ‰æŒ‡æ•°çš„ä»£ç å’ŒåŸºæœ¬ä¿¡æ¯ï¼Œå»é™¤å®æ—¶å˜åŠ¨æ•°æ®å¹¶æ”¯æŒç¼“å­˜ã€‚

**å‚æ•°:**
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 27. `è·å–æŒ‡å®šæŒ‡æ•°çš„æ—¥é¢‘ç‡å†å²è¡Œæƒ…æ•°æ®` (get_cni_index_hist)

è·å–æŒ‡å®šæŒ‡æ•°çš„æ—¥é¢‘ç‡å†å²è¡Œæƒ…æ•°æ®ã€‚

**å‚æ•°:**
- `symbol` (string): æŒ‡æ•°ä»£ç  (ä¾‹å¦‚: '399005')
- `start_date` (string): å¼€å§‹æ—¥æœŸï¼Œæ ¼å¼ä¸º YYYYMMDD (ä¾‹å¦‚: '20230114')
- `end_date` (string): ç»“æŸæ—¥æœŸï¼Œæ ¼å¼ä¸º YYYYMMDD (ä¾‹å¦‚: '20240114')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 28. `è·å–æŒ‡å®šæŒ‡æ•°çš„æˆåˆ†è‚¡æ ·æœ¬è¯¦æƒ…` (get_cni_index_detail)

è·å–æŒ‡å®šæŒ‡æ•°çš„æˆåˆ†è‚¡æ ·æœ¬è¯¦æƒ…ã€‚

**å‚æ•°:**
- `symbol` (string): æŒ‡æ•°ä»£ç  (ä¾‹å¦‚: '399001')
- `date` (string): æ—¥æœŸï¼Œæ ¼å¼ä¸º YYYYMM (ä¾‹å¦‚: '202404')
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 29. `è·å–æŠ€æœ¯é€‰è‚¡æŒ‡æ ‡æ•°æ®ï¼ŒåŒ…æ‹¬åˆ›æ–°é«˜ã€åˆ›æ–°ä½ã€è¿ç»­ä¸Šæ¶¨ã€è¿ç»­ä¸‹è·Œã€æŒç»­æ”¾é‡ã€æŒç»­ç¼©é‡ã€å‘ä¸Šçªç ´ã€å‘ä¸‹çªç ´ã€é‡ä»·é½å‡ã€é‡ä»·é½è·Œã€é™©èµ„ä¸¾ç‰Œã€‚`(get_stock_technical_rank)

**å‚æ•°:**
- `indicator_name` (string): è¦è·å–çš„æŠ€æœ¯æŒ‡æ ‡åç§° (ä¾‹å¦‚: åˆ›æ–°é«˜-åˆ›æœˆæ–°é«˜,  åˆ›æ–°é«˜-åŠå¹´æ–°é«˜,  åˆ›æ–°é«˜-ä¸€å¹´æ–°é«˜,  åˆ›æ–°é«˜-å†å²æ–°é«˜,  åˆ›æ–°ä½-åˆ›æœˆæ–°ä½,  åˆ›æ–°ä½-åŠå¹´æ–°ä½,  åˆ›æ–°ä½-ä¸€å¹´æ–°ä½,  åˆ›æ–°ä½-å†å²æ–°ä½,  è¿ç»­ä¸Šæ¶¨,  è¿ç»­ä¸‹è·Œ,  æŒç»­æ”¾é‡,  æŒç»­ç¼©é‡,  å‘ä¸Šçªç ´-5æ—¥å‡çº¿,  å‘ä¸Šçªç ´-10æ—¥å‡çº¿,  å‘ä¸Šçªç ´-20æ—¥å‡çº¿,  å‘ä¸Šçªç ´-30æ—¥å‡çº¿,  å‘ä¸Šçªç ´-60æ—¥å‡çº¿,  å‘ä¸Šçªç ´-90æ—¥å‡çº¿,  å‘ä¸Šçªç ´-250æ—¥å‡çº¿,  å‘ä¸Šçªç ´-500æ—¥å‡çº¿,  å‘ä¸‹çªç ´-5æ—¥å‡çº¿,  å‘ä¸‹çªç ´-10æ—¥å‡çº¿,  å‘ä¸‹çªç ´-20æ—¥å‡çº¿,  å‘ä¸‹çªç ´-30æ—¥å‡çº¿,  å‘ä¸‹çªç ´-60æ—¥å‡çº¿,  å‘ä¸‹çªç ´-90æ—¥å‡çº¿,  å‘ä¸‹çªç ´-250æ—¥å‡çº¿,  å‘ä¸‹çªç ´-500æ—¥å‡çº¿,  é‡ä»·é½å‡,  é‡ä»·é½è·Œ,  é™©èµ„ä¸¾ç‰Œ)
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

### 30. `è·å–æ‰€æœ‰è¡Œä¸šæ¿å—å®æ—¶è¡Œæƒ…æ•°æ®` (get_stock_board_industry_summary)
**å‚æ•°:**
- `output_format` (Literal): è¾“å‡ºæ•°æ®æ ¼å¼: json, csv, xml, excel, markdown, htmlã€‚é»˜è®¤:markdown

## ğŸš€ å®‰è£…å’Œè¿è¡Œ
### æ–¹æ³•ä¸€: ä½¿ç”¨ Smithery

é€šè¿‡ [Smithery](https://smithery.ai/server/@xinkuang/china-stock-mcp) è‡ªåŠ¨å®‰è£…åˆ° Claude Desktopï¼š

```bash
npx -y @smithery/cli install @xinkuang/china-stock-mcp
```

### æ–¹æ³•äºŒ: ä½¿ç”¨ Docker

#### 1. æ‹‰å–é•œåƒ
```bash
docker pull ghcr.io/xinkuang/china-stock-mcp:latest
```

#### 2. è¿è¡Œå®¹å™¨
```bash
docker run -p 8081:8081 ghcr.io/xinkuang/china-stock-mcp:latest
```

### æ–¹æ³•ä¸‰: æœ¬åœ°æºä»£ç å®‰è£…

#### 1. ç¯å¢ƒè¦æ±‚
- Python 3.12+
- Git
- uv (æ¨èçš„ Python åŒ…ç®¡ç†å™¨)

#### 2. å…‹éš†ä»“åº“
```bash
git clone https://github.com/xinkuang/china-stock-mcp
cd china-stock-mcp
```

#### 3. å®‰è£…ä¾èµ–
```bash
# æ¨èä½¿ç”¨ uv åŒ…ç®¡ç†å™¨
uv sync

# æˆ–è€…ä½¿ç”¨ pip
pip install -r requirements.txt
```

#### 4. è¿è¡ŒæœåŠ¡å™¨

**stdio æ¨¡å¼ (é»˜è®¤ï¼Œé€‚ç”¨äºæœ¬åœ° MCP å®¢æˆ·ç«¯):**
```bash
uv run -m china_stock_mcp
```

**HTTP æ¨¡å¼ (é€‚ç”¨äºè¿œç¨‹è®¿é—®):**
```bash
uv run -m china_stock_mcp --streamable-http --host 0.0.0.0 --port 8081
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:8081/mcp` æä¾›æœåŠ¡ã€‚

## âš™ï¸ MCP é…ç½®ç¤ºä¾‹

### Claude Desktop é…ç½®

ç¼–è¾‘ `claude_desktop_config.json`ï¼š

**æ–¹å¼ä¸€: æœ¬åœ°æºä»£ç **
```json
{
  "mcpServers": {
    "china-stock-mcp": {
      "command": "uv",
      "args": [
        "--directory",
        "/path/to/china_stock_mcp",
        "run",
        "china-stock-mcp"
      ]
    }
  }
}
```

**æ–¹å¼äºŒ: é€šè¿‡ uvx**
```json
{
    "mcpServers": {
        "china-stock-mcp": {
            "command": "uvx",
            "args": [
              "china-stock-mcp"
            ]
        }
    }
}
```

**æ–¹å¼ä¸‰: HTTP æ¨¡å¼**
```json
{
  "mcpServers": {
    "china-stock-mcp": {
      "command": "uvx",
      "args": ["china-stock-mcp", "--streamable-http", "--host", "0.0.0.0", "--port", "8081"],
      "env": {
        "MCP_BASE_URL": "http://localhost:8081/mcp"
      }
    }
  }
}
```

### å…¶ä»– AI å®¢æˆ·ç«¯é…ç½®

**Cursor:**
```json
{
  "mcpServers": {
    "china-stock-mcp": {
      "command": "uvx",
      "args": [ "china-stock-mcp"]
    }
  }
}
```

**Clion with MCP:**
```json
{
  "mcpServers": {
    "china-stock-mcp": {
      "command": "uvx",
    "args": [ "china-stock-mcp"]
    }
  }
}
```

## ğŸƒâ€â™‚ï¸ å‘½ä»¤è¡Œå‚æ•°

- `--streamable-http`: å¯ç”¨ HTTP å¯æµå¼æ¨¡å¼ (é»˜è®¤: stdio æ¨¡å¼)
- `--host`: HTTP æ¨¡å¼ä¸‹çš„ç»‘å®šä¸»æœº (é»˜è®¤: 0.0.0.0)
- `--port`: HTTP æ¨¡å¼ä¸‹çš„ç›‘å¬ç«¯å£ (é»˜è®¤: 8081)

## ğŸ“Š æ•°æ®æ”¯æŒèŒƒå›´

### è‚¡ç¥¨å¸‚åœº
- Aè‚¡ (ä¸Šè¯ã€æ·±è¯)
- Bè‚¡
- Hè‚¡ (æ¸¯è‚¡)
- ä¸­å°æ¿ã€åˆ›ä¸šæ¿ã€æ–°ä¸‰æ¿

### æ•°æ®ç±»å‹
- å†å²è¡Œæƒ…æ•°æ® (åˆ†é’Ÿçº§ã€å°æ—¶çº§ã€æ—¥çº§ã€å‘¨çº§ã€æœˆçº§ã€å¹´çº§)
- å®æ—¶è¡Œæƒ…æ•°æ®
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- æ–°é—»èµ„è®¯
- è´¢åŠ¡æŠ¥è¡¨ (èµ„äº§è´Ÿå€ºè¡¨ã€åˆ©æ¶¦è¡¨ã€ç°é‡‘æµé‡è¡¨)
- è´¢åŠ¡æŒ‡æ ‡
- å†…éƒ¨äº¤æ˜“æ•°æ®

## ğŸ”§ å¼€å‘å’Œè´¡çŒ®

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/xinkuang/china-stock-mcp
cd china-stock-mcp
```

2. å®‰è£…å¼€å‘ä¾èµ–
```bash
uv sync --dev
```

3. è¿›å…¥å¼€å‘æ¨¡å¼
```bash
uv run -m china_stock_mcp
```

### ä»£ç ç»“æ„

```
src/china_stock_mcp/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ __main__.py    # å‘½ä»¤è¡Œå…¥å£ï¼Œå¤„ç†å¯åŠ¨å‚æ•°
â”œâ”€â”€ server.py      # MCP æœåŠ¡å™¨æ ¸å¿ƒï¼Œå®šä¹‰æ‰€æœ‰å·¥å…·
â”œâ”€â”€ mcp.json       # MCP é…ç½®è§„èŒƒ (å¯é€‰)
â””â”€â”€ py.typed       # ç±»å‹æ ‡æ³¨æ–‡ä»¶
```

### æ·»åŠ æ–°å·¥å…·

åœ¨ `server.py` ä¸­ä½¿ç”¨ `@mcp.tool` è£…é¥°å™¨æ·»åŠ æ–°å·¥å…·ï¼š

```python
@mcp.tool(name="å·¥å…·ä¸­æ–‡åç§°", description="å·¥å…·çš„ä¸­æ–‡æè¿°")
def your_tool_name(param1: Annotated[str, Field(description="å‚æ•°æè¿°")]) -> str:
    """å·¥å…·è¯¦æƒ…æè¿°"""
    # å®ç°é€»è¾‘
    pass
```

## ğŸ“ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ™‹â€â™‚ï¸ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæ— æ³•è·å–æ•°æ®ï¼Ÿ**
A: è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œæ•°æ®æºå¯ç”¨æ€§ã€‚æŸäº›æ•°æ®æºå¯èƒ½æœ‰è®¿é—®é™åˆ¶ã€‚

**Q: HTTP æ¨¡å¼ä¸‹æ— æ³•è¿æ¥ï¼Ÿ**
A: ç¡®è®¤ç«¯å£ 8081 æœªè¢«å…¶ä»–æœåŠ¡å ç”¨ï¼Œä¸”é˜²ç«å¢™å…è®¸ç›¸åº”ç«¯å£çš„è®¿é—®ã€‚

**Q: å¦‚ä½•æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Ÿ**
A: ä½¿ç”¨ Smithery å®‰è£…çš„å¯ä»¥è‡ªåŠ¨æ›´æ–°ï¼Œæ‰‹åŠ¨å®‰è£…çš„è¯·é‡æ–°æ‹‰å–ä»“åº“ä»£ç ã€‚
## ğŸ è°ƒè¯•

æœ‰å…³å¦‚ä½•ä½¿ç”¨ @modelcontextprotocol/inspector è°ƒè¯•æ­¤æœåŠ¡å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [DEBUG.md](DEBUG.md)ã€‚

