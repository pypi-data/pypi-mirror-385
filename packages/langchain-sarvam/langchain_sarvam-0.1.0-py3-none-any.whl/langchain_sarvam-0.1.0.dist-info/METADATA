Metadata-Version: 2.4
Name: langchain-sarvam
Version: 0.1.0
Summary: An integration package connecting sarvam-AI and LangChain
Project-URL: Homepage, https://github.com/parth1609/langchain_sarvam
Project-URL: Repository, https://github.com/parth1609/langchain_sarvam
Author-email: Parth1609 <parthgajananpatil@gmail.com>
License-Expression: MIT
License-File: LICENSE
Keywords: ai,chat,langchain,llm,sarvam
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Requires-Python: >=3.9
Requires-Dist: langchain-core<1.0.0,>=0.3.15
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: sarvamai>=0.1.0
Description-Content-Type: text/markdown

# langchain-sarvam

Integration package connecting Sarvam AI chat completions with LangChain.

## Installation (dev, from monorepo)

```powershell
# From repo root
python -m pip install -e libs/partners/sarvam
```

Or with `uv` inside the package:

```powershell
# From libs/partners/sarvam/
uv sync
```

## Setup

```powershell
$Env:SARVAM_API_KEY = "your_api_key"
```

## Usage

```python
from langchain_sarvam import ChatSarvam

llm = ChatSarvam(model="sarvam-m", temperature=0.2, max_tokens=128)
resp = llm.invoke([("system", "You are helpful"), ("human", "Hello!")])
print(resp.content)
```

Streaming:

```python
for chunk in ChatSarvam(model="sarvam-m", streaming=True).stream("Tell me a joke"):
    print(chunk.text, end="")
```

## Testing

- On Windows, running tests with `pytest-socket` and `--disable-socket` can block asyncio event loop creation. The async test `test_sarvam_ainvoke` is marked with `@pytest.mark.enable_socket` to allow loop setup only for that test; all other tests remain socket-restricted.
- Run the suite with sockets disabled (safe for the rest of the tests):

```powershell
uv run --group test pytest --disable-socket --allow-unix-socket tests/unit_tests -q
```

Or without `uv`:

```powershell
pytest --disable-socket --allow-unix-socket tests/unit_tests -q
```

## Development

- Tests: `pytest tests/unit_tests -q`
- Type check: `mypy .`
- Lint: `ruff check .`
