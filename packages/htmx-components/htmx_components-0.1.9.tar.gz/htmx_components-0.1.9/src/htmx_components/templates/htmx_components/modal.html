<div id="modal" class="modal fade" tabindex="-1" role="dialog"
     hx-swap="none" hx-swap-oob="innerHTML" hx-boost="true">
    <div class="modal-dialog {{ modal.dialog_classes|join:' ' }}"
         role="document">
        <div id="modal-content" class="modal-content">
            {% block modal_content %}
            <div id="modal-header" class="modal-header">
                {% block modal_header %}
                <h5 class="modal-title" class="modal-title">
                    {% block modal_title %}{{ modal.title }}{% endblock modal_title %}
                </h5>
                {% block modal_close_button %}
                <button type="button" class="btn btn-sm text-danger btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                {% endblock modal_close_button %}
                {% endblock modal_header %}
            </div>
            <div id="modal-body" class="modal-body">
                {% block modal_before_body %}{{ modal.before_body }}{% endblock modal_before_body %}
                {% block modal_body %}{{ modal.body }}{% endblock modal_body %}
                {% block modal_after_body %}{{ modal.after_body }}{% endblock modal_after_body %}
            </div>
            <div id="modal-footer" class="modal-footer pr-5">
                {% block modal_footer %}
                {% if modal_footer %}
                {{ modal_footer }}
                {% else %}
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Schlie√üen</button>
                {% endif %}
                {% endblock modal_footer %}
            </div>
            {% endblock modal_content %}
            {% block modal_scripts_wrapper %}
            {% endblock modal_scripts_wrapper %}
        </div>
    </div>
</div>
{% if not request.htmx %}
<script>
    htmx.on('modal:show', () => {
      const modal = new bootstrap.Modal(document.getElementById('modal'));
      modal.show();
      console.log('Modal shown');
    });
    htmx.on('modal:hide', () => {
      const modal = bootstrap.Modal.getInstance(document.getElementById('modal'));
      if (modal) {
        modal.hide();
        console.log('Modal hidden');
      }
    });
</script>
{% endif%}