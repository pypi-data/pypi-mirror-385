# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.json_schema import JsonSchema
from ..types.structured_output import StructuredOutput
from ..types.structured_output_paginated_response import StructuredOutputPaginatedResponse
from .raw_client import AsyncRawStructuredOutputsClient, RawStructuredOutputsClient
from .types.create_structured_output_dto_model import CreateStructuredOutputDtoModel
from .types.structured_output_controller_find_all_request_sort_order import (
    StructuredOutputControllerFindAllRequestSortOrder,
)
from .types.update_structured_output_dto_model import UpdateStructuredOutputDtoModel

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class StructuredOutputsClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawStructuredOutputsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawStructuredOutputsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawStructuredOutputsClient
        """
        return self._raw_client

    def structured_output_controller_find_all(
        self,
        *,
        id: typing.Optional[str] = None,
        name: typing.Optional[str] = None,
        page: typing.Optional[float] = None,
        sort_order: typing.Optional[StructuredOutputControllerFindAllRequestSortOrder] = None,
        limit: typing.Optional[float] = None,
        created_at_gt: typing.Optional[dt.datetime] = None,
        created_at_lt: typing.Optional[dt.datetime] = None,
        created_at_ge: typing.Optional[dt.datetime] = None,
        created_at_le: typing.Optional[dt.datetime] = None,
        updated_at_gt: typing.Optional[dt.datetime] = None,
        updated_at_lt: typing.Optional[dt.datetime] = None,
        updated_at_ge: typing.Optional[dt.datetime] = None,
        updated_at_le: typing.Optional[dt.datetime] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> StructuredOutputPaginatedResponse:
        """
        Parameters
        ----------
        id : typing.Optional[str]
            This will return structured outputs where the id matches the specified value.

        name : typing.Optional[str]
            This will return structured outputs where the name matches the specified value.

        page : typing.Optional[float]
            This is the page number to return. Defaults to 1.

        sort_order : typing.Optional[StructuredOutputControllerFindAllRequestSortOrder]
            This is the sort order for pagination. Defaults to 'DESC'.

        limit : typing.Optional[float]
            This is the maximum number of items to return. Defaults to 100.

        created_at_gt : typing.Optional[dt.datetime]
            This will return items where the createdAt is greater than the specified value.

        created_at_lt : typing.Optional[dt.datetime]
            This will return items where the createdAt is less than the specified value.

        created_at_ge : typing.Optional[dt.datetime]
            This will return items where the createdAt is greater than or equal to the specified value.

        created_at_le : typing.Optional[dt.datetime]
            This will return items where the createdAt is less than or equal to the specified value.

        updated_at_gt : typing.Optional[dt.datetime]
            This will return items where the updatedAt is greater than the specified value.

        updated_at_lt : typing.Optional[dt.datetime]
            This will return items where the updatedAt is less than the specified value.

        updated_at_ge : typing.Optional[dt.datetime]
            This will return items where the updatedAt is greater than or equal to the specified value.

        updated_at_le : typing.Optional[dt.datetime]
            This will return items where the updatedAt is less than or equal to the specified value.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutputPaginatedResponse


        Examples
        --------
        import datetime

        from vapi import Vapi

        client = Vapi(
            token="YOUR_TOKEN",
        )
        client.structured_outputs.structured_output_controller_find_all(
            id="id",
            name="name",
            page=1.1,
            sort_order="ASC",
            limit=1.1,
            created_at_gt=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            created_at_lt=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            created_at_ge=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            created_at_le=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            updated_at_gt=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            updated_at_lt=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            updated_at_ge=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
            updated_at_le=datetime.datetime.fromisoformat(
                "2024-01-15 09:30:00+00:00",
            ),
        )
        """
        _response = self._raw_client.structured_output_controller_find_all(
            id=id,
            name=name,
            page=page,
            sort_order=sort_order,
            limit=limit,
            created_at_gt=created_at_gt,
            created_at_lt=created_at_lt,
            created_at_ge=created_at_ge,
            created_at_le=created_at_le,
            updated_at_gt=updated_at_gt,
            updated_at_lt=updated_at_lt,
            updated_at_ge=updated_at_ge,
            updated_at_le=updated_at_le,
            request_options=request_options,
        )
        return _response.data

    def structured_output_controller_create(
        self,
        *,
        name: str,
        schema: JsonSchema,
        model: typing.Optional[CreateStructuredOutputDtoModel] = OMIT,
        description: typing.Optional[str] = OMIT,
        assistant_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        workflow_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        name : str
            This is the name of the structured output.

        schema : JsonSchema
            This is the JSON Schema definition for the structured output.

            This is required when creating a structured output. Defines the structure and validation rules for the data that will be extracted. Supports all JSON Schema features including:
            - Objects and nested properties
            - Arrays and array validation
            - String, number, boolean, and null types
            - Enums and const values
            - Validation constraints (min/max, patterns, etc.)
            - Composition with allOf, anyOf, oneOf

        model : typing.Optional[CreateStructuredOutputDtoModel]
            This is the model that will be used to extract the structured output.

            To provide your own custom system and user prompts for structured output extraction, populate the messages array with your system and user messages. You can specify liquid templating in your system and user messages.
            Between the system or user messages, you must reference either 'transcript' or 'messages' with the '{{}}' syntax to access the conversation history.
            Between the system or user messages, you must reference a variation of the structured output with the '{{}}' syntax to access the structured output definition.
            i.e.:
            {{structuredOutput}}
            {{structuredOutput.name}}
            {{structuredOutput.description}}
            {{structuredOutput.schema}}

            If model is not specified, GPT-4.1 will be used by default for extraction, utilizing default system and user prompts.
            If messages or required fields are not specified, the default system and user prompts will be used.

        description : typing.Optional[str]
            This is the description of what the structured output extracts.

            Use this to provide context about what data will be extracted and how it will be used.

        assistant_ids : typing.Optional[typing.Sequence[str]]
            These are the assistant IDs that this structured output is linked to.

            When linked to assistants, this structured output will be available for extraction during those assistant's calls.

        workflow_ids : typing.Optional[typing.Sequence[str]]
            These are the workflow IDs that this structured output is linked to.

            When linked to workflows, this structured output will be available for extraction during those workflow's execution.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        from vapi import JsonSchema, Vapi

        client = Vapi(
            token="YOUR_TOKEN",
        )
        client.structured_outputs.structured_output_controller_create(
            name="name",
            schema=JsonSchema(
                type="string",
            ),
        )
        """
        _response = self._raw_client.structured_output_controller_create(
            name=name,
            schema=schema,
            model=model,
            description=description,
            assistant_ids=assistant_ids,
            workflow_ids=workflow_ids,
            request_options=request_options,
        )
        return _response.data

    def structured_output_controller_find_one(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        from vapi import Vapi

        client = Vapi(
            token="YOUR_TOKEN",
        )
        client.structured_outputs.structured_output_controller_find_one(
            id="id",
        )
        """
        _response = self._raw_client.structured_output_controller_find_one(id, request_options=request_options)
        return _response.data

    def structured_output_controller_remove(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        from vapi import Vapi

        client = Vapi(
            token="YOUR_TOKEN",
        )
        client.structured_outputs.structured_output_controller_remove(
            id="id",
        )
        """
        _response = self._raw_client.structured_output_controller_remove(id, request_options=request_options)
        return _response.data

    def structured_output_controller_update(
        self,
        id: str,
        *,
        schema_override: str,
        model: typing.Optional[UpdateStructuredOutputDtoModel] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        assistant_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        workflow_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        schema: typing.Optional[JsonSchema] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        id : str

        schema_override : str

        model : typing.Optional[UpdateStructuredOutputDtoModel]
            This is the model that will be used to extract the structured output.

            To provide your own custom system and user prompts for structured output extraction, populate the messages array with your system and user messages. You can specify liquid templating in your system and user messages.
            Between the system or user messages, you must reference either 'transcript' or 'messages' with the '{{}}' syntax to access the conversation history.
            Between the system or user messages, you must reference a variation of the structured output with the '{{}}' syntax to access the structured output definition.
            i.e.:
            {{structuredOutput}}
            {{structuredOutput.name}}
            {{structuredOutput.description}}
            {{structuredOutput.schema}}

            If model is not specified, GPT-4.1 will be used by default for extraction, utilizing default system and user prompts.
            If messages or required fields are not specified, the default system and user prompts will be used.

        name : typing.Optional[str]
            This is the name of the structured output.

        description : typing.Optional[str]
            This is the description of what the structured output extracts.

            Use this to provide context about what data will be extracted and how it will be used.

        assistant_ids : typing.Optional[typing.Sequence[str]]
            These are the assistant IDs that this structured output is linked to.

            When linked to assistants, this structured output will be available for extraction during those assistant's calls.

        workflow_ids : typing.Optional[typing.Sequence[str]]
            These are the workflow IDs that this structured output is linked to.

            When linked to workflows, this structured output will be available for extraction during those workflow's execution.

        schema : typing.Optional[JsonSchema]
            This is the JSON Schema definition for the structured output.

            Defines the structure and validation rules for the data that will be extracted. Supports all JSON Schema features including:
            - Objects and nested properties
            - Arrays and array validation
            - String, number, boolean, and null types
            - Enums and const values
            - Validation constraints (min/max, patterns, etc.)
            - Composition with allOf, anyOf, oneOf

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        from vapi import Vapi

        client = Vapi(
            token="YOUR_TOKEN",
        )
        client.structured_outputs.structured_output_controller_update(
            id="id",
            schema_override="schemaOverride",
        )
        """
        _response = self._raw_client.structured_output_controller_update(
            id,
            schema_override=schema_override,
            model=model,
            name=name,
            description=description,
            assistant_ids=assistant_ids,
            workflow_ids=workflow_ids,
            schema=schema,
            request_options=request_options,
        )
        return _response.data


class AsyncStructuredOutputsClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawStructuredOutputsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawStructuredOutputsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawStructuredOutputsClient
        """
        return self._raw_client

    async def structured_output_controller_find_all(
        self,
        *,
        id: typing.Optional[str] = None,
        name: typing.Optional[str] = None,
        page: typing.Optional[float] = None,
        sort_order: typing.Optional[StructuredOutputControllerFindAllRequestSortOrder] = None,
        limit: typing.Optional[float] = None,
        created_at_gt: typing.Optional[dt.datetime] = None,
        created_at_lt: typing.Optional[dt.datetime] = None,
        created_at_ge: typing.Optional[dt.datetime] = None,
        created_at_le: typing.Optional[dt.datetime] = None,
        updated_at_gt: typing.Optional[dt.datetime] = None,
        updated_at_lt: typing.Optional[dt.datetime] = None,
        updated_at_ge: typing.Optional[dt.datetime] = None,
        updated_at_le: typing.Optional[dt.datetime] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> StructuredOutputPaginatedResponse:
        """
        Parameters
        ----------
        id : typing.Optional[str]
            This will return structured outputs where the id matches the specified value.

        name : typing.Optional[str]
            This will return structured outputs where the name matches the specified value.

        page : typing.Optional[float]
            This is the page number to return. Defaults to 1.

        sort_order : typing.Optional[StructuredOutputControllerFindAllRequestSortOrder]
            This is the sort order for pagination. Defaults to 'DESC'.

        limit : typing.Optional[float]
            This is the maximum number of items to return. Defaults to 100.

        created_at_gt : typing.Optional[dt.datetime]
            This will return items where the createdAt is greater than the specified value.

        created_at_lt : typing.Optional[dt.datetime]
            This will return items where the createdAt is less than the specified value.

        created_at_ge : typing.Optional[dt.datetime]
            This will return items where the createdAt is greater than or equal to the specified value.

        created_at_le : typing.Optional[dt.datetime]
            This will return items where the createdAt is less than or equal to the specified value.

        updated_at_gt : typing.Optional[dt.datetime]
            This will return items where the updatedAt is greater than the specified value.

        updated_at_lt : typing.Optional[dt.datetime]
            This will return items where the updatedAt is less than the specified value.

        updated_at_ge : typing.Optional[dt.datetime]
            This will return items where the updatedAt is greater than or equal to the specified value.

        updated_at_le : typing.Optional[dt.datetime]
            This will return items where the updatedAt is less than or equal to the specified value.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutputPaginatedResponse


        Examples
        --------
        import asyncio
        import datetime

        from vapi import AsyncVapi

        client = AsyncVapi(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.structured_outputs.structured_output_controller_find_all(
                id="id",
                name="name",
                page=1.1,
                sort_order="ASC",
                limit=1.1,
                created_at_gt=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                created_at_lt=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                created_at_ge=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                created_at_le=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                updated_at_gt=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                updated_at_lt=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                updated_at_ge=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
                updated_at_le=datetime.datetime.fromisoformat(
                    "2024-01-15 09:30:00+00:00",
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.structured_output_controller_find_all(
            id=id,
            name=name,
            page=page,
            sort_order=sort_order,
            limit=limit,
            created_at_gt=created_at_gt,
            created_at_lt=created_at_lt,
            created_at_ge=created_at_ge,
            created_at_le=created_at_le,
            updated_at_gt=updated_at_gt,
            updated_at_lt=updated_at_lt,
            updated_at_ge=updated_at_ge,
            updated_at_le=updated_at_le,
            request_options=request_options,
        )
        return _response.data

    async def structured_output_controller_create(
        self,
        *,
        name: str,
        schema: JsonSchema,
        model: typing.Optional[CreateStructuredOutputDtoModel] = OMIT,
        description: typing.Optional[str] = OMIT,
        assistant_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        workflow_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        name : str
            This is the name of the structured output.

        schema : JsonSchema
            This is the JSON Schema definition for the structured output.

            This is required when creating a structured output. Defines the structure and validation rules for the data that will be extracted. Supports all JSON Schema features including:
            - Objects and nested properties
            - Arrays and array validation
            - String, number, boolean, and null types
            - Enums and const values
            - Validation constraints (min/max, patterns, etc.)
            - Composition with allOf, anyOf, oneOf

        model : typing.Optional[CreateStructuredOutputDtoModel]
            This is the model that will be used to extract the structured output.

            To provide your own custom system and user prompts for structured output extraction, populate the messages array with your system and user messages. You can specify liquid templating in your system and user messages.
            Between the system or user messages, you must reference either 'transcript' or 'messages' with the '{{}}' syntax to access the conversation history.
            Between the system or user messages, you must reference a variation of the structured output with the '{{}}' syntax to access the structured output definition.
            i.e.:
            {{structuredOutput}}
            {{structuredOutput.name}}
            {{structuredOutput.description}}
            {{structuredOutput.schema}}

            If model is not specified, GPT-4.1 will be used by default for extraction, utilizing default system and user prompts.
            If messages or required fields are not specified, the default system and user prompts will be used.

        description : typing.Optional[str]
            This is the description of what the structured output extracts.

            Use this to provide context about what data will be extracted and how it will be used.

        assistant_ids : typing.Optional[typing.Sequence[str]]
            These are the assistant IDs that this structured output is linked to.

            When linked to assistants, this structured output will be available for extraction during those assistant's calls.

        workflow_ids : typing.Optional[typing.Sequence[str]]
            These are the workflow IDs that this structured output is linked to.

            When linked to workflows, this structured output will be available for extraction during those workflow's execution.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        import asyncio

        from vapi import AsyncVapi, JsonSchema

        client = AsyncVapi(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.structured_outputs.structured_output_controller_create(
                name="name",
                schema=JsonSchema(
                    type="string",
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.structured_output_controller_create(
            name=name,
            schema=schema,
            model=model,
            description=description,
            assistant_ids=assistant_ids,
            workflow_ids=workflow_ids,
            request_options=request_options,
        )
        return _response.data

    async def structured_output_controller_find_one(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        import asyncio

        from vapi import AsyncVapi

        client = AsyncVapi(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.structured_outputs.structured_output_controller_find_one(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.structured_output_controller_find_one(id, request_options=request_options)
        return _response.data

    async def structured_output_controller_remove(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        import asyncio

        from vapi import AsyncVapi

        client = AsyncVapi(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.structured_outputs.structured_output_controller_remove(
                id="id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.structured_output_controller_remove(id, request_options=request_options)
        return _response.data

    async def structured_output_controller_update(
        self,
        id: str,
        *,
        schema_override: str,
        model: typing.Optional[UpdateStructuredOutputDtoModel] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        assistant_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        workflow_ids: typing.Optional[typing.Sequence[str]] = OMIT,
        schema: typing.Optional[JsonSchema] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> StructuredOutput:
        """
        Parameters
        ----------
        id : str

        schema_override : str

        model : typing.Optional[UpdateStructuredOutputDtoModel]
            This is the model that will be used to extract the structured output.

            To provide your own custom system and user prompts for structured output extraction, populate the messages array with your system and user messages. You can specify liquid templating in your system and user messages.
            Between the system or user messages, you must reference either 'transcript' or 'messages' with the '{{}}' syntax to access the conversation history.
            Between the system or user messages, you must reference a variation of the structured output with the '{{}}' syntax to access the structured output definition.
            i.e.:
            {{structuredOutput}}
            {{structuredOutput.name}}
            {{structuredOutput.description}}
            {{structuredOutput.schema}}

            If model is not specified, GPT-4.1 will be used by default for extraction, utilizing default system and user prompts.
            If messages or required fields are not specified, the default system and user prompts will be used.

        name : typing.Optional[str]
            This is the name of the structured output.

        description : typing.Optional[str]
            This is the description of what the structured output extracts.

            Use this to provide context about what data will be extracted and how it will be used.

        assistant_ids : typing.Optional[typing.Sequence[str]]
            These are the assistant IDs that this structured output is linked to.

            When linked to assistants, this structured output will be available for extraction during those assistant's calls.

        workflow_ids : typing.Optional[typing.Sequence[str]]
            These are the workflow IDs that this structured output is linked to.

            When linked to workflows, this structured output will be available for extraction during those workflow's execution.

        schema : typing.Optional[JsonSchema]
            This is the JSON Schema definition for the structured output.

            Defines the structure and validation rules for the data that will be extracted. Supports all JSON Schema features including:
            - Objects and nested properties
            - Arrays and array validation
            - String, number, boolean, and null types
            - Enums and const values
            - Validation constraints (min/max, patterns, etc.)
            - Composition with allOf, anyOf, oneOf

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        StructuredOutput


        Examples
        --------
        import asyncio

        from vapi import AsyncVapi

        client = AsyncVapi(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.structured_outputs.structured_output_controller_update(
                id="id",
                schema_override="schemaOverride",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.structured_output_controller_update(
            id,
            schema_override=schema_override,
            model=model,
            name=name,
            description=description,
            assistant_ids=assistant_ids,
            workflow_ids=workflow_ids,
            schema=schema,
            request_options=request_options,
        )
        return _response.data
