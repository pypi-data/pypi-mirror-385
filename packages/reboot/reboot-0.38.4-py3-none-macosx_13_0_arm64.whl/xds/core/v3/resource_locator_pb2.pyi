"""
@generated by mypy-protobuf.  Do not edit manually!
isort:skip_file
"""

import builtins
import collections.abc
import google.protobuf.descriptor
import google.protobuf.internal.containers
import google.protobuf.internal.enum_type_wrapper
import google.protobuf.message
import sys
import typing
import xds.core.v3.context_params_pb2

if sys.version_info >= (3, 10):
    import typing as typing_extensions
else:
    import typing_extensions

DESCRIPTOR: google.protobuf.descriptor.FileDescriptor

@typing.final
class ResourceLocator(google.protobuf.message.Message):
    """xDS resource locators identify a xDS resource name and instruct the
    data-plane load balancer on how the resource may be located.

    Resource locators have a canonical xdstp:// URI representation:

      xdstp://{authority}/{type_url}/{id}?{context_params}{#directive,*}

    where context_params take the form of URI query parameters.

    Resource locators have a similar canonical http:// URI representation:

      http://{authority}/{type_url}/{id}?{context_params}{#directive,*}

    Resource locators also have a simplified file:// URI representation:

      file:///{id}{#directive,*}
    """

    DESCRIPTOR: google.protobuf.descriptor.Descriptor

    class _Scheme:
        ValueType = typing.NewType("ValueType", builtins.int)
        V: typing_extensions.TypeAlias = ValueType

    class _SchemeEnumTypeWrapper(google.protobuf.internal.enum_type_wrapper._EnumTypeWrapper[ResourceLocator._Scheme.ValueType], builtins.type):
        DESCRIPTOR: google.protobuf.descriptor.EnumDescriptor
        XDSTP: ResourceLocator._Scheme.ValueType  # 0
        HTTP: ResourceLocator._Scheme.ValueType  # 1
        FILE: ResourceLocator._Scheme.ValueType  # 2

    class Scheme(_Scheme, metaclass=_SchemeEnumTypeWrapper): ...
    XDSTP: ResourceLocator.Scheme.ValueType  # 0
    HTTP: ResourceLocator.Scheme.ValueType  # 1
    FILE: ResourceLocator.Scheme.ValueType  # 2

    @typing.final
    class Directive(google.protobuf.message.Message):
        """Directives provide information to data-plane load balancers on how xDS
        resource names are to be interpreted and potentially further resolved. For
        example, they may provide alternative resource locators for when primary
        resolution fails. Directives are not part of resource names and do not
        appear in a xDS transport discovery request.

        When encoding to URIs, directives take the form:

        <directive name>=<string representation of directive value>

        For example, we can have alt=xdstp://foo/bar or entry=some%20thing. Each
        directive value type may have its own string encoding, in the case of
        ResourceLocator there is a recursive URI encoding.

        Percent encoding applies to the URI encoding of the directive value.
        Multiple directives are comma-separated, so the reserved characters that
        require percent encoding in a directive value are [',', '#', '[', ']',
        '%']. These are the RFC3986 fragment reserved characters with the addition
        of the xDS scheme specific ','. See
        https://tools.ietf.org/html/rfc3986#page-49 for further details on URI ABNF
        and reserved characters.
        """

        DESCRIPTOR: google.protobuf.descriptor.Descriptor

        ALT_FIELD_NUMBER: builtins.int
        ENTRY_FIELD_NUMBER: builtins.int
        entry: builtins.str
        """List collections support inlining of resources via the entry field in
        Resource. These inlined Resource objects may have an optional name
        field specified. When specified, the entry directive allows
        ResourceLocator to directly reference these inlined resources, e.g.
        xdstp://.../foo#entry=bar.
        """
        @property
        def alt(self) -> global___ResourceLocator:
            """An alternative resource locator for fallback if the resource is
            unavailable. For example, take the resource locator:

              xdstp://foo/some-type/some-route-table#alt=xdstp://bar/some-type/another-route-table

            If the data-plane load balancer is unable to reach `foo` to fetch the
            resource, it will fallback to `bar`. Alternative resources do not need
            to have equivalent content, but they should be functional substitutes.
            """

        def __init__(
            self,
            *,
            alt: global___ResourceLocator | None = ...,
            entry: builtins.str = ...,
        ) -> None: ...
        def HasField(self, field_name: typing.Literal["alt", b"alt", "directive", b"directive", "entry", b"entry"]) -> builtins.bool: ...
        def ClearField(self, field_name: typing.Literal["alt", b"alt", "directive", b"directive", "entry", b"entry"]) -> None: ...
        def WhichOneof(self, oneof_group: typing.Literal["directive", b"directive"]) -> typing.Literal["alt", "entry"] | None: ...

    SCHEME_FIELD_NUMBER: builtins.int
    ID_FIELD_NUMBER: builtins.int
    AUTHORITY_FIELD_NUMBER: builtins.int
    RESOURCE_TYPE_FIELD_NUMBER: builtins.int
    EXACT_CONTEXT_FIELD_NUMBER: builtins.int
    DIRECTIVES_FIELD_NUMBER: builtins.int
    scheme: global___ResourceLocator.Scheme.ValueType
    """URI scheme."""
    id: builtins.str
    """Opaque identifier for the resource. Any '/' will not be escaped during URI
    encoding and will form part of the URI path. This may end
    with ‘*’ for glob collection references.
    """
    authority: builtins.str
    """Logical authority for resource (not necessarily transport network address).
    Authorities are opaque in the xDS API, data-plane load balancers will map
    them to concrete network transports such as an xDS management server, e.g.
    via envoy.config.core.v3.ConfigSource.
    """
    resource_type: builtins.str
    """Fully qualified resource type (as in type URL without types.googleapis.com/
    prefix).
    """
    @property
    def exact_context(self) -> xds.core.v3.context_params_pb2.ContextParams:
        """Additional parameters that can be used to select resource variants.
        Matches must be exact, i.e. all context parameters must match exactly and
        there must be no additional context parameters set on the matched
        resource.
        """

    @property
    def directives(self) -> google.protobuf.internal.containers.RepeatedCompositeFieldContainer[global___ResourceLocator.Directive]:
        """A list of directives that appear in the xDS resource locator #fragment.

        When encoding to URI form, directives are percent encoded with comma
        separation.
        """

    def __init__(
        self,
        *,
        scheme: global___ResourceLocator.Scheme.ValueType = ...,
        id: builtins.str = ...,
        authority: builtins.str = ...,
        resource_type: builtins.str = ...,
        exact_context: xds.core.v3.context_params_pb2.ContextParams | None = ...,
        directives: collections.abc.Iterable[global___ResourceLocator.Directive] | None = ...,
    ) -> None: ...
    def HasField(self, field_name: typing.Literal["context_param_specifier", b"context_param_specifier", "exact_context", b"exact_context"]) -> builtins.bool: ...
    def ClearField(self, field_name: typing.Literal["authority", b"authority", "context_param_specifier", b"context_param_specifier", "directives", b"directives", "exact_context", b"exact_context", "id", b"id", "resource_type", b"resource_type", "scheme", b"scheme"]) -> None: ...
    def WhichOneof(self, oneof_group: typing.Literal["context_param_specifier", b"context_param_specifier"]) -> typing.Literal["exact_context"] | None: ...

global___ResourceLocator = ResourceLocator
