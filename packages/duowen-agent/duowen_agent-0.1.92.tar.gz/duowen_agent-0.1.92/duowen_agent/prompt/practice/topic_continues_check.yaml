prompt_type: General

instruction:
  format: f-string
  value: 分析用户最新消息与之前{num}轮对话内容，判断是否存在话题延续性。

step:
  format: f-string
  value: "1. **追溯对话历史**：\n   - 提取最近{num}轮对话内容（包括用户当前消息）\n   - 重点标记用户当前消息\n2. **识别关键要素**：\n\
    \   - 操作指令词库匹配（请/帮我/需要...）\n   - 社交寒暄模式识别（问候/感谢/客套话）\n   - 代词指代消解（这/那/它等上下文绑定）\n\
    \   - 包含任务参数延续（时间/地点/数量的渐进调整）\n3. **排除非延续情况**：\n   - 纯社交性表达（类似\"谢谢\"_\"您好\"_\"\
    麻烦了\"等）\n   - 跳转至完全无关话题领域\n4. **逻辑链验证**：\n   - 检查当前消息是否服务于同一任务目标\n   - 确认存在观点延伸/条件补充/细节深挖等延续特征\n\
    \   - 辨别是否出现逆向推理链（质疑反驳/否定前提）"

output_format:
  format: dict
  value:
    properties:
      is_continued:
        description: 存在话题延续性为true否则为false
        title: Is Continued
        type: boolean
    required:
    - is_continued
    title: Continued
    type: object

note:
  format: str
  value: '1. 特别注意"这/那+量词"结构的隐性指代（如"那个方案"_"这份文件"）

    2. 关注时间序列关联（"上次"_"之前"_"刚才"_"接下来"）

    3. 警惕伪装延续场景（表面相似但语义断裂的情况）

    3. 当出现复合意图时（如闲聊中带请求），需要特别评估请求是否存在延续性

    4. 对于模糊指代需通过上下文验证真实指涉对象'
