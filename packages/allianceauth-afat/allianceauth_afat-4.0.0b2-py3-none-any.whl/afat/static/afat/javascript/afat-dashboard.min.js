$(document).ready(()=>{'use strict';const a=afatSettings.dataTable.language,t={display:a=>moment(a.time).utc().format(AFAT_DATETIME_FORMAT),_:'timestamp'},e={language:a,paging:!1,ordering:!1,searching:!1,info:!1},n=()=>{const a=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'system'},{data:'ship_type'},{data:'fleet_time',render:t}];characters.forEach(t=>{const n=$('#recent-fats-character-'+t.charId),r=afatSettings.url.characterFats.replace('0',t.charId);fetchGet({url:r}).then(t=>{n.DataTable({...e,data:t,columns:a})}).catch(a=>{console.error('Error fetching recent FATs for character:',t.charId,a)})})},r=()=>{const n=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'creator_name'},{data:'fleet_time',render:t}],r=[];(afatSettings.permissions.addFatLink||afatSettings.permissions.manageAfat)&&(n.push({data:'actions',render:a=>a}),r.push({targets:[5],orderable:!1,createdCell:a=>$(a).addClass('text-end')})),a.emptyTable=`<div class="aa-callout aa-callout-warning" role="alert">\n            <p>${afatSettings.translation.dataTable.noFatlinksWarning}</p>\n        </div>`,fetchGet({url:afatSettings.url.recentFatLinks}).then(a=>{$('#dashboard-recent-fatlinks').DataTable({...e,data:a,columns:n,columnDefs:r})}).catch(a=>{console.error('Error fetching recent FAT links:',a)})},c=()=>{[afatSettings.modal.cancelEsiFleetModal.element,afatSettings.modal.deleteFatLinkModal.element].forEach(a=>{manageModal($(a))})};characters.length>0&&n(),r(),c()});
//# sourceMappingURL=afat-dashboard.min.js.map