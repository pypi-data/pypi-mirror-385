# ADRI Dimension Scores Standard
# Defines the required structure and validation rules for dimension score audit logs
# This standard validates the CSV file that tracks individual dimension scores per assessment

standards:
  id: ADRI_dimension_scores
  name: ADRI Dimension Scores Standard
  version: 1.0.0
  authority: ADRI Framework
  description: Standard for validating ADRI dimension score audit log CSV structure

record_identification:
  primary_key_fields:
    - assessment_id
    - dimension_name
  strategy: primary_key_with_fallback

requirements:
  overall_minimum: 95.0  # High bar for ADRI's own audit logs

  field_requirements:
    # Core identification
    assessment_id:
      type: string
      nullable: false
      pattern: '^adri_\d{8}_\d{6}_[a-f0-9]+$'
      description: Assessment identifier linking to main log

    dimension_name:
      type: string
      nullable: false
      allowed_values:
        - validity
        - completeness
        - consistency
        - freshness
        - plausibility
      description: Name of the quality dimension

    # Scoring information
    dimension_score:
      type: float
      nullable: false
      min_value: 0.0
      max_value: 20.0
      description: Score for this dimension (0-20)

    dimension_passed:
      type: boolean
      nullable: false
      description: Whether dimension passed its threshold

    issues_found:
      type: integer
      nullable: false
      min_value: 0
      description: Number of issues detected in this dimension

    # Details (JSON string)
    details:
      type: string
      nullable: false
      description: JSON object with score breakdown

  dimension_requirements:
    validity:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          data_types: 1.0
          value_ranges: 1.0
        field_overrides: {}

    completeness:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          required_fields: 1.0
        field_overrides: {}

    consistency:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          field_consistency: 1.0
        field_overrides: {}

    freshness:
      minimum_score: 18.0
      weight: 1.0
      scoring:
        rule_weights:
          assessment_id_format: 1.0
        field_overrides: {}

    plausibility:
      minimum_score: 18.0
      weight: 1.0
      scoring:
        rule_weights:
          score_ranges: 1.0
          enum_values: 1.0
        field_overrides: {}

metadata:
  purpose: Self-validation of ADRI dimension score audit logs
  usage: |
    This standard validates dimension score CSV logs to ensure:
    1. All 5 ADRI dimensions are properly logged
    2. Scores are within valid ranges (0-20)
    3. Assessment IDs properly link to main audit log
    4. Pass/fail status is correctly recorded
    5. Issue counts are non-negative

  validation_notes: |
    - Each assessment should have exactly 5 dimension score entries
    - dimension_name must be one of the 5 ADRI dimensions
    - dimension_score must be 0-20
    - details field contains JSON with score, max_score, percentage
    - assessment_id links to corresponding entry in main audit log

  created_by: ADRI Framework
  created_date: 2025-10-03
