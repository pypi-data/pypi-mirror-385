# ADRI Reasoning Prompts Standard
# Defines the required structure and validation rules for ADRI reasoning prompts JSONL files
# This standard validates that AI/LLM prompts are properly logged and traceable

standards:
  id: adri_reasoning_prompts
  name: ADRI Reasoning Prompts Standard
  version: 1.0.0
  authority: ADRI Framework
  description: Standard for validating ADRI reasoning prompts JSONL structure and content

record_identification:
  primary_key_fields:
    - prompt_id
  strategy: primary_key_with_fallback

requirements:
  overall_minimum: 95.0  # High bar for ADRI's own reasoning logs

  field_requirements:
    # Core identification fields
    prompt_id:
      type: string
      nullable: false
      pattern: '^prompt_\d{8}_\d{6}_[a-f0-9]+$'
      description: Unique prompt identifier

    assessment_id:
      type: string
      nullable: false
      pattern: '^adri_\d{8}_\d{6}_[a-f0-9]+$'
      description: Associated assessment identifier

    run_id:
      type: string
      nullable: false
      description: Run identifier for workflow tracking

    step_id:
      type: string
      nullable: false
      description: Step identifier in reasoning workflow

    # Prompt content and configuration
    prompt_hash:
      type: string
      nullable: false
      pattern: '^[a-f0-9]{16}$'
      description: SHA-256 hash (first 16 chars) of prompt content

    model:
      type: string
      nullable: false
      description: LLM model identifier (e.g., 'claude-3-5-sonnet', 'gpt-4')

    temperature:
      type: float
      nullable: false
      min_value: 0.0
      max_value: 2.0
      description: Temperature parameter for LLM sampling

    seed:
      type: integer
      nullable: true
      min_value: 0
      description: Random seed for reproducibility (optional)

    max_tokens:
      type: integer
      nullable: true
      min_value: 1
      description: Maximum tokens in response (optional)

    system_prompt:
      type: string
      nullable: false
      description: System/instruction prompt text

    user_prompt:
      type: string
      nullable: false
      description: User/context prompt text

    timestamp:
      type: string
      nullable: false
      pattern: '^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+$'
      description: ISO 8601 timestamp of prompt creation

  dimension_requirements:
    validity:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          data_types: 1.0
          value_ranges: 1.0
        field_overrides: {}

    completeness:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          required_fields: 1.0
        field_overrides: {}

    consistency:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          field_consistency: 1.0
        field_overrides: {}

    freshness:
      minimum_score: 18.0
      weight: 1.0
      scoring:
        rule_weights:
          timestamp_validity: 1.0
        field_overrides: {}

    plausibility:
      minimum_score: 18.0
      weight: 1.0
      scoring:
        rule_weights:
          hash_format: 1.0
          id_patterns: 1.0
        field_overrides: {}

metadata:
  purpose: Validation of ADRI reasoning prompt logging
  usage: |
    This standard validates that ADRI reasoning prompts JSONL files contain:
    1. All required prompt tracking fields with correct types
    2. Valid identifiers and timestamps
    3. Proper LLM configuration parameters
    4. Complete prompt content (system and user)
    5. Cryptographic hashes for content verification

  validation_notes: |
    - prompt_id must follow pattern: prompt_YYYYMMDD_HHMMSS_hexhash
    - assessment_id links to main ADRI assessment log
    - prompt_hash is SHA-256 truncated to 16 hex characters
    - temperature must be in typical range 0.0-2.0
    - seed and max_tokens are optional (may be empty)
    - timestamp must be valid ISO 8601 format
    - system_prompt and user_prompt must not be empty

  created_by: ADRI Framework
  created_date: 2025-06-10
