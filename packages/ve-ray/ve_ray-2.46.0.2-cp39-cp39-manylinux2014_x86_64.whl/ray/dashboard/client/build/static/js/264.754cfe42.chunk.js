"use strict";(self.webpackChunkray_dashboard_client=self.webpackChunkray_dashboard_client||[]).push([[264],{82388:(t,e,a)=>{function n(t,e){var a,n,r;t.accDescr&&(null===(a=e.setAccDescription)||void 0===a||a.call(e,t.accDescr));t.accTitle&&(null===(n=e.setAccTitle)||void 0===n||n.call(e,t.accTitle));t.title&&(null===(r=e.setDiagramTitle)||void 0===r||r.call(e,t.title))}a.d(e,{A:()=>n}),(0,a(92408).eW)(n,"populateCommonDb")},25264:(t,e,a)=>{a.r(e),a.d(e,{diagram:()=>I});var n=a(82388),r=a(80170),c=a(53657),o=a(92408),i=a(51529),s={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},l={axes:[],curves:[],options:s},d=structuredClone(l),u=o.vZ.radar,g=(0,o.eW)((()=>(0,r.Rb)({...u,...(0,o.iE)().radar})),"getConfig"),h=(0,o.eW)((()=>d.axes),"getAxes"),p=(0,o.eW)((()=>d.curves),"getCurves"),x=(0,o.eW)((()=>d.options),"getOptions"),v=(0,o.eW)((t=>{d.axes=t.map((t=>{var e;return{name:t.name,label:null!==(e=t.label)&&void 0!==e?e:t.name}}))}),"setAxes"),m=(0,o.eW)((t=>{d.curves=t.map((t=>{var e;return{name:t.name,label:null!==(e=t.label)&&void 0!==e?e:t.name,entries:f(t.entries)}}))}),"setCurves"),f=(0,o.eW)((t=>{if(void 0==t[0].axis)return t.map((t=>t.value));const e=h();if(0===e.length)throw new Error("Axes must be populated before curves for reference entries");return e.map((e=>{const a=t.find((t=>{var a;return(null===(a=t.axis)||void 0===a?void 0:a.$refText)===e.name}));if(void 0===a)throw new Error("Missing entry for axis "+e.label);return a.value}))}),"computeCurveEntries"),y={getAxes:h,getCurves:p,getOptions:x,setAxes:v,setCurves:m,setOptions:(0,o.eW)((t=>{var e,a,n,r,c,o,i,l,u,g;const h=t.reduce(((t,e)=>(t[e.name]=e,t)),{});d.options={showLegend:null!==(e=null===(a=h.showLegend)||void 0===a?void 0:a.value)&&void 0!==e?e:s.showLegend,ticks:null!==(n=null===(r=h.ticks)||void 0===r?void 0:r.value)&&void 0!==n?n:s.ticks,max:null!==(c=null===(o=h.max)||void 0===o?void 0:o.value)&&void 0!==c?c:s.max,min:null!==(i=null===(l=h.min)||void 0===l?void 0:l.value)&&void 0!==i?i:s.min,graticule:null!==(u=null===(g=h.graticule)||void 0===g?void 0:g.value)&&void 0!==u?u:s.graticule}}),"setOptions"),getConfig:g,clear:(0,o.eW)((()=>{(0,o.ZH)(),d=structuredClone(l)}),"clear"),setAccTitle:o.GN,getAccTitle:o.eu,setDiagramTitle:o.g2,getDiagramTitle:o.Kr,getAccDescription:o.Mx,setAccDescription:o.U$},b=(0,o.eW)((t=>{(0,n.A)(t,y);const{axes:e,curves:a,options:r}=t;y.setAxes(e),y.setCurves(a),y.setOptions(r)}),"populate"),w={parse:(0,o.eW)((async t=>{const e=await(0,i.Qc)("radar",t);o.cM.debug(e),b(e)}),"parse")},C=(0,o.eW)(((t,e,a,n)=>{var r;const o=n.db,i=o.getAxes(),s=o.getCurves(),l=o.getOptions(),d=o.getConfig(),u=o.getDiagramTitle(),g=(0,c.P)(e),h=M(g,d),p=null!==(r=l.max)&&void 0!==r?r:Math.max(...s.map((t=>Math.max(...t.entries)))),x=l.min,v=Math.min(d.width,d.height)/2;W(h,i,v,l.ticks,l.graticule),L(h,i,v,d),T(h,i,s,x,p,l.graticule,d),O(h,s,l.showLegend,d),h.append("text").attr("class","radarTitle").text(u).attr("x",0).attr("y",-d.height/2-d.marginTop)}),"draw"),M=(0,o.eW)(((t,e)=>{const a=e.width+e.marginLeft+e.marginRight,n=e.height+e.marginTop+e.marginBottom,r={x:e.marginLeft+e.width/2,y:e.marginTop+e.height/2};return t.attr("viewbox","0 0 ".concat(a," ").concat(n)).attr("width",a).attr("height",n),t.append("g").attr("transform","translate(".concat(r.x,", ").concat(r.y,")"))}),"drawFrame"),W=(0,o.eW)(((t,e,a,n,r)=>{if("circle"===r)for(let c=0;c<n;c++){const e=a*(c+1)/n;t.append("circle").attr("r",e).attr("class","radarGraticule")}else if("polygon"===r){const r=e.length;for(let c=0;c<n;c++){const o=a*(c+1)/n,i=e.map(((t,e)=>{const a=2*e*Math.PI/r-Math.PI/2,n=o*Math.cos(a),c=o*Math.sin(a);return"".concat(n,",").concat(c)})).join(" ");t.append("polygon").attr("points",i).attr("class","radarGraticule")}}}),"drawGraticule"),L=(0,o.eW)(((t,e,a,n)=>{const r=e.length;for(let c=0;c<r;c++){const o=e[c].label,i=2*c*Math.PI/r-Math.PI/2;t.append("line").attr("x1",0).attr("y1",0).attr("x2",a*n.axisScaleFactor*Math.cos(i)).attr("y2",a*n.axisScaleFactor*Math.sin(i)).attr("class","radarAxisLine"),t.append("text").text(o).attr("x",a*n.axisLabelFactor*Math.cos(i)).attr("y",a*n.axisLabelFactor*Math.sin(i)).attr("class","radarAxisLabel")}}),"drawAxes");function T(t,e,a,n,r,c,o){const i=e.length,s=Math.min(o.width,o.height)/2;a.forEach(((e,a)=>{if(e.entries.length!==i)return;const l=e.entries.map(((t,e)=>{const a=2*Math.PI*e/i-Math.PI/2,c=A(t,n,r,s);return{x:c*Math.cos(a),y:c*Math.sin(a)}}));"circle"===c?t.append("path").attr("d",k(l,o.curveTension)).attr("class","radarCurve-".concat(a)):"polygon"===c&&t.append("polygon").attr("points",l.map((t=>"".concat(t.x,",").concat(t.y))).join(" ")).attr("class","radarCurve-".concat(a))}))}function A(t,e,a,n){return n*(Math.min(Math.max(t,e),a)-e)/(a-e)}function k(t,e){const a=t.length;let n="M".concat(t[0].x,",").concat(t[0].y);for(let r=0;r<a;r++){const c=t[(r-1+a)%a],o=t[r],i=t[(r+1)%a],s=t[(r+2)%a],l={x:o.x+(i.x-c.x)*e,y:o.y+(i.y-c.y)*e},d={x:i.x-(s.x-o.x)*e,y:i.y-(s.y-o.y)*e};n+=" C".concat(l.x,",").concat(l.y," ").concat(d.x,",").concat(d.y," ").concat(i.x,",").concat(i.y)}return"".concat(n," Z")}function O(t,e,a,n){if(!a)return;const r=3*(n.width/2+n.marginRight)/4,c=3*-(n.height/2+n.marginTop)/4;e.forEach(((e,a)=>{const n=t.append("g").attr("transform","translate(".concat(r,", ").concat(c+20*a,")"));n.append("rect").attr("width",12).attr("height",12).attr("class","radarLegendBox-".concat(a)),n.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(e.label)}))}(0,o.eW)(T,"drawCurves"),(0,o.eW)(A,"relativeRadius"),(0,o.eW)(k,"closedRoundCurve"),(0,o.eW)(O,"drawLegend");var S={draw:C},D=(0,o.eW)(((t,e)=>{let a="";for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const r=t["cScale".concat(n)];a+="\n\t\t.radarCurve-".concat(n," {\n\t\t\tcolor: ").concat(r,";\n\t\t\tfill: ").concat(r,";\n\t\t\tfill-opacity: ").concat(e.curveOpacity,";\n\t\t\tstroke: ").concat(r,";\n\t\t\tstroke-width: ").concat(e.curveStrokeWidth,";\n\t\t}\n\t\t.radarLegendBox-").concat(n," {\n\t\t\tfill: ").concat(r,";\n\t\t\tfill-opacity: ").concat(e.curveOpacity,";\n\t\t\tstroke: ").concat(r,";\n\t\t}\n\t\t")}return a}),"genIndexStyles"),E=(0,o.eW)((t=>{const e=(0,o.xN)(),a=(0,o.iE)(),n=(0,r.Rb)(e,a.themeVariables);return{themeVariables:n,radarOptions:(0,r.Rb)(n.radar,t)}}),"buildRadarStyleOptions"),I={parser:w,db:y,renderer:S,styles:(0,o.eW)((function(){let{radar:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeVariables:e,radarOptions:a}=E(t);return"\n\t.radarTitle {\n\t\tfont-size: ".concat(e.fontSize,";\n\t\tcolor: ").concat(e.titleColor,";\n\t\tdominant-baseline: hanging;\n\t\ttext-anchor: middle;\n\t}\n\t.radarAxisLine {\n\t\tstroke: ").concat(a.axisColor,";\n\t\tstroke-width: ").concat(a.axisStrokeWidth,";\n\t}\n\t.radarAxisLabel {\n\t\tdominant-baseline: middle;\n\t\ttext-anchor: middle;\n\t\tfont-size: ").concat(a.axisLabelFontSize,"px;\n\t\tcolor: ").concat(a.axisColor,";\n\t}\n\t.radarGraticule {\n\t\tfill: ").concat(a.graticuleColor,";\n\t\tfill-opacity: ").concat(a.graticuleOpacity,";\n\t\tstroke: ").concat(a.graticuleColor,";\n\t\tstroke-width: ").concat(a.graticuleStrokeWidth,";\n\t}\n\t.radarLegendText {\n\t\ttext-anchor: start;\n\t\tfont-size: ").concat(a.legendFontSize,"px;\n\t\tdominant-baseline: hanging;\n\t}\n\t").concat(D(e,a),"\n\t")}),"styles")}}}]);
//# sourceMappingURL=264.754cfe42.chunk.js.map