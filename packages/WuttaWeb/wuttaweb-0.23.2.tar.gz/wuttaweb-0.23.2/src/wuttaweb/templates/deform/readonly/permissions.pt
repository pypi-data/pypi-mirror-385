<div>
  <tal:loop tal:repeat="groupkey sorted(permissions, key=lambda k: permissions[k]['label'].lower())">
    <div class="card block"
         tal:condition="any([key in cstruct for key in permissions[groupkey]['perms']])"
         tal:define="perms permissions[groupkey]['perms'];">
      <header class="card-header">
        <p class="card-header-title">${permissions[groupkey]['label']}</p>
      </header>
      <div class="card-content">
        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
          <tal:loop tal:repeat="key sorted(perms, key=lambda p: perms[p]['label'].lower())">
            <span tal:condition="key in cstruct">${perms[key]['label']}</span>
          </tal:loop>
        </div>
      </div>
    </div>
  </tal:loop>
</div>
