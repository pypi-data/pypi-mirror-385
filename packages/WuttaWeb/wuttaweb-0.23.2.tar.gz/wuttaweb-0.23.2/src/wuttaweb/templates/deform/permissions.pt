<div>
  ${field.start_sequence()}
  <tal:loop tal:repeat="groupkey sorted(permissions, key=lambda k: permissions[k]['label'].lower())">
    <div class="card block"
         tal:define="perms permissions[groupkey]['perms'];">
      <header class="card-header">
        <p class="card-header-title">${permissions[groupkey]['label']}</p>
      </header>
      <div class="card-content">
        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
          <tal:loop tal:repeat="key sorted(perms, key=lambda p: perms[p]['label'].lower())">
            <b-checkbox name="checkbox"
                        native-value="${key}"
                        tal:attributes=":value 'true' if key in cstruct else 'false';">
              ${perms[key]['label']}
            </b-checkbox>
          </tal:loop>
        </div>
      </div>
    </div>
  </tal:loop>
  ${field.end_sequence()}
</div>
