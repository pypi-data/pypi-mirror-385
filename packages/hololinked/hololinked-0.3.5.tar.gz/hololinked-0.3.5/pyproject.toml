[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "hololinked"
version = "0.3.5"
authors = [
    {name = "Vignesh Vaidyanathan", email = "info@hololinked.dev"},
]
description = "A ZMQ-based protocol-agnostic object oriented RPC toolkit primarily focussed for instrumentation control, data acquisition or IoT, however can be used for controlling generic python objects."
readme = "README.md"
requires-python = ">=3.11"
license = "Apache-2.0"
license-files = ["licenses/*"]
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
    "Intended Audience :: Information Technology",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Healthcare Industry",
    "Intended Audience :: Manufacturing",
    "Intended Audience :: Developers",
    "Intended Audience :: End Users/Desktop",
    "Intended Audience :: Education",
    "Topic :: Internet :: WWW/HTTP",
    "Topic :: Internet :: WWW/HTTP :: Browsers",
    "Topic :: Scientific/Engineering :: Human Machine Interfaces",
    "Topic :: System :: Hardware",
    "Development Status :: 4 - Beta"
]
keywords = ["data-acquisition", "zmq-rpc", "SCADA", "IoT", "Web of Things", "remote data logging"]
dependencies = [
    "argon2-cffi>=23.1.0",
    "ifaddr>=0.2.0,<0.3",
    "msgspec>=0.18.6",
    "pyzmq>=25.1.0,<26.2",
    "SQLAlchemy>2.0.21",
    "SQLAlchemy_Utils>=0.41",
    "pydantic>=2.8.0,<3.0.0",
    "tornado>=6.3.3",
    "jsonschema>=4.22.0,<5.0",
    "httpx>=0.28.1,<29.0",
    "sniffio>=1.3.1,<2.0",
    "pymongo>=4.15.2",
]

[project.urls]
Documentation = "https://hololinked.readthedocs.io/en/latest/index.html"
Repository = "https://github.com/hololinked-dev/hololinked"

[tool.setuptools]
packages = [
    "hololinked", 
    "hololinked.server", "hololinked.server.http",
    "hololinked.client", "hololinked.client.http", "hololinked.client.zmq",
    "hololinked.param", 
    "hololinked.schema_validators", 
    "hololinked.serializers", 
    "hololinked.storage", 
    "hololinked.td", 
    "hololinked.core", "hololinked.core.zmq"
]

[dependency-groups]
dev = [
    "ConfigParser==7.1.0",
    "fastjsonschema==2.20.0",
    "ipython==8.12.3",
    "serpent==1.41",
    "numpy>=2.0.0",
    "pandas==2.2.3",
    "faker==37.5.0",
    "bcrypt==4.3.0",
    "pip>=25.2",
    "ruff>=0.12.10",
    "jupyter>=1.1.1",
]
test = [
    "requests==2.32.3",
    "coverage==7.8.0",
    "numpy>=2.0.0",
    "faker==37.5.0",
    "bcrypt==4.3.0",
    "fastjsonschema==2.20.0",
    "pytest>=8.0.0",
    "pytest-cov>=4.0.0",
    "pytest-order>=1.0.0"
]   
linux = [
    "uvloop==0.20.0"
]

[tool.pytest.ini_options]
minversion = "8.0"
addopts = "-ra --strict-markers --strict-config --ignore=lib64"
testpaths = ["tests/pytests-new"]
python_files = ["test_*_pytest.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
markers = [
    "order: mark test to run in a specific order",
    "slow: marks tests as slow (deselect with '-m \"not slow\"')",
    "integration: marks tests as integration tests"
]
filterwarnings = [
    "error",
    "ignore::UserWarning",
    "ignore::DeprecationWarning",
    "ignore::pytest.PytestCollectionWarning"
]

[tool.ruff]
exclude = [
    "hololinked/core/properties.py",
    "hololinked/param"
]