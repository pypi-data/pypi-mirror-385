import"./chunk-43LQFSHA.js";var s={};s.BinaryReader=class{static open(t,r){if(r=r||0,t&&t.length>=r+8){let i=t instanceof Uint8Array?-1:t.position,e=t instanceof Uint8Array?new s.BufferReader(t):new s.StreamReader(t);e.root=e.int32(r)+r;let n=!1;if(e.root>0&&e.root<e.length){let h=e.read(r+4,4);e.identifier=h.every(_=>_>=32&&_<=128)?String.fromCharCode(...h):"";let u=e.int32(e.root);if(u<0||u>4&&u<1024){let _=e.root-u;if(_>0&&_+4<e.length){let l=e.int16(_)+_;if(l<e.length){let c=e.int16(_+2);if(c>0&&!(c&1)){let w=[];for(let a=_+4;a<l;a+=2){let d=e.int16(a);w.push(d)}n=c>Math.max(...w)}}}}}if(i!==-1&&t.seek(i),n)return e}return null}bool(t){return!!this.int8(t)}bool_(t,r,i){return r=this.__offset(t,r),r?this.bool(t+r):i}int8(t){return this.uint8(t)<<24>>24}int8_(t,r,i){return r=this.__offset(t,r),r?this.int8(t+r):i}uint8_(t,r,i){return r=this.__offset(t,r),r?this.uint8(t+r):i}int16_(t,r,i){return r=this.__offset(t,r),r?this.int16(t+r):i}uint16_(t,r,i){return r=this.__offset(t,r),r?this.uint16(t+r):i}int32_(t,r,i){return r=this.__offset(t,r),r?this.int32(t+r):i}uint32_(t,r,i){return r=this.__offset(t,r),r?this.int32(t+r):i}int64_(t,r,i){return r=this.__offset(t,r),r?this.int64(t+r):i}uint64_(t,r,i){return r=this.__offset(t,r),r?this.uint64(t+r):i}float32_(t,r,i){return r=this.__offset(t,r),r?this.float32(t+r):i}float64_(t,r,i){return r=this.__offset(t,r),r?this.float64(t+r):i}string(t,r){t+=this.int32(t);let i=this.int32(t);if(t+=4,r===1)return this.read(t,i);let e="";for(let n=0;n<i;){let h=0,u=this.uint8(t+n++);if(u<192)h=u;else{let _=this.uint8(t+n++);if(u<224)h=(u&31)<<6|_&63;else{let l=this.uint8(t+n++);if(u<240)h=(u&15)<<12|(_&63)<<6|l&63;else{let c=this.uint8(t+n++);h=(u&7)<<18|(_&63)<<12|(l&63)<<6|c&63}}}h<65536?e+=String.fromCharCode(h):(h-=65536,e+=String.fromCharCode((h>>10)+55296,(h&1023)+56320))}return e}string_(t,r,i){return r=this.__offset(t,r),r?this.string(t+r):i}bools_(t,r){if(r=this.__offset(t,r),r){let i=this.__vector_len(t+r);r=this.__vector(t+r);let e=new Array(i);for(let n=0;n<i;n++)e[n]=!!this.uint8(r+n);return e}return[]}int64s_(t,r){if(r=this.__offset(t,r),r){let i=this.__vector_len(t+r);r=this.__vector(t+r);let e=new Array(i);for(let n=0;n<i;n++)e[n]=this.int64(r+(n<<3));return e}return[]}uint64s_(t,r){if(r=this.__offset(t,r),r){let i=this.__vector_len(t+r);r=this.__vector(t+r);let e=new Array(i);for(let n=0;n<i;n++)e[n]=this.uint64(r+(n<<3));return e}return[]}strings_(t,r){if(r=this.__offset(t,r),r){let i=this.__vector_len(t+r);r=this.__vector(t+r);let e=new Array(i);for(let n=0;n<i;n++)e[n]=this.string(r+n*4);return e}return[]}struct(t,r,i){return r=this.__offset(t,r),r?i.decode(this,t+r):null}table(t,r,i){return r=this.__offset(t,r),r?i.decode(this,this.__indirect(t+r)):null}union(t,r,i){let e=this.__offset(t,r),n=e?this.uint8(t+e):0;return r=this.__offset(t,r+2),r?i.decode(this,this.__union(t+r),n):null}array(t,r,i){if(r=this.__offset(t,r),r){let e=this.__vector_len(t+r);r=this.__vector(t+r);let n=this.read(r,e*i.BYTES_PER_ELEMENT);return new i(n.buffer,n.byteOffset,e)}return new i(0)}unions(){return new s.Error("Not implemented.")}structs(t,r,i){r=this.__offset(t,r);let e=r?this.__vector_len(t+r):0,n=new Array(e);for(let h=0;h<e;h++)n[h]=i.decode(this,this.__vector(t+r)+h*8);return n}tables(t,r,i){r=this.__offset(t,r);let e=r?this.__vector_len(t+r):0,n=new Array(e);for(let h=0;h<e;h++)n[h]=i.decode(this,this.__indirect(this.__vector(t+r)+h*4));return n}__offset(t,r){let i=t-this.int32(t);return r<this.int16(i)?this.int16(i+r):0}__indirect(t){return t+this.int32(t)}__vector(t){return t+this.int32(t)+4}__vector_len(t){return this.int32(t+this.int32(t))}__union(t){return t+this.int32(t)}};s.BufferReader=class extends s.BinaryReader{constructor(t){super(),this.length=t.length,this._buffer=t,this._view=new DataView(t.buffer,t.byteOffset,t.byteLength)}read(t,r){return this._buffer.slice(t,t+r)}uint8(t){return this._buffer[t]}int16(t){return this._view.getInt16(t,!0)}uint16(t){return this._view.getUint16(t,!0)}int32(t){return this._view.getInt32(t,!0)}uint32(t){return this._view.getUint32(t,!0)}int64(t){return this._view.getBigInt64(t,!0)}uint64(t){return this._view.getBigUint64(t,!0)}float32(t){return this._view.getFloat32(t,!0)}float64(t){return this._view.getFloat64(t,!0)}};s.StreamReader=class extends s.BinaryReader{constructor(t){super(),this._length=t.length,this._stream=t,this._size=268435456,this._offset=0,this._window=Math.min(4096,t.length);let r=this._stream.peek(this._window);this._buffer=r,this._view=new DataView(r.buffer,r.byteOffset,r.byteLength),this._chunk=-1}get length(){return this._length}read(t,r){let i=new Uint8Array(r);return this._read(i,t),i}uint8(t){let r=this._fill(t,1);return this._view.getUint8(r)}int16(t){let r=this._fill(t,2);return this._view.getInt16(r,!0)}uint16(t){let r=this._fill(t,2);return this._view.getUint16(r,!0)}int32(t){let r=this._fill(t,4);return this._view.getInt32(r,!0)}uint32(t){let r=this._fill(t,4);return this._view.getUint32(r,!0)}int64(t){let r=this._fill(t,8);return this._view.getBigInt64(r,!0)}uint64(t){let r=this._fill(t,8);return this._view.getBigUint64(r,!0)}float32(t){let r=this._fill(t,4);return this._view.getFloat32(r,!0)}float64(t){let r=this._fill(t,8);return this._view.getFloat64(r,!0)}_fill(t,r){if(t+r>this._length)throw new Error(`Expected ${t+r-this._length} more bytes. The file might be corrupted. Unexpected end of file.`);if(t<this._offset||t+r>this._offset+this._window){let i=t%this._size,e=this._last;if(this._chunk!==-1&&(this._last=[this._chunk,this._buffer,this._view]),i+r>this._size){let n=new Uint8Array(r);this._read(n,r),this._chunk=-1,this._offset=t,this._window=r,this._buffer=n,this._view=new DataView(n.buffer,n.byteOffset,n.byteLength)}else{let n=Math.floor(t/this._size);if(this._offset=n*this._size,this._window=Math.min(this._length-this._offset,this._size),e&&e[0]===n)[this._chunk,this._buffer,this._view]=e;else{this._chunk=n,this._stream.seek(this._offset);let h=this._stream.read(this._window);this._buffer=h,this._view=new DataView(h.buffer,h.byteOffset,h.byteLength),this._stream.seek(0)}}}return t-this._offset}_read(t,r){let i=t.length;if(r<this._offset||r+i>this._offset+this._window){this._stream.seek(r);let e=this._stream.read(i);t.set(e,0),this._stream.seek(0)}else{r-=this._offset;let e=this._buffer.subarray(r,r+i);t.set(e,0)}}};s.TextReader=class{static open(t){return new s.TextReader(t)}constructor(t){this._root=t}get root(){return this._root}int64(t,r){return t===void 0?r:BigInt(t)}uint64(t,r){return t===void 0?r:BigInt(t)}value(t,r){return t===void 0?r:t}object(t,r){return t===void 0?t:r.decodeText(this,t)}array(t,r){if(r=r||Array,Array.isArray(t)){let i=t.length,e=new r(i);for(let n=0;n<i;n++)e[n]=t[n];return e}if(t)throw new s.Error("Inalid value array.");return new r(0)}objects(t,r){if(Array.isArray(t)){let i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=r.decodeText(this,t[e]);return i}if(!t)return[];throw new s.Error("Inalid object array.")}};s.Error=class extends Error{constructor(t){super(t),this.name="FlatBuffers Error",this.message=t}};var g=s.BinaryReader,o=s.TextReader;export{g as BinaryReader,o as TextReader};
