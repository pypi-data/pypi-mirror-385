import{a as x}from"./chunk-GAUD627J.js";import"./chunk-43LQFSHA.js";var n={};n.TextReader=class{static open(t,s){let e=x.open(t);for(;;){let i=e.decode();if(i==="<")break;if(i!==" "&&i!==`
`&&i!=="\r"&&i!=="	")return null}return new n.TextReader(t,s)}constructor(t,s){this._data=t,this._resolve=s,this._entities=new Map([["quot",'"'],["amp","&"],["apos","'"],["lt","<"],["gt",">"]]);let e=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD";n.TextReader._nameStartCharRegExp=new RegExp(`[${e}]`),n.TextReader._nameCharRegExp=new RegExp(`[-.0-9\\xB7${e}]`)}read(t){this._depth=t||Number.MAX_SAFE_INTEGER,this._stack=[],this._context=[],this._pushBuffer(this._data,"","",!1),this._version=0,this._charRegExp=/[\x09\x0a\x0d\x20-\uD7FF\uE000-\uFFFD]/,this._parameterEntities=!1,this._characterData=!0,this._stack.push(new n.Document);let s=this._document();for(;;)switch(this._start=this._position,this._char){case"<":{switch(this._next(),this._char){case"?":{this._processingInstruction();break}case"!":{if(this._next(),this._match("--"))this._comment();else if(this._match("[CDATA")){this._assert(this._stack.length>1),this._characterData=!0,this._expect("[");let e=this._terminal("]]>"),i=s.createCDATASection(e);this._appendChild(i)}else if(this._match("DOCTYPE")){this._assert(this._stack.length>1||!s.documentElement||!s.documentType),this._whitespace(1);let e=this._name();this._assert(e!==null);let i="",h="",a=this._whitespace(0);a&&this._match("SYSTEM")?(this._whitespace(1),i=this._systemLiteral(),this._whitespace(0),a=!0):a&&this._match("PUBLIC")&&(this._whitespace(1),h=this._pubidLiteral(),this._whitespace(1),i=this._systemLiteral(),this._whitespace(0),a=!0);let r=s.createDocumentType(e,h,i);this._appendChild(r),this._stack.push(r),r.parameterEntities=new n.NamedNodeMap,r.elements=new n.NamedNodeMap,this._parameterEntities=!0,this._characterData=!1;let o=a&&this._match("[");o&&this._internalSubset("]"),i&&!this._standalone&&this._pushResource(i,"",!0)&&(this._internalSubset(void 0),this._popContext()),this._characterData=!0,this._parameterEntities=!1;let d=r.entities.filter(p=>p.value).map(p=>p.value);for(let p of r.entities.filter(f=>f.notationName)){let f=`&${p.localName};`;d.some(N=>N.indexOf(f)>=0)&&this._error(`Entity references unparsed entity '${p.localName}'`)}o&&(this._expect("]"),this._whitespace(0)),this._expect(">"),this._assert(this._stack.pop().nodeType===n.NodeType.DocumentType)}else this._unexpected();break}case"/":{this._next();let e=this._name();this._assert(e!==null),this._whitespace(0),this._expect(">");let i=this._stack.pop(),h=i.prefix?`${i.prefix}:${i.localName}`:i.localName;e!==h&&this._error(`Opening tag <${h}> and ending tag </${e}> mismatch`,this._start);break}default:{this._assert(this._stack.length>1||!this._document.documentElement);let e=this._name();this._assert(e!==null),this._assert(!e.startsWith("xmlns:"));let i=[],h=this._whitespace(0);if(h)for(;this._char!=="/"&&this._char!==">";){h||this._unexpected();let c=this._position,u=this._name();u||this._unexpected(),this._whitespace(0),this._expect("="),this._whitespace(0);let _=this._valuePosition,l=this._attributeValue();i.push({qualifiedName:u,value:l,position:c,valuePosition:_}),h=this._whitespace(0),u==="xmlns"&&(!this._validateNamespace(l)||l==="http://www.w3.org/2000/xmlns/"||l==="http://www.w3.org/XML/1998/namespace")&&this._error(`Invalid namespace '${l}'`,_),u==="xml:space"&&l!=="preserve"&&l!=="default"&&this._error(`Unexpected xml:space attribute value '${l}'`,c)}let a=new Map;for(let c of i.reverse()){let u=c.qualifiedName,_=c.value;this._assert(u!=="xmlns:");let l=new n.QualifiedName(u);c.prefix=l.prefix,c.localName=l.localName,c.prefix!==null?(this._assert(c.localName!==""),c.prefix==="xmlns"&&c.localName&&((!this._validateNamespace(_)||_==="http://www.w3.org/2000/xmlns/")&&this._error(`Invalid namespace '${_}'`,c.valuePosition),(c.localName==="xmlns"||c.localName==="xml"&&_!=="http://www.w3.org/XML/1998/namespace"||c.localName!=="xml"&&_==="http://www.w3.org/XML/1998/namespace")&&this._error(`Invalid namespace prefix '${c.localName}'`,c.position),this._version===0&&_.length===0&&this._error("Invalid namespace declaration",c.position),a.set(c.localName,_))):c.localName==="xmlns"&&a.set("",_)}let r=new n.QualifiedName(e),o=r.prefix||"",d=a.has(o)?a.get(o):this._lookupNamespaceURI(o),p=null,f=s.documentType,N=f?f.elements.getNamedItem(e):null;d===null?(this._assert(r.prefix===null&&!e.endsWith(":")||e===":"||N!==null),p=s.createElement(e)):(this._assert(e===":"||!e.endsWith(":")&&!e.startsWith(":")),o&&d===""&&this._error(`Invalid namespace prefix '${o}'`,this._start),p=s.createElementNS(d,e));let g=this._node();g.nodeType===n.NodeType.Document&&g.documentElement!==null&&this._error("Duplicate document element",this._start),this._appendChild(p);let y=new Set;for(let c of i){let u=c.qualifiedName,_=c.prefix||"",l=a.has(_)?a.get(_):this._lookupNamespaceURI(_),m=null;if(l)m=s.createAttributeNS(l,u);else{let I=N?N.attributes.getNamedItem(u):null;this._assert(u.indexOf(":")===-1||I),m=s.createAttribute(u)}let w=`${m.namespaceURI||""}|${m.localName}`;this._assert(!y.has(w)),y.add(w),m.value=c.value,m.ownerElement=p,p.setAttributeNode(m)}let T=this._match("/");if(this._expect(">"),this._depth<=this._stack.length&&this._nodeType()===n.NodeType.Document)return this._stack.pop();T||this._stack.push(p);break}}break}default:{for(;this._char===void 0&&this._context.length>0;)this._popContext();if(this._char===void 0){if(this._stack.length===1&&this._nodeType()===n.NodeType.Document){this._assert(s.documentElement);let i=s.documentType;i&&(delete i.parameterEntities,delete i.elements);let h=this._stack.pop();for(let a of Object.keys(this))a!=="_data"&&a!=="_callback"&&a!=="_entities"&&!a.startsWith("_name")&&delete this[a];return h}this._unexpected()}let e=this._node();if(e.nodeType===n.NodeType.Element){let i=s.documentType,h=e.prefix?`${e.prefix}:${e.localName}`:e.localName,a=i?i.elements.getNamedItem(h):null;this._characterData=a?a.characterData:!1,this._seek(this._position);let r=[];for(;this._char!=="<"&&this._char!==void 0;)this._char==="]"&&this._match("]]>")&&this._unexpected(),r.push(this._content()),r.length>4096&&(r=[r.join("")]);if(r.length>0){let o=r.join("");if(o.trim().length>0){let d=s.createTextNode(o);this._appendChild(d)}}continue}this._whitespace(0)||this._unexpected();break}}}_internalSubset(t){for(;;)switch(this._start=this._position,this._char){case"<":{switch(this._next(),this._char){case"?":{this._processingInstruction();break}case"!":{if(this._next(),this._match("--"))this._parameterEntities=!1,this._characterData=!0,this._comment(),this._parameterEntities=!0;else if(this._match("ENTITY")){let s=this._node();this._assert(s.nodeType===n.NodeType.DocumentType),this._parameterEntities=!1,this._whitespace(1);let e=this._char==="%";e&&(this._next(),this._whitespace(1)),this._parameterEntities=!0;let i=this._entityName(),h=s.createEntity(i),a=this._whitespace(0);if(a&&(this._char==='"'||this._char==="'"))h.value=this._entityValue(),this._whitespace(0);else if(a&&this._match("SYSTEM")?(this._whitespace(1),h.systemId=this._systemLiteral(),a=this._whitespace(0)):a&&this._match("PUBLIC")?(this._whitespace(1),h.publicId=this._pubidLiteral(),this._whitespace(1),h.systemId=this._systemLiteral(),a=this._whitespace(0)):this._unexpected(),a&&!e&&this._match("NDATA")){this._whitespace(1);let r=this._name();this._assert(r!==null),h.notationName=r,this._whitespace(0)}this._expect(">"),e?s.parameterEntities.setNamedItem(h):this._appendChild(h)}else if(this._match("ELEMENT")){let s=this._node();this._assert(s.nodeType===n.NodeType.DocumentType),this._whitespace(1);let e=this._name();this._assert(e!==null),this._whitespace(1);let i=this._elementType(e);if(this._match("EMPTY"))this._whitespace(0);else if(this._match("ANY"))this._whitespace(0);else if(this._expect("("),this._whitespace(0),this._match("#PCDATA"))if(i.characterData=!0,this._whitespace(0),this._match(")"))this._match("*");else{for(this._whitespace(0);this._match("|");){this._whitespace(0);let h=this._name();this._assert(h),this._whitespace(0)}this._expect(")*")}else this._elementChildren();this._whitespace(0),this._expect(">")}else if(this._match("ATTLIST")){let s=this._node();this._assert(s.nodeType===n.NodeType.DocumentType),this._whitespace(1);let e=this._name();this._assert(e!==null);let i=this._elementType(e);for(;this._whitespace(0);){let h=this._attributeDefinition();if(!h)break;i.attributes.setNamedItem(h)}this._whitespace(0),this._expect(">")}else if(this._match("NOTATION")){this._assert(this._nodeType()===n.NodeType.DocumentType);let s={systemId:null,publicId:null};this._whitespace(1),s.name=this._entityName();let e=this._whitespace(0);e&&this._match("SYSTEM")&&(this._whitespace(1),s.systemId=this._systemLiteral(),e=this._whitespace(0)),e&&this._match("PUBLIC")&&(this._whitespace(1),s.publicId=this._pubidLiteral(),(this._whitespace(0)&&this._char==='"'||this._char==="'")&&(s.systemId=this._systemLiteral(),this._whitespace(0))),this._assert(s.systemId||s.publicId),this._expect(">")}else this._match("[")?(this._whitespace(0),this._match("INCLUDE")?(this._assert(this._context.length>0),this._whitespace(0),this._expect("["),this._internalSubset("]"),this._expect("]]>")):this._match("IGNORE")&&(this._whitespace(0),this._expect("["),this._ignoreSectContents())):this._unexpected();break}default:break}break}case"%":{this._resolveParameterEntityReference();break}default:{if(this._char===t)return;this._whitespace(0)||this._unexpected();break}}}_ignoreSectContents(){for(;!this._match("]]>");)this._match("<![")?this._ignoreSectContents():this._next()}_node(){return this._stack[this._stack.length-1]}_nodeType(){return this._node().nodeType}_document(){return this._stack[0]}_appendChild(t){return this._node().appendChild(t)}_lookupNamespaceURI(t){return this._node().lookupNamespaceURI(t)}_name(){let t=this._position,s=[],e=this._char.codePointAt(0);if((n.TextReader._nameStartCharRegExp.test(this._char)||e>=65536&&e<=983039)&&(s.push(this._char),this._next(),this._char!==void 0)){let i=this._char.codePointAt(0);for(;(n.TextReader._nameCharRegExp.test(this._char)||i>=768&&i<=879||i>=8255&&i<=8256)&&(s.push(this._char),this._next(),!(this._char===void 0||this._implicitSpace));)i=this._char.codePointAt(0)}return s.length>0?s.join(""):(this._seek(t),null)}_nmtoken(){let t=this._position,s=[],e=this._char.codePointAt(0);for(;(this._nameCharRegExp.test(this._char)||e>=768&&e<=879||e>=8255&&e<=8256)&&(s.push(this._char),this._next(),this._char!==void 0);)e=this._char.codePointAt(0);return s.length>0?s.join(""):(this._seek(t),null)}_entityName(){let t=this._position,s=this._name();return s===null&&this._error("Expected entity name",t),!s.endsWith(":")&&s.indexOf(":")!==-1&&this._error("Invalid colon in entity name",t),s}_entityValue(){let t=this._char;this._parameterEntities=!1,this._characterData=!0;let s=this._decoder,e=this._position;for(this._next();this._char!==t;)this._char===void 0&&this._unexpected(),this._next();let i=this._position;this._parameterEntities=!0,this._seek(e),this._next();let h=[];for(;this._position!==i||this._decoder!==s;){if(this._char===void 0&&this._unexpected(),this._char==="%"){this._context.length===0&&this._error("Invalid parameter entity reference in internal subset"),this._assert(),this._resolveParameterEntityReference();continue}if(this._char==="&"){h.push(this._entityReference()),this._expect(";");continue}h.push(this._char),this._next()}return this._next(),this._parameterEntities=!0,this._characterData=!1,h.join("")}_elementType(t){let s=this._document().documentType,e=s.elements.getNamedItem(t);return e||(e={localName:t,characterData:!1,attributes:new n.NamedNodeMap},s.elements.setNamedItem(e)),e}_elementChildren(){let t=()=>this._match("?")||this._match("*")||this._match("+"),s="",e=new Set;for(;;){let i=this._name();if(i?(this._assert(s!=="|"||!e.has(i)),e.add(i),t(),this._whitespace(0)):this._match("(")?(this._elementChildren(),this._whitespace(0)):this._unexpected(),this._match(")"))break;s&&s!==this._char&&this._unexpected(),this._char!=="|"&&this._char!==","&&this._unexpected(),s=this._char,this._next(),this._whitespace(0)}t()}_attributeDefinition(){this._whitespace(0);let t=this._name();if(t){if(this._whitespace(1),this._match("CDATA")||this._match("IDREFS")||this._match("IDREF")||this._match("ID")||this._match("ENTITIES")||this._match("ENTITY")||this._match("NMTOKENS")||this._match("NMTOKEN")||this._enumeratedType())return this._whitespace(1),!this._match("#REQUIRED")&&!this._match("#IMPLIED")&&(this._match("#FIXED")&&this._whitespace(1),this._parameterEntities=!1,this._attributeValue(),this._parameterEntities=!0),{localName:t};this._assert(!1)}return null}_enumeratedType(){if(this._match("NOTATION")){this._whitespace(1),this._expect("(");do{this._whitespace(0);let t=this._name();this._assert(t),this._whitespace(0)}while(this._match("|"));return this._expect(")"),!0}if(this._match("(")){do{this._whitespace(0);let t=this._nmtoken();this._assert(t),this._whitespace(0)}while(this._match("|"));return this._expect(")"),!0}return!1}_content(){let t=this._char==="&"?this._resolveEntityReference():this._char;if(t===void 0)return"";let s=t.codePointAt(0);return!this._charRegExp.test(t)&&(s<65536||s>1114111)&&this._unexpected(),this._next(),t}_attributeValue(){let t=this._char;t!=='"'&&t!=="'"&&this._unexpected(),this._characterData=!0;let s=this._decoder,e=this._position;for(this._next();this._char!==t;)(this._char===void 0||this._char==="<")&&this._unexpected(),this._next();let i=this._position;this._characterData=!1,this._seek(e),this._next();let h=[];for(;this._position!==i||this._decoder!==s;){if(this._char===void 0&&this._context.length>0){this._popContext();continue}this._char==="<"&&this._unexpected(),h.push(this._content()),h.length>65536&&this._error("Invalid character data buffer size.")}return this._characterData=!0,this._next(),h.join("")}_validateNamespace(t){return t&&(t.startsWith("#")||t.indexOf(":")===-1)?!1:this._version>0?!0:/^[A-Za-z0-9-._~:/?#[\]@!$&'()*+,;%=]*$/.exec(t)!==null}_pubidLiteral(){let t=this._char;t!=='"'&&t!=="'"&&this._unexpected(),this._next();let s=[];for(;this._char!==t;){if(/[a-zA-Z0-9-'()+,./:=?;!*#@$_%]/.test(this._char)||this._char===" "||this._char==="\r"||this._char===`
`){s.push(this._char),this._next(),this._char===void 0&&this._unexpected();continue}this._unexpected()}return this._next(),s.join("")}_systemLiteral(){let t=this._char;t!=='"'&&t!=="'"&&this._unexpected(),this._next();let s=[];for(;this._char!==t;)s.push(this._char),this._next(),this._char===void 0&&this._unexpected();this._next();let e=s.join("");e.indexOf("#")>=0&&this._unexpected();let i=/(.*\/)[^/]*/.exec(this._base);return(i?i[1]:"")+e}_terminal(t){let s=[];for(;!this._match(t);){this._char===void 0&&this._unexpected();let e=this._char.codePointAt(0);e!==9&&e!==10&&e!==13&&(e<32||e>55295)&&(e<57344||e>65533)&&(e<65536||e>1114111)&&this._unexpected(),s.push(this._char),this._next()}return s.join("")}_resolveParameterEntityReference(){let t=this._position;this._next();let s=this._name();if(this._assert(s!==null),this._char===";"){let e=this._document().documentType.parameterEntities.getNamedItem(s);if(e){let i=!this._entity&&!this._context.some(h=>h.entity);e.systemId?this._pushResource(e.systemId,s,!1):this._pushString(e.value,s,!1),i&&(this._implicitSpace=!0);return}this._error(`Undefined ENTITY '${s}'`,t)}this._unexpected()}_resolveEntityReference(){let t=this._position,s=this._entityReference(),e=s.substring(1,s.length-1);if(e.startsWith("#x")){let h=parseInt(e.substring(2),16);return String.fromCodePoint(h)}else if(e.startsWith("#")){let h=parseInt(e.substring(1),10);return String.fromCodePoint(h)}else if(this._entities.has(e))return this._entities.get(e);let i=this._document().documentType;s=i?i.entities.getNamedItem(e):null,s?s.systemId?this._pushResource(s.systemId,e,!0):this._pushString(s.value,e,!0):(this._context.length!==0||!i||i.parameterEntities.length===0)&&this._error(`Undefined ENTITY '${e}'`,t)}_entityReference(){if(this._char==="&"){let t=this._position;if(this._next(),this._match("#x")){let s=[];for(;/[0-9a-fA-F]/.test(this._char);)s.push(this._char),this._next(),this._char===void 0&&this._unexpected();if(this._assert(this._char===";"),s.length>0){let e=s.join(""),i=parseInt(e,16);return this._assert(i<=1114111,`Invalid value '&#x${e};'`,t),`&#x${e};`}}else if(this._match("#")){let s=[];for(;/[0-9]/.test(this._char);)s.push(this._char),this._next(),this._char===void 0&&this._unexpected();if(this._assert(this._char===";"),s.length>0){let e=s.join(""),i=parseInt(e,10);return this._assert(i<=1114111,`Invalid value '&#${e};'`,t),`&#${e};`}}else{let s=this._name();return this._assert(s!==null),this._assert(this._char===";"),`&${s};`}}return this._unexpected(),null}_comment(){let t=this._terminal("--"),s=this._document().createComment(t);this._appendChild(s),this._expect(">")}_processingInstruction(){this._next();let t=this._entityName(),s=this._char==="?"?!1:this._whitespace(1),e=this._position,i=this._terminal("?>");if(t.toLowerCase()==="xml"){this._seek(e),this._assert(t==="xml",`'${t}' must be lower case`),this._assert(this._start===this._prolog,"Prolog must start with XML declaration",this._start),this._assert(typeof this._data!="string","Invalid text declaration",this._start);let a={version:"",encoding:"",standalone:"no"};for(let r of Object.keys(a)){let o=r==="version"&&this._context.length===0||r==="encoding"&&this._context.length>0;(s||o)&&(o?this._expect(r):this._match(r))&&(this._whitespace(0),this._expect("="),this._whitespace(0),a[r]=this._attributeValue(),s=this._whitespace(0))}if(this._expect("?>"),a.encoding=a.encoding.toLowerCase(),this._decoder.encoding&&a.encoding!==this._decoder.encoding){let r=this._position;this._decoder=x.open(this._data,a.encoding),this._seek(r)}if(a.version.length>0){let r=/^(\d)\.(\d)$/.exec(a.version);this._assert(r&&r[1]==="1",`Invalid XML version '${a.version}'`);let o=Number.parseInt(r[2],10);o>this._version&&(this._charRegExp=/[\x01-\uD7FF\uE000-\uFFFD]/,this._version=o),this._assert(this._context.length===0||this._context.some(d=>d.version>=this._version))}this._assert(a.standalone==="no"||a.standalone==="yes"&&!this._entity&&this._context.length===0),this._standalone=a.standalone==="yes"}let h=this._document().createProcessingInstruction(t,i);this._appendChild(h)}_whitespace(t){let s=this._position,e=0;for(this._implicitSpace&&(e++,this._implicitSpace=!1);this._char===" "||this._char===`
`||this._char==="\r"||this._char==="	"||this._version>0&&this._char==="\x85";)e++,this._next();return e<t&&(this._seek(s),this._unexpected()),e>0}_pushResource(t,s,e){if(this._resolve){let i=this._resolve(t);if(i)return this._pushBuffer(i,t,s,e),!0}return!1}_pushBuffer(t,s,e,i){let h=x.open(t),a=h.encoding==="utf-8"?x.open(t,"utf-8"):h;this._pushContext(a,t,s,e,i,!1),this._data=t}_pushString(t,s,e){let i=x.open(t);this._pushContext(i,t,this._base,s,e)}_pushContext(t,s,e,i,h){this._context.some(a=>a&&a.base===e&&a.entity===i)&&(this._assert(!i,`Recursive entity '${i}'`),this._assert(!e,`Recursive base '${e}'`)),(e.length!==0||i.length!==0)&&this._context.push(this._state),this._stop=h,this._entity=i,this._base=e,this._data=s,this._decoder=t,this._prolog=this._decoder.position,this._char="",this._next()}_popContext(){let t=this._entity;this._state=this._context.pop(),t&&(this._expect(";"),this._implicitSpace=!this._context.some(s=>s.entity))}get _state(){return{base:this._base,data:this._data,decoder:this._decoder,position:this._position,version:this._version,entity:this._entity,prolog:this._prolog,stop:this._stop}}set _state(t){this._stop=t.stop,this._base=t.base,this._data=t.data,this._decoder=t.decoder,this._seek(t.position),this._version=t.version,this._entity=t.entity,this._prolog=t.prolog}_next(){if(this._char===void 0&&this._unexpected(),this._position=this._decoder.position,this._char=this._decoder.decode(),this._implicitSpace=!1,this._parameterEntities&&this._char==="%"&&(this._entity||this._base)&&this._resolveParameterEntityReference(),!this._characterData&&this._char==="&"&&(this._entity||this._base)){let t=this._resolveEntityReference();t!==void 0&&(this._char=t)}(this._char==="\uFFFF"||this._char==="\uFFFE"||this._version>0&&this._char>="\x7F"&&this._char<="\x9F"&&this._char!=="\x85")&&this._unexpected(),this._char===void 0&&!this._stop&&this._context.length>0&&this._popContext()}_seek(t){this._decoder.position=t,this._char="",this._next()}_expect(t){return this._match(t)||this._unexpected(),!0}_match(t){if(this._char!==t[0])return!1;if(t.length===1)return this._next(),!0;if(this._context.length===0){let i=this._position;for(let h=0;h<t.length;h++){if(this._char!==t[h])return this._seek(i),!1;this._next()}return!0}let s=Array.from(this._context),e=this._state;for(let i=0;i<t.length;i++){if(this._char!==t[i])return this._context=s,this._state=e,!1;this._next()}return!0}_assert(t,s,e){(t===!1||t===void 0||t===null)&&this._error(s,e)}_error(t,s){if(s&&(this._parameterEntities=!1,this._characterData=!0,this._seek(s)),t)throw new n.Error(`${t} ${this._location()}`);this._unexpected()}_unexpected(){let t=this._char;if(t===void 0)throw new n.Error("Unexpected end of XML input.");t==='"'?t="string":t>="0"&&t<="9"||t==="-"?t="number":((t<" "||t>"\x7F")&&(t=t.codePointAt(0),t<256?t=`\\x${`0${t.toString(16)}`.slice(-2)}`:t<65536?t=`\\u${`000${t.toString(16)}`.slice(-4)}`:t=`\\u${`00000${t.toString(16)}`.slice(-6)}`),t=`token '${t}'`),this._error(`Unexpected ${t}`)}_location(){for(;typeof this._data=="string";)this._popContext();this._parameterEntities=!1,this._characterData=!0;let t=1,s=1;this._decoder.position=0;let e="";do{if(this._decoder.position===this._position)break;e=this._decoder.decode(),e===`
`?(t++,s=1):s++}while(e!==void 0);return`at ${this._base?`${this._base}:`:""}${t}:${s}.`}};n.NodeList=class extends Array{item(t){return this[t]||null}};n.Node=class{constructor(t,s){this._ownerDocument=t,this._nodeType=s,this._childNodes=new n.NodeList}get ownerDocument(){return this._ownerDocument}get nodeType(){return this._nodeType}get localName(){throw new n.Error("Not implemented.")}get namespaceURI(){return null}get childNodes(){return this._childNodes}get parentNode(){return this._parentNode}set parentNode(t){this._parentNode=t}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild||null}get previousSibling(){return this._previousSibling}set previousSibling(t){this._previousSibling=t}get nextSibling(){return this._nextSibling}set nextSibling(t){this._nextSibling=t}appendChild(t){this._firstChild=this._firstChild||t,t.previousSibling=this._lastChild,t.previousSibling&&(t.previousSibling.nextSibling=t),this._lastChild=t,this.childNodes[this.childNodes.length]=t,t.parentNode=this}lookupNamespaceURI(t){switch(t){case"xml":return"http://www.w3.org/XML/1998/namespace";case"xmlns":return"http://www.w3.org/2000/xmlns/";default:return null}}};n.Element=class extends n.Node{constructor(t,s,e){if(super(t,n.NodeType.Element),this._namespaces=new Map,this._attributes=new n.NamedNodeMap,this._namespaceURI=s,s===null)this._prefix=null,this._localName=e;else{let i=new n.QualifiedName(e);this._prefix=i.prefix,this._localName=i.localName}}get localName(){return this._localName}get prefix(){return this._prefix}get namespaceURI(){return this._namespaceURI}get attributes(){return this._attributes}get textContent(){return this.childNodes.map(t=>t.nodeType===n.NodeType.ProcessingInstruction||t.nodeType===n.NodeType.Comment?"":t.textContent).join("")}getElementsByTagName(t){let s=new n.NodeList,e=this.firstChild;for(;e;)e.nodeType===n.NodeType.Element&&(t==="*"||t===(e.prefix?`${e.prefix}:${e.localName}`:e.localName))&&s.push(e),e=e.nextSibling;return s}getAttribute(t){let s=this.getAttributeNode(t);return s&&s.value||""}getAttributeNode(t){return this.attributes.getNamedItem(t)}setAttributeNode(t){let s=this.attributes.setNamedItem(t);if(t.namespaceURI==="http://www.w3.org/2000/xmlns/"){let e=t.prefix?t.localName:"";this._namespaces.set(e,t.value)}return s}lookupNamespaceURI(t){return this._namespaces.has(t)?this._namespaces.get(t):this.parentNode?this.parentNode.lookupNamespaceURI(t):super.lookupNamespaceURI(t)}};n.Attribute=class extends n.Node{constructor(t,s,e){if(super(t,n.NodeType.Attribute),this._namespaceURI=s,s===null)this._prefix=null,this._localName=e;else{let[i,h]=n.Utility.split(e);this._prefix=i,this._localName=h}}get ownerElement(){return this._ownerElement}set ownerElement(t){this._ownerElement=t}get localName(){return this._localName}get prefix(){return this._prefix}get namespaceURI(){return this._namespaceURI}get value(){return this._value}set value(t){this._value=t}};n.CharacterData=class extends n.Node{constructor(t,s,e){super(t,s),this._data=e}get data(){return this._data}get textContent(){return this._data}};n.Text=class extends n.CharacterData{constructor(t,s){super(t,n.NodeType.Text,s)}get localName(){return"#text"}};n.CDataSection=class extends n.CharacterData{constructor(t,s){super(t,n.NodeType.CDATA,s)}};n.Entity=class extends n.Node{constructor(t,s){super(t,n.NodeType.Entity),this._name=s,this._publicId="",this._systemId="",this._notationName="",this._value=""}get localName(){return this._name}get publicId(){return this._publicId}set publicId(t){this._publicId=t}get systemId(){return this._systemId}set systemId(t){this._systemId=t}get notationName(){return this._notationName}set notationName(t){this._notationName=t}set value(t){this._value=t}get value(){return this._value}};n.ProcessingInstruction=class extends n.Node{constructor(t,s,e){super(t,n.NodeType.ProcessingInstruction),this._target=s,this._data=e}get localName(){return this._target}get target(){return this._target}get data(){return this._data}};n.Comment=class extends n.CharacterData{constructor(t,s){super(t,n.NodeType.Comment,s)}get localName(){return"#comment"}};n.Document=class extends n.Node{constructor(){super(null,n.NodeType.Document),this._documentElement=null,this._documentType=null}get documentElement(){return this._documentElement}get documentType(){return this._documentType}appendChild(t){super.appendChild(t),t.nodeType===n.NodeType.Element&&(this._documentElement=t),t.nodeType===n.NodeType.DocumentType&&(this._documentType=t)}createElement(t){return new n.Element(this,null,t)}createElementNS(t,s){return new n.Element(this,t,s)}createAttribute(t){return new n.Attribute(this,null,t)}createAttributeNS(t,s){return new n.Attribute(this,t,s)}createTextNode(t){return new n.Text(this,t)}createCDATASection(t){return new n.CDataSection(this,t)}createProcessingInstruction(t,s){return new n.ProcessingInstruction(this,t,s)}createComment(t){return new n.Comment(this,t)}createDocumentType(t,s,e){return new n.DocumentType(this,t,s,e)}};n.DocumentType=class extends n.Node{constructor(t,s,e,i){super(t,n.NodeType.DocumentType),this._name=s,this._publicId=e,this._systemId=i,this._entities=new n.NamedNodeMap}get name(){return this._name}get publicId(){return this._publicId}get systemId(){return this._systemId}get entities(){return this._entities}appendChild(t){t.nodeType===n.NodeType.Entity&&this._entities.setNamedItem(t)}createEntity(t){return new n.Entity(this.ownerDocument,t)}};n.NamedNodeMap=class extends Array{getNamedItem(t){for(let s=this.length-1;s>=0;s--){let e=this[s],i=e.prefix?`${e.prefix}:${e.localName}`:e.localName;if(t===i)return e}return null}getNamedItemNS(t,s){for(let e=this.length-1;e>=0;e--){let i=this[e];if(s===i.localName&&t===i.namespaceURI)return i}return null}setNamedItem(t){let s=t.prefix?`${t.prefix}:${t.localName}`:t.localName;for(let e=this.length-1;e>=0;e--){let i=this[e],h=i.prefix?`${i.prefix}:${i.localName}`:i.localName;if(s===h){let a=this[e];return this[e]=i,a}}return this.push(t),null}};n.QualifiedName=class{constructor(t){this.prefix=null,this.localName=t;let s=t.indexOf(":");if(s>=0&&s!==t.length-1){let e=t.substring(s+1),i=e.codePointAt(0);e.indexOf(":")===-1&&(n.TextReader._nameStartCharRegExp.test(String.fromCodePoint(i))||i>=65536&&i<=983039)&&(this.prefix=t.substring(0,s),this.localName=e)}}};n.NodeType={None:0,Element:1,Attribute:2,Text:3,CDATA:4,EntityReference:5,Entity:6,ProcessingInstruction:7,Comment:8,Document:9,DocumentType:10,DocumentFragment:11,Notation:12};n.Error=class extends Error{constructor(t){super(t),this.name="XML Error"}};var b=n.TextReader;export{b as TextReader};
