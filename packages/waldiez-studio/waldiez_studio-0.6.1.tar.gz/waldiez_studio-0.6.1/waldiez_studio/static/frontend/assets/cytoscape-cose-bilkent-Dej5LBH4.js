import{g as t}from"./@braintree-BnqQ9vdI.js";import{r as n}from"./cose-base-CjX5o62z.js";var e,i,o={exports:{}};const a=t(e?o.exports:(e=1,o.exports=(i=n(),function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n){t.exports=i},function(t,n,e){var i=e(0).layoutBase.LayoutConstants,o=e(0).layoutBase.FDLayoutConstants,a=e(0).CoSEConstants,r=e(0).CoSELayout,s=e(0).CoSENode,d=e(0).layoutBase.PointD,l=e(0).layoutBase.DimensionD,u={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function p(t){this.options=function(t,n){var e={};for(var i in t)e[i]=t[i];for(var i in n)e[i]=n[i];return e}(u,t),g(this.options)}var g=function(t){null!=t.nodeRepulsion&&(a.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(a.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(a.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(a.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(a.MAX_ITERATIONS=o.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(a.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(a.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),"draft"==t.quality?i.QUALITY=0:"proof"==t.quality?i.QUALITY=2:i.QUALITY=1,a.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,a.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!t.randomize,a.ANIMATE=o.ANIMATE=i.ANIMATE=t.animate,a.TILE=t.tile,a.TILING_PADDING_VERTICAL="function"==typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,a.TILING_PADDING_HORIZONTAL="function"==typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal};p.prototype.run=function(){var t,n,e=this.options;this.idToLNode={};var i=this.layout=new r,o=this;o.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var a=i.newGraphManager();this.gm=a;var s=this.options.eles.nodes(),d=this.options.eles.edges();this.root=a.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(s),i);for(var l=0;l<d.length;l++){var u=d[l],p=this.idToLNode[u.data("source")],g=this.idToLNode[u.data("target")];p!==g&&0==p.getEdgesBetween(g).length&&(a.add(i.newEdge(),p,g).id=u.id())}var c=function(t,n){"number"==typeof t&&(t=n);var e=t.data("id"),i=o.idToLNode[e];return{x:i.getRect().getCenterX(),y:i.getRect().getCenterY()}},E=function a(){for(var r,s=function(){e.fit&&e.cy.fit(e.eles,e.padding),t||(t=!0,o.cy.one("layoutready",e.ready),o.cy.trigger({type:"layoutready",layout:o}))},d=o.options.refresh,l=0;l<d&&!r;l++)r=o.stopped||o.layout.tick();if(r)return i.checkLayoutSuccess()&&!i.isSubLayout&&i.doPostLayout(),i.tilingPostLayout&&i.tilingPostLayout(),i.isLayoutFinished=!0,o.options.eles.nodes().positions(c),s(),o.cy.one("layoutstop",o.options.stop),o.cy.trigger({type:"layoutstop",layout:o}),n&&cancelAnimationFrame(n),void(t=!1);var u=o.layout.getPositionsData();e.eles.nodes().positions(function(t,n){if("number"==typeof t&&(t=n),!t.isParent()){for(var e=t.id(),i=u[e],o=t;null==i&&(i=u[o.data("parent")]||u["DummyCompound_"+o.data("parent")],u[e]=i,null!=(o=o.parent()[0])););return null!=i?{x:i.x,y:i.y}:{x:t.position("x"),y:t.position("y")}}}),s(),n=requestAnimationFrame(a)};return i.addListener("layoutstarted",function(){"during"===o.options.animate&&(n=requestAnimationFrame(E))}),i.runLayout(),"during"!==this.options.animate&&(o.options.eles.nodes().not(":parent").layoutPositions(o,o.options,c),t=!1),this},p.prototype.getTopMostNodes=function(t){for(var n={},e=0;e<t.length;e++)n[t[e].id()]=!0;var i=t.filter(function(t,e){"number"==typeof t&&(t=e);for(var i=t.parent()[0];null!=i;){if(n[i.id()])return!1;i=i.parent()[0]}return!0});return i},p.prototype.processChildrenList=function(t,n,e){for(var i=n.length,o=0;o<i;o++){var a,r,u=n[o],p=u.children(),g=u.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((a=null!=u.outerWidth()&&null!=u.outerHeight()?t.add(new s(e.graphManager,new d(u.position("x")-g.w/2,u.position("y")-g.h/2),new l(parseFloat(g.w),parseFloat(g.h)))):t.add(new s(this.graphManager))).id=u.data("id"),a.paddingLeft=parseInt(u.css("padding")),a.paddingTop=parseInt(u.css("padding")),a.paddingRight=parseInt(u.css("padding")),a.paddingBottom=parseInt(u.css("padding")),this.options.nodeDimensionsIncludeLabels&&u.isParent()){var c=u.boundingBox({includeLabels:!0,includeNodes:!1}).w,E=u.boundingBox({includeLabels:!0,includeNodes:!1}).h,y=u.css("text-halign");a.labelWidth=c,a.labelHeight=E,a.labelPos=y}this.idToLNode[u.data("id")]=a,isNaN(a.rect.x)&&(a.rect.x=0),isNaN(a.rect.y)&&(a.rect.y=0),null!=p&&p.length>0&&(r=e.getGraphManager().add(e.newGraph(),a),this.processChildrenList(r,p,e))}},p.prototype.stop=function(){return this.stopped=!0,this};var c=function(t){t("layout","cose-bilkent",p)};"undefined"!=typeof cytoscape&&c(cytoscape),t.exports=c}]))));export{a as c};
