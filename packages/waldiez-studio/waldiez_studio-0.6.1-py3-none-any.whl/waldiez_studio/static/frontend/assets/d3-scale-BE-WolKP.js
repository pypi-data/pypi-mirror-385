import{I as n}from"./internmap-B8oPgqVZ.js";import{r,b as t,t as e,a,c as u}from"./d3-array-Dy1FNIg7.js";import{f as i,p as o,a as c,b as f,c as s,d as l}from"./d3-format-CtKB2kpq.js";import{b as h,a as m,c as p}from"./d3-interpolate-DM7tdCV2.js";import{t as g}from"./d3-time-format-Cy3O4Dmr.js";import{s as d,t as v,a as M,b as y,c as w,d as b,e as k,f as N,g as A}from"./d3-time-DAlaitYb.js";function j(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}const x=Symbol("implicit");function D(){var r=new n,t=[],e=[],a=x;function u(n){let u=r.get(n);if(void 0===u){if(a!==x)return a;r.set(n,u=t.push(n)-1)}return e[u%e.length]}return u.domain=function(e){if(!arguments.length)return t.slice();t=[],r=new n;for(const n of e)r.has(n)||r.set(n,t.push(n)-1);return u},u.range=function(n){return arguments.length?(e=Array.from(n),u):e.slice()},u.unknown=function(n){return arguments.length?(a=n,u):a},u.copy=function(){return D(t,e).unknown(a)},j.apply(u,arguments),u}function I(){var n,t,e=D().unknown(void 0),a=e.domain,u=e.range,i=0,o=1,c=!1,f=0,s=0,l=.5;function h(){var e=a().length,h=o<i,m=h?o:i,p=h?i:o;n=(p-m)/Math.max(1,e-f+2*s),c&&(n=Math.floor(n)),m+=(p-m-n*(e-f))*l,t=n*(1-f),c&&(m=Math.round(m),t=Math.round(t));var g=r(e).map(function(r){return m+n*r});return u(h?g.reverse():g)}return delete e.unknown,e.domain=function(n){return arguments.length?(a(n),h()):a()},e.range=function(n){return arguments.length?([i,o]=n,i=+i,o=+o,h()):[i,o]},e.rangeRound=function(n){return[i,o]=n,i=+i,o=+o,c=!0,h()},e.bandwidth=function(){return t},e.step=function(){return n},e.round=function(n){return arguments.length?(c=!!n,h()):c},e.padding=function(n){return arguments.length?(f=Math.min(1,s=+n),h()):f},e.paddingInner=function(n){return arguments.length?(f=Math.min(1,n),h()):f},e.paddingOuter=function(n){return arguments.length?(s=+n,h()):s},e.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),h()):l},e.copy=function(){return I(a(),[i,o]).round(c).paddingInner(f).paddingOuter(s).align(l)},j.apply(h(),arguments)}function F(n){return+n}var O=[0,1];function R(n){return n}function S(n,r){return(r-=n=+n)?function(t){return(t-n)/r}:(t=isNaN(r)?NaN:.5,function(){return t});var t}function B(n,r,t){var e=n[0],a=n[1],u=r[0],i=r[1];return a<e?(e=S(a,e),u=t(i,u)):(e=S(e,a),u=t(u,i)),function(n){return u(e(n))}}function L(n,r,e){var a=Math.min(n.length,r.length)-1,u=new Array(a),i=new Array(a),o=-1;for(n[a]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++o<a;)u[o]=S(n[o],n[o+1]),i[o]=e(r[o],r[o+1]);return function(r){var e=t(n,r,1,a)-1;return i[e](u[e](r))}}function Q(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Y(){var n,r,t,e,a,u,i=O,o=O,c=m,f=R;function s(){var n,r,t,c=Math.min(i.length,o.length);return f!==R&&(n=i[0],r=i[c-1],n>r&&(t=n,n=r,r=t),f=function(t){return Math.max(n,Math.min(r,t))}),e=c>2?L:B,a=u=null,l}function l(r){return null==r||isNaN(r=+r)?t:(a||(a=e(i.map(n),o,c)))(n(f(r)))}return l.invert=function(t){return f(r((u||(u=e(o,i.map(n),h)))(t)))},l.domain=function(n){return arguments.length?(i=Array.from(n,F),s()):i.slice()},l.range=function(n){return arguments.length?(o=Array.from(n),s()):o.slice()},l.rangeRound=function(n){return o=Array.from(n),c=p,s()},l.clamp=function(n){return arguments.length?(f=!!n||R,s()):f!==R},l.interpolate=function(n){return arguments.length?(c=n,s()):c},l.unknown=function(n){return arguments.length?(t=n,l):t},function(t,e){return n=t,r=e,s()}}function q(){return Y()(R,R)}function z(n){var r=n.domain;return n.ticks=function(n){var t=r();return a(t[0],t[t.length-1],null==n?10:n)},n.tickFormat=function(n,t){var a=r();return function(n,r,t,a){var u,h=e(n,r,t);switch((a=i(null==a?",f":a)).type){case"s":var m=Math.max(Math.abs(n),Math.abs(r));return null!=a.precision||isNaN(u=f(h,m))||(a.precision=u),s(a,m);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(u=c(h,Math.max(Math.abs(n),Math.abs(r))))||(a.precision=u-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(u=o(h))||(a.precision=u-2*("%"===a.type))}return l(a)}(a[0],a[a.length-1],null==n?10:n,t)},n.nice=function(t){null==t&&(t=10);var e,a,i=r(),o=0,c=i.length-1,f=i[o],s=i[c],l=10;for(s<f&&(a=f,f=s,s=a,a=o,o=c,c=a);l-- >0;){if((a=u(f,s,t))===e)return i[o]=f,i[c]=s,r(i);if(a>0)f=Math.floor(f/a)*a,s=Math.ceil(s/a)*a;else{if(!(a<0))break;f=Math.ceil(f*a)/a,s=Math.floor(s*a)/a}e=a}return n},n}function C(){var n=q();return n.copy=function(){return Q(n,C())},j.apply(n,arguments),z(n)}function E(n){return new Date(n)}function G(n){return n instanceof Date?+n:+new Date(+n)}function H(n,r,t,e,a,u,i,o,c,f){var s=q(),l=s.invert,h=s.domain,m=f(".%L"),p=f(":%S"),g=f("%I:%M"),d=f("%I %p"),v=f("%a %d"),M=f("%b %d"),y=f("%B"),w=f("%Y");function b(n){return(c(n)<n?m:o(n)<n?p:i(n)<n?g:u(n)<n?d:e(n)<n?a(n)<n?v:M:t(n)<n?y:w)(n)}return s.invert=function(n){return new Date(l(n))},s.domain=function(n){return arguments.length?h(Array.from(n,G)):h().map(E)},s.ticks=function(r){var t=h();return n(t[0],t[t.length-1],null==r?10:r)},s.tickFormat=function(n,r){return null==r?b:f(r)},s.nice=function(n){var t=h();return n&&"function"==typeof n.range||(n=r(t[0],t[t.length-1],null==n?10:n)),n?h(function(n,r){var t,e=0,a=(n=n.slice()).length-1,u=n[e],i=n[a];return i<u&&(t=e,e=a,a=t,t=u,u=i,i=t),n[e]=r.floor(u),n[a]=r.ceil(i),n}(t,n)):s},s.copy=function(){return Q(s,H(n,r,t,e,a,u,i,o,c,f))},s}function J(){return j.apply(H(A,N,k,b,w,y,M,v,d,g).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}export{I as b,C as l,D as o,J as t};
