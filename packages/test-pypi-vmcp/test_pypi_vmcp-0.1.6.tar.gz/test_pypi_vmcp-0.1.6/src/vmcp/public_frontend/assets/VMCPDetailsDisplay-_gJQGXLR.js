import{c as X,Q as u,R as j,a as M,C as m,U as p,B as y,S as J,X as F,G as K}from"./index-CIKZHYu_.js";import{j as e}from"./ui-DNQDtwue.js";import{r as g}from"./vendor-HYqqWE7B.js";import{C as N,d as f,b as v,a as b}from"./card-DWrRA40y.js";import{B as i}from"./badge-B3GQfgeA.js";import{F as C}from"./favicon-icon-DF4wREND.js";import{C as o}from"./chevron-down-DBexedX7.js";import{C as S,M as w,F as $,L as Y}from"./message-square-BfJF95k-.js";import{Z as D}from"./zap-Dz7rlsxm.js";import{C as T}from"./circle-check-big-BYCA3xfh.js";import{T as ee}from"./type-CaN5UhXd.js";import{L as se}from"./link-DYcgSSMP.js";import{F as B}from"./file-text-C4BplQr4.js";import{W as te,T as re}from"./wifi-BjaPai-i.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],be=X("info",le);function we({vmcpData:n,vmcpType:ae,isRemoteVMCP:ne=!1,showExpandableLists:_=!0,onToolClick:P,onPromptClick:O}){const[d,U]=g.useState(new Set),[L,V]=g.useState(new Set),[G,I]=g.useState(new Set),[R,z]=g.useState(null),[q,E]=g.useState(null),h=s=>{U(r=>{const a=new Set(r);return a.has(s)?a.delete(s):a.add(s),a})},W=s=>{V(r=>{const a=new Set(r);return a.has(s)?a.delete(s):a.add(s),a})},Z=s=>{I(r=>{const a=new Set(r);return a.has(s)?a.delete(s):a.add(s),a})},A=s=>{switch(s){case"stdio":return re;case"http":return K;case"sse":return te;default:return M}},H=(s,r)=>{P?P(s,r):z(`${s}-${r}`)},Q=(s,r)=>{O?O(s,r):E(`${s}-${r}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(N,{children:e.jsxs(u,{open:d.has("servers"),onOpenChange:()=>h("servers"),children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-5 w-5 text-primary"}),e.jsx(v,{className:"text-xl",children:"MCP Servers"}),e.jsx(i,{variant:"outline",className:"text-sm",children:n.vmcp_config?.selected_servers?.length||0})]}),d.has("servers")?e.jsx(o,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(m,{className:"h-5 w-5 text-muted-foreground"})]})})}),e.jsx(p,{children:e.jsx(b,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:n.vmcp_config?.selected_servers?.map((s,r)=>{const a=A(s.transport_type);return e.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border min-w-0",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{url:s.url,faviconUrl:s.favicon_url,className:"h-8 w-8 flex-shrink-0",size:32}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h5",{className:"font-medium text-sm font-mono truncate",children:s.name}),e.jsxs(i,{variant:"secondary",className:"text-xs flex-shrink-0",children:[e.jsx(a,{className:"h-3 w-3 mr-1"}),s.transport_type]})]}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.tool_details?.length||0," tools"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.prompt_details?.length||0," prompts"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.resource_details?.length||0," resources"]})]})]})]})]})},r)})})})})]})}),e.jsx(N,{children:e.jsxs(u,{open:d.has("tools"),onOpenChange:()=>h("tools"),children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx(v,{className:"text-xl",children:"Tools"}),e.jsx(i,{variant:"outline",className:"text-sm",children:n.total_tools||0})]}),d.has("tools")?e.jsx(o,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(m,{className:"h-5 w-5 text-muted-foreground"})]})})}),e.jsx(p,{children:e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[n.vmcp_config?.selected_servers?.map(s=>{const r=n.vmcp_config?.selected_tools?.[s.server_id]||[];s.tool_details?.length;const a=L.has(s.server_id);if(r.length===0)return null;const l=s.tool_details?.filter(t=>r.includes(t.name))||[];return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(C,{url:s.url,faviconUrl:s.favicon_url,className:"h-6 w-6",size:24}),e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs(i,{variant:"outline",className:"text-xs",children:[r.length," selected"]}),_&&l.length>6&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>W(s.server_id),className:"ml-auto h-6 px-2 text-xs",children:[a?"Show Less":`+${l.length-6} more tools`,a?e.jsx(o,{className:"h-3 w-3 ml-1"}):e.jsx(m,{className:"h-3 w-3 ml-1"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(_&&a?l:l?.slice(0,6)).map((t,c)=>e.jsxs("div",{className:"p-3 rounded-lg text-sm cursor-pointer transition-colors hover:bg-muted/50 bg-primary/10 border border-primary/20",onClick:()=>H(s.server_id,t.name),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsx("span",{className:"font-mono text-xs font-medium",children:t.name}),e.jsx(T,{className:"h-3 w-3 text-primary"})]}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.description}),t.inputSchema&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Parameters:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[Object.keys(t.inputSchema.properties||{}).slice(0,3).map(x=>e.jsx(i,{variant:"outline",className:"text-xs",children:x},x)),Object.keys(t.inputSchema.properties||{}).length>3&&e.jsxs(i,{variant:"outline",className:"text-xs",children:["+",Object.keys(t.inputSchema.properties||{}).length-3," more"]})]})]})]},c))})]},s.server_id)}),n.custom_tools&&n.custom_tools.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"Custom Tools (",n.custom_tools.length,")"]}),e.jsx("div",{className:"space-y-2",children:n.custom_tools.map((s,r)=>e.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(S,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium text-sm font-mono",children:s.name})]}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description}),s.variables&&s.variables.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Variables:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.variables.map((a,l)=>e.jsx(i,{variant:"outline",className:"text-xs",children:a.name},l))})]})]},r))})]})]})})})]})}),e.jsx(N,{children:e.jsxs(u,{open:d.has("prompts"),onOpenChange:()=>h("prompts"),children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"h-5 w-5 text-primary"}),e.jsx(v,{className:"text-xl",children:"Prompts"}),e.jsx(i,{variant:"outline",className:"text-sm",children:n.total_prompts||0})]}),d.has("prompts")?e.jsx(o,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(m,{className:"h-5 w-5 text-muted-foreground"})]})})}),e.jsx(p,{children:e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[n.vmcp_config?.selected_servers?.map(s=>{const r=n.vmcp_config?.selected_prompts?.[s.server_id]||[];s.prompt_details?.length;const a=G.has(s.server_id);if(r.length===0)return null;const l=s.prompt_details?.filter(t=>r.includes(t.name))||[];return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(C,{url:s.url,faviconUrl:s.favicon_url,className:"h-6 w-6",size:24}),e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs(i,{variant:"outline",className:"text-xs",children:[r.length," selected"]}),_&&l.length>6&&e.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>Z(s.server_id),className:"ml-auto h-6 px-2 text-xs",children:[a?"Show Less":`+${l.length-6} more prompts`,a?e.jsx(o,{className:"h-3 w-3 ml-1"}):e.jsx(m,{className:"h-3 w-3 ml-1"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(_&&a?l:l?.slice(0,6)).map((t,c)=>e.jsxs("div",{className:"p-3 rounded-lg text-sm cursor-pointer transition-colors hover:bg-muted/50 bg-primary/10 border border-primary/20",onClick:()=>Q(s.server_id,t.name),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"h-3 w-3"}),e.jsx("span",{className:"font-mono text-xs font-medium",children:t.name}),e.jsx(T,{className:"h-3 w-3 text-primary"})]}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.description}),t.arguments&&t.arguments.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Parameters:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.arguments.slice(0,3).map((x,k)=>e.jsx(i,{variant:"outline",className:"text-xs",children:x.name},k)),t.arguments.length>3&&e.jsxs(i,{variant:"outline",className:"text-xs",children:["+",t.arguments.length-3," more"]})]})]})]},c))})]},s.server_id)}),n.custom_prompts&&n.custom_prompts.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Custom Prompts (",n.custom_prompts.length,")"]}),e.jsx("div",{className:"space-y-3",children:n.custom_prompts.map((s,r)=>e.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium text-sm font-mono",children:s.name})]}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:s.description}),s.variables&&s.variables.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Variables:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.variables.map((a,l)=>e.jsx(i,{variant:"outline",className:"text-xs",children:a.name},l))})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:e.jsx("p",{className:"line-clamp-2",children:s.text})})]},r))})]})]})})})]})}),e.jsx(N,{children:e.jsxs(u,{open:d.has("resources"),onOpenChange:()=>h("resources"),children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),e.jsx(v,{className:"text-xl",children:"Resources"}),e.jsx(i,{variant:"outline",className:"text-sm",children:n.total_resources||0})]}),d.has("resources")?e.jsx(o,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(m,{className:"h-5 w-5 text-muted-foreground"})]})})}),e.jsx(p,{children:e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[n.vmcp_config?.selected_servers?.map(s=>{const r=n.vmcp_config?.selected_resources?.[s.server_id]||[];if(s.resource_details?.length,r.length===0)return null;const a=s.resource_details?.filter(l=>r.includes(l.name))||[];return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(C,{url:s.url,faviconUrl:s.favicon_url,className:"h-6 w-6",size:24}),e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs(i,{variant:"outline",className:"text-xs",children:[r.length," selected"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a?.slice(0,6).map((l,t)=>e.jsxs("div",{className:"p-2 rounded text-sm bg-primary/10 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-3 w-3"}),e.jsx("span",{className:"font-mono text-xs",children:l.name}),e.jsx(T,{className:"h-3 w-3 text-primary"})]}),l.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:l.description})]},t)),a?.length>6&&e.jsx("div",{className:"p-2 rounded text-sm bg-muted/20 text-center",children:e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",a.length-6," more resources"]})})]})]},s.server_id)}),n.custom_resources&&n.custom_resources.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Custom Resources (",n.custom_resources.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n.custom_resources.map((s,r)=>e.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(B,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium text-sm font-mono",children:s.filename||s.name})]}),s.content_type&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.content_type})]},r))})]})]})})})]})}),n.environment_variables&&n.environment_variables.length>0&&e.jsx(N,{children:e.jsxs(u,{open:d.has("env_vars"),onOpenChange:()=>h("env_vars"),children:[e.jsx(j,{asChild:!0,children:e.jsx(f,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"h-5 w-5 text-primary"}),e.jsx(v,{className:"text-xl",children:"Environment Variables"}),e.jsx(i,{variant:"outline",className:"text-sm",children:n.environment_variables.length})]}),d.has("env_vars")?e.jsx(o,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(m,{className:"h-5 w-5 text-muted-foreground"})]})})}),e.jsx(p,{children:e.jsx(b,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.environment_variables.map((s,r)=>e.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-medium text-sm font-mono",children:s.name}),e.jsx(i,{variant:"outline",className:"text-xs",children:s.required?"Required":"Optional"})]}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Value: "}),s.value||e.jsx("span",{className:"italic",children:"Not set"})]})]},r))})})})]})}),R&&(()=>{const[s,r]=R.split("-"),l=n.vmcp_config?.selected_servers?.find(t=>t.server_id===s)?.tool_details?.find(t=>t.name===r);return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground font-mono",children:l.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tool Details"})]})]}),e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>z(null),className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[l.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]}),l.inputSchema&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Parameters"}),e.jsx("div",{className:"space-y-4",children:Object.entries(l.inputSchema.properties||{}).map(([t,c])=>e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium text-sm font-mono",children:t}),l.inputSchema.required?.includes(t)&&e.jsx(i,{variant:"destructive",className:"text-xs",children:"Required"}),e.jsx(i,{variant:"outline",className:"text-xs",children:c.type||"string"})]}),c.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:c.description}),c.enum&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Allowed values:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:c.enum.map((x,k)=>e.jsx(i,{variant:"secondary",className:"text-xs",children:x},k))})]})]},t))})]})]})]})}):null})(),q&&(()=>{const[s,r]=q.split("-"),l=n.vmcp_config?.selected_servers?.find(t=>t.server_id===s)?.prompt_details?.find(t=>t.name===r);return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground font-mono",children:l.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Prompt Details"})]})]}),e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>E(null),className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[l.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]}),l.arguments&&l.arguments.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Parameters"}),e.jsx("div",{className:"space-y-4",children:l.arguments.map((t,c)=>e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium text-sm font-mono",children:t.name}),t.required&&e.jsx(i,{variant:"destructive",className:"text-xs",children:"Required"}),e.jsx(i,{variant:"outline",className:"text-xs",children:t.type||"string"})]}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]},c))})]}),l.text&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Prompt Text"}),e.jsx("div",{className:"p-4 bg-muted/30 rounded-lg",children:e.jsx("pre",{className:"text-sm text-foreground whitespace-pre-wrap overflow-x-auto",children:l.text})})]})]})]})}):null})()]})}export{be as I,we as V};
//# sourceMappingURL=VMCPDetailsDisplay-_gJQGXLR.js.map
