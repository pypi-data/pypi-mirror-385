import{j as s}from"./ui-DNQDtwue.js";import{r as a}from"./vendor-HYqqWE7B.js";import{B as C,s as p,X as x,A as S,I as E}from"./index-CIKZHYu_.js";import{B}from"./badge-B3GQfgeA.js";import{C as L}from"./chevron-down-DBexedX7.js";import{C as R}from"./check-kIa0kVRI.js";function D({options:c,value:r=[],onValueChange:l,placeholder:u="Select options...",searchPlaceholder:f="Search...",emptyText:b="No options found.",className:j,disabled:v=!1,showClearButton:w=!0}){const[i,m]=a.useState(!1),[o,n]=a.useState(""),d=a.useRef(null),h=a.useMemo(()=>o?c.filter(e=>e.toLowerCase().includes(o.toLowerCase())):c,[c,o]),N=e=>{const t=r.includes(e)?r.filter(k=>k!==e):[...r,e];l?.(t),n("")},g=e=>{e.stopPropagation(),l?.([]),n("")},y=e=>{l?.(r.filter(t=>t!==e))};return a.useEffect(()=>{const e=t=>{d.current&&!d.current.contains(t.target)&&(m(!1),n(""))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),s.jsxs("div",{className:"relative",ref:d,children:[s.jsxs(C,{type:"button",variant:"outline",role:"combobox","aria-expanded":i,className:p("w-full justify-between bg-background border-border text-foreground hover:bg-muted min-h-10 h-auto",j),disabled:v,onClick:()=>m(!i),children:[s.jsx("div",{className:"flex items-center gap-1 min-h-6 flex-1 overflow-hidden",children:r.length>0?s.jsx("div",{className:"flex items-center gap-1 overflow-x-auto overflow-y-hidden max-h-16 scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:r.map(e=>s.jsxs(B,{variant:"secondary",className:"text-[10px] px-1.5 py-0.5 flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[s.jsx("span",{className:"truncate max-w-16",children:e}),s.jsx(x,{className:"h-2.5 w-2.5 cursor-pointer hover:opacity-70 flex-shrink-0",onClick:t=>{t.stopPropagation(),y(e)}})]},e))}):s.jsx("span",{className:"truncate text-muted-foreground text-sm",children:u})}),s.jsxs("div",{className:"flex items-center gap-1",children:[w&&r.length>0&&s.jsx(x,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:g}),s.jsx(L,{className:"h-4 w-4 shrink-0 opacity-50"})]})]}),i&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-md",children:[s.jsx("div",{className:"p-2 border-b border-border",children:s.jsxs("div",{className:"relative",children:[s.jsx(S,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(E,{placeholder:f,value:o,onChange:e=>n(e.target.value),className:"pl-8 h-8 text-sm",onClick:e=>e.stopPropagation()})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:h.length===0?s.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:b}):h.map(e=>s.jsxs("div",{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-muted",onClick:()=>N(e),children:[s.jsx(R,{className:p("mr-2 h-4 w-4",r.includes(e)?"opacity-100":"opacity-0")}),s.jsx("span",{className:"truncate",children:e})]},e))})]})]})}export{D as S};
//# sourceMappingURL=searchable-select-GMvT-rjf.js.map
