{"ast":null,"code":"import _regeneratorRuntime from \"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport var I18nContext = createContext();\nexport var ReportNamespaces = /*#__PURE__*/function () {\n  function ReportNamespaces() {\n    _classCallCheck(this, ReportNamespaces);\n    this.usedNamespaces = {};\n  }\n  _createClass(ReportNamespaces, [{\n    key: \"addUsedNamespaces\",\n    value: function addUsedNamespaces(namespaces) {\n      var _this = this;\n      namespaces.forEach(function (ns) {\n        if (!_this.usedNamespaces[ns]) _this.usedNamespaces[ns] = true;\n      });\n    }\n  }, {\n    key: \"getUsedNamespaces\",\n    value: function getUsedNamespaces() {\n      return Object.keys(this.usedNamespaces);\n    }\n  }]);\n  return ReportNamespaces;\n}();\nexport var composeInitialProps = function composeInitialProps(ForComponent) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ctx) {\n      var _yield$ForComponent$g, _ForComponent$getInit;\n      var componentsInitialProps, i18nInitialProps;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return (_ForComponent$getInit = ForComponent.getInitialProps) === null || _ForComponent$getInit === void 0 ? void 0 : _ForComponent$getInit.call(ForComponent, ctx);\n          case 2:\n            _context.t1 = _yield$ForComponent$g = _context.sent;\n            _context.t0 = _context.t1 !== null;\n            if (!_context.t0) {\n              _context.next = 6;\n              break;\n            }\n            _context.t0 = _yield$ForComponent$g !== void 0;\n          case 6:\n            if (!_context.t0) {\n              _context.next = 10;\n              break;\n            }\n            _context.t2 = _yield$ForComponent$g;\n            _context.next = 11;\n            break;\n          case 10:\n            _context.t2 = {};\n          case 11:\n            componentsInitialProps = _context.t2;\n            i18nInitialProps = getInitialProps();\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, componentsInitialProps), i18nInitialProps));\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getInitialProps = function getInitialProps() {\n  var _i18n$reportNamespace, _i18n$reportNamespace2;\n  var i18n = getI18n();\n  var namespaces = (_i18n$reportNamespace = (_i18n$reportNamespace2 = i18n.reportNamespaces) === null || _i18n$reportNamespace2 === void 0 ? void 0 : _i18n$reportNamespace2.getUsedNamespaces()) !== null && _i18n$reportNamespace !== void 0 ? _i18n$reportNamespace : [];\n  var ret = {};\n  var initialI18nStore = {};\n  i18n.languages.forEach(function (l) {\n    initialI18nStore[l] = {};\n    namespaces.forEach(function (ns) {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n};","map":{"version":3,"names":["createContext","getDefaults","setDefaults","getI18n","setI18n","initReactI18next","I18nContext","ReportNamespaces","_classCallCheck","usedNamespaces","_createClass","key","value","addUsedNamespaces","namespaces","_this","forEach","ns","getUsedNamespaces","Object","keys","composeInitialProps","ForComponent","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ctx","_yield$ForComponent$g","_ForComponent$getInit","componentsInitialProps","i18nInitialProps","wrap","_callee$","_context","prev","next","getInitialProps","call","t1","sent","t0","t2","abrupt","_objectSpread","stop","_x","apply","arguments","_i18n$reportNamespace","_i18n$reportNamespace2","i18n","reportNamespaces","ret","initialI18nStore","languages","l","getResourceBundle","initialLanguage","language"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/react-i18next/dist/es/context.js"],"sourcesContent":["import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport const composeInitialProps = ForComponent => async ctx => {\n  const componentsInitialProps = (await ForComponent.getInitialProps?.(ctx)) ?? {};\n  const i18nInitialProps = getInitialProps();\n  return {\n    ...componentsInitialProps,\n    ...i18nInitialProps\n  };\n};\nexport const getInitialProps = () => {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces?.getUsedNamespaces() ?? [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}