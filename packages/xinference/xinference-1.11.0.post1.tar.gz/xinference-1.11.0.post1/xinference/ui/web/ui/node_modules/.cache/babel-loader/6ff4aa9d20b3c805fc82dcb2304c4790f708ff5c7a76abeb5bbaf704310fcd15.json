{"ast":null,"code":"import _slicedToArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ExitToAppIcon from'@mui/icons-material/ExitToApp';import{Box,Stack,Typography}from'@mui/material';import Button from'@mui/material/Button';import{useCookies}from'react-cookie';import{useNavigate}from'react-router-dom';import{isValidBearerToken}from'./utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Title=function Title(_ref){var title=_ref.title;var _useCookies=useCookies(['token']),_useCookies2=_slicedToArray(_useCookies,3),cookie=_useCookies2[0],removeCookie=_useCookies2[2];var navigate=useNavigate();var handleLogout=function handleLogout(){removeCookie('token',{path:'/'});sessionStorage.removeItem('token');sessionStorage.removeItem('auth');sessionStorage.removeItem('modelType');sessionStorage.removeItem('lastActiveUrl');sessionStorage.removeItem('runningModelType');sessionStorage.removeItem('registerModelType');navigate('/login',{replace:true});};return/*#__PURE__*/_jsx(Box,{mb:\"30px\",children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",fontWeight:\"bold\",sx:{m:'0 0 5px 0'},children:title}),(isValidBearerToken(cookie.token)||isValidBearerToken(sessionStorage.getItem('token')))&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"large\",onClick:handleLogout,startIcon:/*#__PURE__*/_jsx(ExitToAppIcon,{}),children:\"LOG OUT\"})]})});};export default Title;","map":{"version":3,"names":["ExitToAppIcon","Box","Stack","Typography","Button","useCookies","useNavigate","isValidBearerToken","jsx","_jsx","jsxs","_jsxs","Title","_ref","title","_useCookies","_useCookies2","_slicedToArray","cookie","removeCookie","navigate","handleLogout","path","sessionStorage","removeItem","replace","mb","children","direction","alignItems","justifyContent","variant","fontWeight","sx","m","token","getItem","size","onClick","startIcon"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/components/Title.js"],"sourcesContent":["import ExitToAppIcon from '@mui/icons-material/ExitToApp'\nimport { Box, Stack, Typography } from '@mui/material'\nimport Button from '@mui/material/Button'\nimport { useCookies } from 'react-cookie'\nimport { useNavigate } from 'react-router-dom'\n\nimport { isValidBearerToken } from './utils'\n\nconst Title = ({ title }) => {\n  const [cookie, , removeCookie] = useCookies(['token'])\n  const navigate = useNavigate()\n\n  const handleLogout = () => {\n    removeCookie('token', { path: '/' })\n    sessionStorage.removeItem('token')\n    sessionStorage.removeItem('auth')\n    sessionStorage.removeItem('modelType')\n    sessionStorage.removeItem('lastActiveUrl')\n    sessionStorage.removeItem('runningModelType')\n    sessionStorage.removeItem('registerModelType')\n    navigate('/login', { replace: true })\n  }\n\n  return (\n    <Box mb=\"30px\">\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n        <Typography variant=\"h2\" fontWeight=\"bold\" sx={{ m: '0 0 5px 0' }}>\n          {title}\n        </Typography>\n        {(isValidBearerToken(cookie.token) ||\n          isValidBearerToken(sessionStorage.getItem('token'))) && (\n          <Button\n            variant=\"outlined\"\n            size=\"large\"\n            onClick={handleLogout}\n            startIcon={<ExitToAppIcon />}\n          >\n            LOG OUT\n          </Button>\n        )}\n      </Stack>\n    </Box>\n  )\n}\n\nexport default Title\n"],"mappings":"gJAAA,MAAO,CAAAA,aAAa,KAAM,+BAA+B,CACzD,OAASC,GAAG,CAAEC,KAAK,CAAEC,UAAU,KAAQ,eAAe,CACtD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,kBAAkB,KAAQ,SAAS,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAAC,IAAA,CAAkB,IAAZ,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CACpB,IAAAC,WAAA,CAAiCV,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAAW,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAA/CG,MAAM,CAAAF,YAAA,IAAIG,YAAY,CAAAH,YAAA,IAC7B,GAAM,CAAAI,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAe,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBF,YAAY,CAAC,OAAO,CAAE,CAAEG,IAAI,CAAE,GAAI,CAAC,CAAC,CACpCC,cAAc,CAACC,UAAU,CAAC,OAAO,CAAC,CAClCD,cAAc,CAACC,UAAU,CAAC,MAAM,CAAC,CACjCD,cAAc,CAACC,UAAU,CAAC,WAAW,CAAC,CACtCD,cAAc,CAACC,UAAU,CAAC,eAAe,CAAC,CAC1CD,cAAc,CAACC,UAAU,CAAC,kBAAkB,CAAC,CAC7CD,cAAc,CAACC,UAAU,CAAC,mBAAmB,CAAC,CAC9CJ,QAAQ,CAAC,QAAQ,CAAE,CAAEK,OAAO,CAAE,IAAK,CAAC,CAAC,CACvC,CAAC,CAED,mBACEhB,IAAA,CAACR,GAAG,EAACyB,EAAE,CAAC,MAAM,CAAAC,QAAA,cACZhB,KAAA,CAACT,KAAK,EAAC0B,SAAS,CAAC,KAAK,CAACC,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAAH,QAAA,eACvElB,IAAA,CAACN,UAAU,EAAC4B,OAAO,CAAC,IAAI,CAACC,UAAU,CAAC,MAAM,CAACC,EAAE,CAAE,CAAEC,CAAC,CAAE,WAAY,CAAE,CAAAP,QAAA,CAC/Db,KAAK,CACI,CAAC,CACZ,CAACP,kBAAkB,CAACW,MAAM,CAACiB,KAAK,CAAC,EAChC5B,kBAAkB,CAACgB,cAAc,CAACa,OAAO,CAAC,OAAO,CAAC,CAAC,gBACnD3B,IAAA,CAACL,MAAM,EACL2B,OAAO,CAAC,UAAU,CAClBM,IAAI,CAAC,OAAO,CACZC,OAAO,CAAEjB,YAAa,CACtBkB,SAAS,cAAE9B,IAAA,CAACT,aAAa,GAAE,CAAE,CAAA2B,QAAA,CAC9B,SAED,CAAQ,CACT,EACI,CAAC,CACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}