{"ast":null,"code":"import _toConsumableArray from \"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { gridColumnDefinitionsSelector, gridVisibleColumnDefinitionsSelector } from '../columns';\nimport { gridFilteredSortedRowIdsSelector } from '../filter';\nimport { gridPinnedRowsSelector, gridRowTreeSelector } from '../rows/gridRowsSelector';\nexport var getColumnsToExport = function getColumnsToExport(_ref) {\n  var apiRef = _ref.apiRef,\n    options = _ref.options;\n  var columns = gridColumnDefinitionsSelector(apiRef);\n  if (options.fields) {\n    return options.fields.reduce(function (currentColumns, field) {\n      var column = columns.find(function (col) {\n        return col.field === field;\n      });\n      if (column) {\n        currentColumns.push(column);\n      }\n      return currentColumns;\n    }, []);\n  }\n  var validColumns = options.allColumns ? columns : gridVisibleColumnDefinitionsSelector(apiRef);\n  return validColumns.filter(function (column) {\n    return !column.disableExport;\n  });\n};\nexport var defaultGetRowsToExport = function defaultGetRowsToExport(_ref2) {\n  var apiRef = _ref2.apiRef;\n  var _pinnedRows$top, _pinnedRows$bottom;\n  var filteredSortedRowIds = gridFilteredSortedRowIdsSelector(apiRef);\n  var rowTree = gridRowTreeSelector(apiRef);\n  var selectedRows = apiRef.current.getSelectedRows();\n  var bodyRows = filteredSortedRowIds.filter(function (id) {\n    return rowTree[id].type !== 'footer';\n  });\n  var pinnedRows = gridPinnedRowsSelector(apiRef);\n  var topPinnedRowsIds = (pinnedRows == null || (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.map(function (row) {\n    return row.id;\n  })) || [];\n  var bottomPinnedRowsIds = (pinnedRows == null || (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.map(function (row) {\n    return row.id;\n  })) || [];\n  bodyRows.unshift.apply(bodyRows, _toConsumableArray(topPinnedRowsIds));\n  bodyRows.push.apply(bodyRows, _toConsumableArray(bottomPinnedRowsIds));\n  if (selectedRows.size > 0) {\n    return bodyRows.filter(function (id) {\n      return selectedRows.has(id);\n    });\n  }\n  return bodyRows;\n};","map":{"version":3,"names":["gridColumnDefinitionsSelector","gridVisibleColumnDefinitionsSelector","gridFilteredSortedRowIdsSelector","gridPinnedRowsSelector","gridRowTreeSelector","getColumnsToExport","_ref","apiRef","options","columns","fields","reduce","currentColumns","field","column","find","col","push","validColumns","allColumns","filter","disableExport","defaultGetRowsToExport","_ref2","_pinnedRows$top","_pinnedRows$bottom","filteredSortedRowIds","rowTree","selectedRows","current","getSelectedRows","bodyRows","id","type","pinnedRows","topPinnedRowsIds","top","map","row","bottomPinnedRowsIds","bottom","unshift","apply","_toConsumableArray","size","has"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@mui/x-data-grid/hooks/features/export/utils.js"],"sourcesContent":["import { gridColumnDefinitionsSelector, gridVisibleColumnDefinitionsSelector } from '../columns';\nimport { gridFilteredSortedRowIdsSelector } from '../filter';\nimport { gridPinnedRowsSelector, gridRowTreeSelector } from '../rows/gridRowsSelector';\nexport const getColumnsToExport = ({\n  apiRef,\n  options\n}) => {\n  const columns = gridColumnDefinitionsSelector(apiRef);\n  if (options.fields) {\n    return options.fields.reduce((currentColumns, field) => {\n      const column = columns.find(col => col.field === field);\n      if (column) {\n        currentColumns.push(column);\n      }\n      return currentColumns;\n    }, []);\n  }\n  const validColumns = options.allColumns ? columns : gridVisibleColumnDefinitionsSelector(apiRef);\n  return validColumns.filter(column => !column.disableExport);\n};\nexport const defaultGetRowsToExport = ({\n  apiRef\n}) => {\n  var _pinnedRows$top, _pinnedRows$bottom;\n  const filteredSortedRowIds = gridFilteredSortedRowIdsSelector(apiRef);\n  const rowTree = gridRowTreeSelector(apiRef);\n  const selectedRows = apiRef.current.getSelectedRows();\n  const bodyRows = filteredSortedRowIds.filter(id => rowTree[id].type !== 'footer');\n  const pinnedRows = gridPinnedRowsSelector(apiRef);\n  const topPinnedRowsIds = (pinnedRows == null || (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.map(row => row.id)) || [];\n  const bottomPinnedRowsIds = (pinnedRows == null || (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.map(row => row.id)) || [];\n  bodyRows.unshift(...topPinnedRowsIds);\n  bodyRows.push(...bottomPinnedRowsIds);\n  if (selectedRows.size > 0) {\n    return bodyRows.filter(id => selectedRows.has(id));\n  }\n  return bodyRows;\n};"],"mappings":";AAAA,SAASA,6BAA6B,EAAEC,oCAAoC,QAAQ,YAAY;AAChG,SAASC,gCAAgC,QAAQ,WAAW;AAC5D,SAASC,sBAAsB,EAAEC,mBAAmB,QAAQ,0BAA0B;AACtF,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAAC,IAAA,EAGzB;EAAA,IAFJC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,OAAO,GAAAF,IAAA,CAAPE,OAAO;EAEP,IAAMC,OAAO,GAAGT,6BAA6B,CAACO,MAAM,CAAC;EACrD,IAAIC,OAAO,CAACE,MAAM,EAAE;IAClB,OAAOF,OAAO,CAACE,MAAM,CAACC,MAAM,CAAC,UAACC,cAAc,EAAEC,KAAK,EAAK;MACtD,IAAMC,MAAM,GAAGL,OAAO,CAACM,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACH,KAAK,KAAKA,KAAK;MAAA,EAAC;MACvD,IAAIC,MAAM,EAAE;QACVF,cAAc,CAACK,IAAI,CAACH,MAAM,CAAC;MAC7B;MACA,OAAOF,cAAc;IACvB,CAAC,EAAE,EAAE,CAAC;EACR;EACA,IAAMM,YAAY,GAAGV,OAAO,CAACW,UAAU,GAAGV,OAAO,GAAGR,oCAAoC,CAACM,MAAM,CAAC;EAChG,OAAOW,YAAY,CAACE,MAAM,CAAC,UAAAN,MAAM;IAAA,OAAI,CAACA,MAAM,CAACO,aAAa;EAAA,EAAC;AAC7D,CAAC;AACD,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAAC,KAAA,EAE7B;EAAA,IADJhB,MAAM,GAAAgB,KAAA,CAANhB,MAAM;EAEN,IAAIiB,eAAe,EAAEC,kBAAkB;EACvC,IAAMC,oBAAoB,GAAGxB,gCAAgC,CAACK,MAAM,CAAC;EACrE,IAAMoB,OAAO,GAAGvB,mBAAmB,CAACG,MAAM,CAAC;EAC3C,IAAMqB,YAAY,GAAGrB,MAAM,CAACsB,OAAO,CAACC,eAAe,CAAC,CAAC;EACrD,IAAMC,QAAQ,GAAGL,oBAAoB,CAACN,MAAM,CAAC,UAAAY,EAAE;IAAA,OAAIL,OAAO,CAACK,EAAE,CAAC,CAACC,IAAI,KAAK,QAAQ;EAAA,EAAC;EACjF,IAAMC,UAAU,GAAG/B,sBAAsB,CAACI,MAAM,CAAC;EACjD,IAAM4B,gBAAgB,GAAG,CAACD,UAAU,IAAI,IAAI,IAAI,CAACV,eAAe,GAAGU,UAAU,CAACE,GAAG,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGZ,eAAe,CAACa,GAAG,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACN,EAAE;EAAA,EAAC,KAAK,EAAE;EAC/I,IAAMO,mBAAmB,GAAG,CAACL,UAAU,IAAI,IAAI,IAAI,CAACT,kBAAkB,GAAGS,UAAU,CAACM,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGf,kBAAkB,CAACY,GAAG,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACN,EAAE;EAAA,EAAC,KAAK,EAAE;EAC3JD,QAAQ,CAACU,OAAO,CAAAC,KAAA,CAAhBX,QAAQ,EAAAY,kBAAA,CAAYR,gBAAgB,EAAC;EACrCJ,QAAQ,CAACd,IAAI,CAAAyB,KAAA,CAAbX,QAAQ,EAAAY,kBAAA,CAASJ,mBAAmB,EAAC;EACrC,IAAIX,YAAY,CAACgB,IAAI,GAAG,CAAC,EAAE;IACzB,OAAOb,QAAQ,CAACX,MAAM,CAAC,UAAAY,EAAE;MAAA,OAAIJ,YAAY,CAACiB,GAAG,CAACb,EAAE,CAAC;IAAA,EAAC;EACpD;EACA,OAAOD,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}