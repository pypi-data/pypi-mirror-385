{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var getEndpoint=function getEndpoint(){var endPoint='';if(!process.env.NODE_ENV||process.env.NODE_ENV==='development'){endPoint='http://127.0.0.1:9997';}else{var fullUrl=window.location.href;endPoint=fullUrl.split('/ui')[0];}return endPoint;};export var isValidBearerToken=function isValidBearerToken(token){return token!==''&&token!==undefined&&token!==null&&token.length>10;};export var toReadableSize=function toReadableSize(size){var res_size=size/Math.pow(1024.0,2);return res_size.toFixed(2)+'MiB';};export function copyToClipboard(_x){return _copyToClipboard.apply(this,arguments);}function _copyToClipboard(){_copyToClipboard=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(text){var textArea,success;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(navigator.clipboard&&window.isSecureContext)){_context.next=12;break;}_context.prev=1;_context.next=4;return navigator.clipboard.writeText(text);case 4:return _context.abrupt(\"return\",true);case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",false);case 10:_context.next=23;break;case 12:textArea=document.createElement('textarea');textArea.value=text;textArea.style.position='absolute';textArea.style.left='-9999px';document.body.appendChild(textArea);textArea.select();textArea.setSelectionRange(0,textArea.value.length);success=false;try{success=document.execCommand('copy');}catch(_unused2){success=false;}document.body.removeChild(textArea);return _context.abrupt(\"return\",success);case 23:case\"end\":return _context.stop();}},_callee,null,[[1,7]]);}));return _copyToClipboard.apply(this,arguments);}","map":{"version":3,"names":["getEndpoint","endPoint","process","env","NODE_ENV","fullUrl","window","location","href","split","isValidBearerToken","token","undefined","length","toReadableSize","size","res_size","Math","pow","toFixed","copyToClipboard","_x","_copyToClipboard","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","text","textArea","success","wrap","_callee$","_context","prev","next","navigator","clipboard","isSecureContext","writeText","abrupt","t0","document","createElement","value","style","position","left","body","appendChild","select","setSelectionRange","execCommand","_unused2","removeChild","stop"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/components/utils.js"],"sourcesContent":["export const getEndpoint = () => {\n  let endPoint = ''\n  if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n    endPoint = 'http://127.0.0.1:9997'\n  } else {\n    const fullUrl = window.location.href\n    endPoint = fullUrl.split('/ui')[0]\n  }\n  return endPoint\n}\n\nexport const isValidBearerToken = (token) => {\n  return (\n    token !== '' && token !== undefined && token !== null && token.length > 10\n  )\n}\n\nexport const toReadableSize = (size) => {\n  const res_size = size / 1024.0 ** 2\n  return res_size.toFixed(2) + 'MiB'\n}\n\nexport async function copyToClipboard(text) {\n  if (navigator.clipboard && window.isSecureContext) {\n    try {\n      await navigator.clipboard.writeText(text)\n      return true\n    } catch {\n      return false\n    }\n  } else {\n    const textArea = document.createElement('textarea')\n    textArea.value = text\n    textArea.style.position = 'absolute'\n    textArea.style.left = '-9999px'\n    document.body.appendChild(textArea)\n    textArea.select()\n    textArea.setSelectionRange(0, textArea.value.length)\n\n    let success = false\n    try {\n      success = document.execCommand('copy')\n    } catch {\n      success = false\n    }\n\n    document.body.removeChild(textArea)\n    return success\n  }\n}\n"],"mappings":"gTAAA,MAAO,IAAM,CAAAA,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CAC/B,GAAI,CAAAC,QAAQ,CAAG,EAAE,CACjB,GAAI,CAACC,OAAO,CAACC,GAAG,CAACC,QAAQ,EAAIF,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAE,CACnEH,QAAQ,CAAG,uBAAuB,CACpC,CAAC,IAAM,CACL,GAAM,CAAAI,OAAO,CAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CACpCP,QAAQ,CAAGI,OAAO,CAACI,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpC,CACA,MAAO,CAAAR,QAAQ,CACjB,CAAC,CAED,MAAO,IAAM,CAAAS,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,KAAK,CAAK,CAC3C,MACE,CAAAA,KAAK,GAAK,EAAE,EAAIA,KAAK,GAAKC,SAAS,EAAID,KAAK,GAAK,IAAI,EAAIA,KAAK,CAACE,MAAM,CAAG,EAAE,CAE9E,CAAC,CAED,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,IAAI,CAAK,CACtC,GAAM,CAAAC,QAAQ,CAAGD,IAAI,CAAAE,IAAA,CAAAC,GAAA,CAAG,MAAM,CAAI,CAAC,EACnC,MAAO,CAAAF,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAC,CAAG,KAAK,CACpC,CAAC,CAED,eAAsB,CAAAC,eAAeA,CAAAC,EAAA,SAAAC,gBAAA,CAAAC,KAAA,MAAAC,SAAA,GA2BpC,SAAAF,iBAAA,EAAAA,gBAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CA3BM,SAAAC,QAA+BC,IAAI,MAAAC,QAAA,CAAAC,OAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,cACpCC,SAAS,CAACC,SAAS,EAAIhC,MAAM,CAACiC,eAAe,GAAAL,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEvC,CAAAC,SAAS,CAACC,SAAS,CAACE,SAAS,CAACX,IAAI,CAAC,eAAAK,QAAA,CAAAO,MAAA,UAClC,IAAI,SAAAP,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,oBAAAA,QAAA,CAAAO,MAAA,UAEJ,KAAK,UAAAP,QAAA,CAAAE,IAAA,kBAGRN,QAAQ,CAAGa,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC,CACnDd,QAAQ,CAACe,KAAK,CAAGhB,IAAI,CACrBC,QAAQ,CAACgB,KAAK,CAACC,QAAQ,CAAG,UAAU,CACpCjB,QAAQ,CAACgB,KAAK,CAACE,IAAI,CAAG,SAAS,CAC/BL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACpB,QAAQ,CAAC,CACnCA,QAAQ,CAACqB,MAAM,CAAC,CAAC,CACjBrB,QAAQ,CAACsB,iBAAiB,CAAC,CAAC,CAAEtB,QAAQ,CAACe,KAAK,CAAChC,MAAM,CAAC,CAEhDkB,OAAO,CAAG,KAAK,CACnB,GAAI,CACFA,OAAO,CAAGY,QAAQ,CAACU,WAAW,CAAC,MAAM,CAAC,CACxC,CAAE,MAAAC,QAAA,CAAM,CACNvB,OAAO,CAAG,KAAK,CACjB,CAEAY,QAAQ,CAACM,IAAI,CAACM,WAAW,CAACzB,QAAQ,CAAC,QAAAI,QAAA,CAAAO,MAAA,UAC5BV,OAAO,2BAAAG,QAAA,CAAAsB,IAAA,MAAA5B,OAAA,gBAEjB,UAAAN,gBAAA,CAAAC,KAAA,MAAAC,SAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}