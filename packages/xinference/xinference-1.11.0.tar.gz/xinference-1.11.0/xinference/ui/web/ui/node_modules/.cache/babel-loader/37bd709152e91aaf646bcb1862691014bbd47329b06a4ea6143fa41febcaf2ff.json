{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import AddIcon from'@mui/icons-material/Add';import DeleteIcon from'@mui/icons-material/Delete';import{Alert,Button,TextField}from'@mui/material';import React from'react';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var regex=/^-?[0-9]\\d*$/;var AddStop=function AddStop(_ref){var label=_ref.label,onGetData=_ref.onGetData,arrItemType=_ref.arrItemType,formData=_ref.formData,onGetError=_ref.onGetError,helperText=_ref.helperText;var _useTranslation=useTranslation(),t=_useTranslation.t;var handleChange=function handleChange(value,index){var arr=_toConsumableArray(formData);arr[index]=value;if(arrItemType==='number'){var newDataArr=arr.map(function(item){if(item&&regex.test(item)){arr.push('true');return Number(item);}if(item&&!regex.test(item))arr.push('false');return item;});onGetError(arr);onGetData(newDataArr);}else{onGetData(_toConsumableArray(arr));}};var handleAdd=function handleAdd(){if(formData[formData.length-1]){onGetData([].concat(_toConsumableArray(formData),['']));}};var handleDelete=function handleDelete(index){onGetData(formData.filter(function(_,subIndex){return index!==subIndex;}));};var handleShowAlert=function handleShowAlert(item){return item!==''&&!regex.test(item)&&arrItemType==='number';};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:10},children:[/*#__PURE__*/_jsx(\"label\",{style:{width:'100px'},children:label}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",endIcon:/*#__PURE__*/_jsx(AddIcon,{}),className:\"addBtn\",onClick:handleAdd,children:t('registerModel.more')})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:10,marginInline:50,padding:20,borderRadius:10},children:(formData!==null&&formData!==void 0&&formData.length?formData:['']).map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:5},children:[/*#__PURE__*/_jsx(TextField,{value:item,onChange:function onChange(e){return handleChange(e.target.value,index);},label:helperText,size:\"small\",style:{width:'100%'}}),(formData===null||formData===void 0?void 0:formData.length)>1&&/*#__PURE__*/_jsx(DeleteIcon,{onClick:function onClick(){return handleDelete(index);},style:{cursor:'pointer',color:'#1976d2'}})]}),handleShowAlert(item)&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:t('registerModel.enterInteger')})]},index);})})]})});};export default AddStop;","map":{"version":3,"names":["AddIcon","DeleteIcon","Alert","Button","TextField","React","useTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","regex","AddStop","_ref","label","onGetData","arrItemType","formData","onGetError","helperText","_useTranslation","t","handleChange","value","index","arr","_toConsumableArray","newDataArr","map","item","test","push","Number","handleAdd","length","concat","handleDelete","filter","_","subIndex","handleShowAlert","children","style","display","alignItems","marginBottom","width","variant","size","endIcon","className","onClick","flexDirection","gap","marginInline","padding","borderRadius","onChange","e","target","cursor","color","severity"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/scenes/register_model/components/addStop.js"],"sourcesContent":["import AddIcon from '@mui/icons-material/Add'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport { Alert, Button, TextField } from '@mui/material'\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nconst regex = /^-?[0-9]\\d*$/\n\nconst AddStop = ({\n  label,\n  onGetData,\n  arrItemType,\n  formData,\n  onGetError,\n  helperText,\n}) => {\n  const { t } = useTranslation()\n  const handleChange = (value, index) => {\n    const arr = [...formData]\n    arr[index] = value\n    if (arrItemType === 'number') {\n      const newDataArr = arr.map((item) => {\n        if (item && regex.test(item)) {\n          arr.push('true')\n          return Number(item)\n        }\n        if (item && !regex.test(item)) arr.push('false')\n        return item\n      })\n      onGetError(arr)\n      onGetData(newDataArr)\n    } else {\n      onGetData([...arr])\n    }\n  }\n\n  const handleAdd = () => {\n    if (formData[formData.length - 1]) {\n      onGetData([...formData, ''])\n    }\n  }\n\n  const handleDelete = (index) => {\n    onGetData(formData.filter((_, subIndex) => index !== subIndex))\n  }\n\n  const handleShowAlert = (item) => {\n    return item !== '' && !regex.test(item) && arrItemType === 'number'\n  }\n\n  return (\n    <>\n      <div>\n        <div\n          style={{ display: 'flex', alignItems: 'center', marginBottom: 10 }}\n        >\n          <label style={{ width: '100px' }}>{label}</label>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            endIcon={<AddIcon />}\n            className=\"addBtn\"\n            onClick={handleAdd}\n          >\n            {t('registerModel.more')}\n          </Button>\n        </div>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 10,\n            marginInline: 50,\n            padding: 20,\n            borderRadius: 10,\n          }}\n        >\n          {(formData?.length ? formData : ['']).map((item, index) => (\n            <div key={index}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: 5 }}>\n                <TextField\n                  value={item}\n                  onChange={(e) => handleChange(e.target.value, index)}\n                  label={helperText}\n                  size=\"small\"\n                  style={{ width: '100%' }}\n                />\n                {formData?.length > 1 && (\n                  <DeleteIcon\n                    onClick={() => handleDelete(index)}\n                    style={{ cursor: 'pointer', color: '#1976d2' }}\n                  />\n                )}\n              </div>\n\n              {handleShowAlert(item) && (\n                <Alert severity=\"error\">\n                  {t('registerModel.enterInteger')}\n                </Alert>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default AddStop\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}