[workspace]

resolver = "2"

members = [
    "rust/aggregate",
    "rust/contents",
    "rust/contributions",
    "rust/file_names",
]

[workspace.package]
repository = "https://gitlab.softwareheritage.org/swh/devel/swh-datasets"
license = "GPL-3.0-or-later"
version = "2.0.2"

[workspace.dependencies]
anyhow = { version="1.0.79", features=["backtrace"] }
itertools = { version = "0.11.0" }
swh-graph = { version = "8.0.4", features = ["serde"] }
swh-graph-stdlib = { version = "8.0.4" }
swh_graph_topology = { version = "8.0.4" }

# CLI
env_logger = "0.11.5"
clap = { version = "4.1.6", features = ["derive"] }
dsi-progress-logger = "0.8.0"
log = "0.4.17"

# Arrow/ORC/Parquet
arrow = { version = ">53.1.0,<57" }
ar_row = { version = "1.1.0" }
ar_row_derive = { version = "1.1.0" }
orc-rust = { version = "0.6.2", default-features = false }
parquet = { version = ">=53.1.0,<57", default-features = false, features = ["arrow", "zstd"] }


[profile.release] # Used for the examples
opt-level = 3             # like --release
lto = "fat"               # Full LTO
overflow-checks = false   # Disable integer overflow checks.
debug = true              # Include debug info.
debug-assertions = false  # Disables debug assertions.
codegen-units=1           # slower compile times, but maybe better perf
