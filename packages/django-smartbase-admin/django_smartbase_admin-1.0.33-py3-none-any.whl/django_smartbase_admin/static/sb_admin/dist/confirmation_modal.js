(()=>{"use strict";class t{constructor(){this.modalEl=document.getElementById("confirmation-modal"),this.modalEl&&(this.modal=new window.bootstrap5.Modal(this.modalEl),this.defaultModalData={responseTarget:"body",confirmBody:null,confirmIcon:null,confirmFooter:null,confirmSubmit:"Confirm",confirmClose:"Cancel",submitEvent:"confirm",cancelEvent:"cancel"},this.modalEl.addEventListener("click",(t=>{const o=t.target.closest(".js-modal-close");if(o){let t;t=o.classList.contains("js-modal-submit")?this.modalData.submitEvent:this.modalData.cancelEvent,this.fireEventToTarget(t),this.modal.hide()}})),document.addEventListener("click",(t=>{const o=t.target.closest("[data-show-confirm]");o&&(this.updateModalData(o),this.updateModalContent(),this.modal.show())})))}fireEventToTarget(t){const o=document.querySelector(this.modalData.responseTarget),a=new Event(t);o.dispatchEvent(a)}updateModalData(t){this.modalData={...this.defaultModalData},Object.keys(this.modalData).forEach((o=>{t.dataset[o]&&(this.modalData[o]=t.dataset[o])}))}updateModalContent(){this.modalData.confirmSubmit&&(this.modalEl.querySelector(".js-modal-submit").innerHTML=this.modalData.confirmSubmit),this.modalData.confirmClose&&(this.modalEl.querySelector(".js-modal-close-button").innerHTML=this.modalData.confirmClose),this.modalData.confirmBody&&(this.modalEl.querySelector(".js-modal-body").innerHTML=this.modalData.confirmBody),this.modalData.confirmIcon&&(this.modalEl.querySelector(".js-modal-icon").innerHTML=this.modalData.confirmIcon),this.modalData.confirmFooter&&(this.modalEl.querySelector(".js-modal-footer").innerHTML=this.modalData.confirmFooter)}}window.ConfirmationClass=t,window.addEventListener("DOMContentLoaded",(()=>{window.Confirmation=new t}))})();