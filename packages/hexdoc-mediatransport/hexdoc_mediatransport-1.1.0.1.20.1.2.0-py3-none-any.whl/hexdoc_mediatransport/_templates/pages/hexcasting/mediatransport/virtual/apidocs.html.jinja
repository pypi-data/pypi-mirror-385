{% extends "pages/patchouli/page.html.jinja" %}
{% set d = mediatransport.diagrams.context("mediatransport.book.api") %}
{#
despite the name, diagrams also contains all the
localization features, so it's useful here
#}

{% block body %}
{% include "csscheck.html.jinja" without context %}

<p>
  {{d.tl("intro1")}}
</p>
<p>
  {{d.tl("intro2")}}
</p>
<p>
  {{d.tl("intro3")}}
</p>

<h3>{{d.tl("overview")}}</h3>
<p>
  {{d.tl("overview.1")}}
</p>
<p>
  {{d.tl("overview.2")}}
</p>
{{d.codeblock("overview.code1")}}
<p>
  {{d.tl("overview.3")}}
</p>
<p class="mediatransport-callout -warning">
  {{d.tl("overview.4")}}
</p>
<p>
  {{d.tl("overview.5")}}
</p>
<p class="mediatransport-callout -warning">
  {{d.tl("overview.6")}}
</p>

<h3>{{d.tl("buffers")}}</h3>
<p class="mediatransport-hatnote">
  {{d.tl("buffers.h1")}}
</p>
<p class="mediatransport-hatnote">
  {{d.tl("buffers.h2")}}
</p>
<p>
  {{d.tl("buffers.1")}}
</p>

{# data:createBuffer([capacity?]) #}
<h4>{{d.tl("buffers.manage.new")}}</h4>
<p>
  {{d.tl("buffers.manage.new.1")}}
</p>
<p>
  {{d.tl("buffers.manage.new.2")}}
</p>

{# :close() #}
<h4>{{d.tl("buffers.manage.close")}}</h4>
<p>
  {{d.tl("buffers.manage.close.1")}}
</p>
<ul>
  <li>{{d.tl("buffers.manage.close.2")}}</li>
  <li>{{d.tl("buffers.manage.close.3")}}</li>
  <li>{{d.tl("buffers.manage.close.4")}}</li>
</ul>
<p>
  {{d.tl("buffers.manage.close.5")}}
</p>

{# Example 1 #}
{{d.codeblock("buffers.manage.code1")}}

{# setPosition #}
<h4 id="mediatransport-setPosition">{{d.tl("buffers.manage.setPosition")}}</h4>
<p>
  {{d.tl("buffers.manage.setPosition.1")}}
</p>
<p>
  {{d.tl("buffers.manage.setPosition.2")}}
</p>
<p>
  {{d.tl("buffers.manage.setPosition.3")}}
</p>
{# rewinding example #}
{{d.codeblock("buffers.manage.setPosition.code")}}

{# Writing data #}
<h4 id="mediatransport-write">{{d.tl("buffers.write")}}</h4>
<p class="mediatransport-hatnote">
  {{d.tl("buffers.write.hat")}}
</p>
<p>
  {{d.tl("buffers.write.1")}}
</p>
<p>
  {{d.tl("buffers.write.2")}}
</p>
{# n-byte integers #}
<ul>
  <li>{{d.tl("buffers.write.methods.write")}}</li>
  <li>{{d.tl("buffers.write.methods.writeInt")}}</li>
</ul>
<p>
  {{d.tl("buffers.write.3")}}
</p>
{# double #}
<ul>
  <li>{{d.tl("buffers.write.methods.writeDouble")}}</li>
</ul>

{# Reading data #}
<h4 id="mediatransport-read">{{d.tl("buffers.read")}}</h4>
<p>
  {{d.tl("buffers.read.1")}}
</p>
<ul>
  <li>{{d.tl("buffers.read.methods.read")}}</li>
  <li>{{d.tl("buffers.read.methods.readShort")}}</li>
  <li>{{d.tl("buffers.read.methods.readInt")}}</li>
  <li>{{d.tl("buffers.read.methods.readDouble")}}</li>
</ul>

{% endblock body %}