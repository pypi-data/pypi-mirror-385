{% extends "layout.html" %}

{% block scripts %}
    <script>
        let generalClearTimeout = null;

        function clearGeneralResponse() {
            const response = document.getElementById('general-response');
            if (response) {
                response.innerHTML = '';
            }
        }

        document.body.addEventListener('htmx:afterSwap', function (event) {
            if (event.target.id === 'general-response') {
                if (generalClearTimeout) {
                    clearTimeout(generalClearTimeout);
                }

                generalClearTimeout = setTimeout(clearGeneralResponse, 5000)
            }
        });
    </script>
{% endblock %}

{% block content %}
    <div hx-ext="morph" hx-get="/api/printers" hx-trigger="load, every 2s" hx-swap="morph:innerHTML">
        <h3 class="mb-3"><strong>Printers</strong></h3>

        <div class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
{% endblock %}
