{# Username / Password input #}


<form id="bblcloud-step-1" hx-post="{{ url_for('bblcloud.add_account_step1') }}" hx-target="#bblcloud_account_form"
      hx-swap="innerHTML" class="col-md-8 col-sm-12">

    <p class="small text-muted">
        Enter the same login as you use for BambuStudio, MakerWorld and Bambu Handy. If you use 2FA you will be
        prompted
        for the code in the next step.
    </p>


    <div class="mb-3 form-group">
        <label for="region" class="form-label">Region</label>

        <select class="form-select" id="region" name="region" required>
            <option value=""
                    {% if not selected_region %}
                    selected
                    {% endif %}
                    disabled hidden>Select region
            </option>
            {% for region in regions %}
                <option value="{{ region.value }}"
                        {% if selected_region and region.value == selected_region %}
                        selected
                        {% endif %}>
                    {{ region.value }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3 form-group">
        <label for="username" class="form-label">Email</label>
        <input type="text" class="form-control" id="username" name="username" required
               placeholder="Enter email" value="{{ username }}">
    </div>

    <div class="mb-3 form-group">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password" name="password" required
               placeholder="Enter password" value="{{ password }}">

        <p class="mt-2 small text-muted">
            We do <b>not store your password or email</b> they are used once to get a token from your account which <i>is</i>
            stored.
        </p>
    </div>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <div class="form-group d-flex justify-content-between">
        <button type="button"
                hx-boost="false"
                hx-get="{{ url_for('bblcloud.add_account_get_step0') }}"
                hx-target="#bblcloud_account_form"
                hx-swap="innerHTML" class="btn btn-secondary">
            Previous
        </button>

        <button type="submit" class="btn btn-primary">Next</button>
    </div>
</form>
