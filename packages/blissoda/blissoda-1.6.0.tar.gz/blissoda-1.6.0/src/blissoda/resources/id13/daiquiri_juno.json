{
    "graph": {
      "id": "juno_daiquiri",
      "label": "juno daiquiri"
    },
    "nodes": [
      {
        "id": "sidecar.ewoks.pyFAI.integrate.Integrate1dMap0",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.pyFAI.integrate.Integrate1dMap",
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 450,
            "y": 285
          }
        }
      },
      {
        "id": "sidecar.ewoks.notify.NotifyBeamline0",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.notify.NotifyBeamline",
        "default_inputs": [
          {
            "name": "beamline",
            "value": "id13eh2"
          },
          {
            "name": "message",
            "value": {
              "type": "xrf_map",
              "action": "update"
            }
          }
        ],
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 825,
            "y": 240
          }
        }
      },
      {
        "id": "sidecar.ewoks.mimosa.autoproc.AddAttachment0",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.mimosa.autoproc.AddAttachment",
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 450,
            "y": 405
          }
        }
      },
      {
        "id": "sidecar.ewoks.mimosa.autoproc.AddAttachment1",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.mimosa.autoproc.AddAttachment",
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 650,
            "y": 405
          }
        }
      },
      {
        "id": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.mimosa.autoproc.ErrorHandler",
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 450,
            "y": 525
          }
        }
      },
      {
        "id": "sidecar.ewoks.mimosa.autoproc.EndJob0",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.mimosa.autoproc.EndJob",
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 675,
            "y": 240
          }
        }
      },
      {
        "id": "sidecar.ewoks.mimosa.autoproc.StartJob0",
        "task_type": "class",
        "task_identifier": "sidecar.ewoks.mimosa.autoproc.StartJob",
        "default_inputs": [
          {
            "name": "process_name",
            "value": "pyFAI"
          }
        ],
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 15,
            "y": 120
          }
        }
      },
      {
        "id": "ewoksid13.tasks.edf.StackToEdf0",
        "label": "toedf",
        "task_type": "class",
        "task_identifier": "ewoksid13.tasks.edf.StackToEdf",
        "inputs_complete": false,
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 615,
            "y": 15
          }
        }
      },
      {
        "id": "ewoksid13.tasks.average.AverageIntegration0",
        "label": "average",
        "task_type": "class",
        "task_identifier": "ewoksid13.tasks.average.AverageIntegration",
        "uiProps": {
          "icon": "default.png",
          "position": {
            "x": 450,
            "y": 105
          }
        }
      },
      {
        "id": "0",
        "label": "config",
        "task_type": "class",
        "task_identifier": "ewoksxrpd.tasks.pyfaiconfig.PyFaiConfig",
        "uiProps": {
          "position": {
            "x": 12,
            "y": 12
          }
        }
      },
      {
        "id": "1",
        "label": "integrate",
        "task_type": "class",
        "task_identifier": "ewoksxrpd.tasks.integrate.IntegrateBlissScan",
        "uiProps": {
          "position": {
            "x": 232,
            "y": 12
          }
        }
      },
      {
        "id": "2",
        "label": "diffmap",
        "task_type": "class",
        "task_identifier": "ewoksid13.tasks.diffmap.CreateDiffMapFile",
        "uiProps": {
          "position": {
            "x": 452,
            "y": 12
          }
        }
      },
      {
	      "task_type": "class",
	      "task_identifier": "ewoksid13.tasks.spi.BackgroundRemoval",
	      "label": "background",
	      "ows": {
	        "title": "Remove the background",
	        "name": "BackgroundRemoval",
	        "position": "(647.0, 225.0)",
	        "version": ""
	      },
	      "id": "3"
	    },
	    {
	      "task_type": "class",
	      "task_identifier": "ewoksid13.tasks.spi.ConstrainedNMF",
	      "label": "matrixfactorization",
	      "ows": {
	        "title": "Factorize the patterns",
	        "name": "ConstrainedNMF",
	        "position": "(647.0, 225.0)",
	        "version": ""
	      },
	      "id": "4"
	    },
	    {
	      "task_type": "class",
	      "task_identifier": "ewoksid13.tasks.spi.PhaseInference",
	      "label": "phaseinference",
	      "ows": {
	        "title": "Inference of phases",
	        "name": "PhaseInference",
	        "position": "(647.0, 225.0)",
	        "version": ""
	      },
	      "id": "5"
	    }
    ],
    "links": [
      {
        "source": "0",
        "target": "1",
        "data_mapping": [
          {
            "source_output": "detector_config",
            "target_input": "detector_config"
          },
          {
            "source_output": "energy",
            "target_input": "energy"
          },
          {
            "source_output": "integration_options",
            "target_input": "integration_options"
          },
          {
            "source_output": "detector",
            "target_input": "detector"
          },
          {
            "source_output": "mask",
            "target_input": "mask"
          },
          {
            "source_output": "geometry",
            "target_input": "geometry"
          }
        ]
      },
      {
        "source": "1",
        "target": "2",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ]
      },
      {
        "map_all_data" : true,
        "source": "2",
        "target": "3"
      },
      {
        "map_all_data" : true,
        "source": "3",
        "target": "4"
      },
      {
        "map_all_data" : true,
        "source": "3",
        "target": "5"
      },      
      {
        "source": "2",
        "target": "ewoksid13.tasks.edf.StackToEdf0",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ],
        "map_all_data": false
      },
      {
        "source": "1",
        "target": "ewoksid13.tasks.average.AverageIntegration0",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ],
        "map_all_data": false
      },
      {
        "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
        "target": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
        "data_mapping": [
          {
            "source_output": "autoProcProgramId",
            "target_input": "autoProcProgramId"
          },
          {
            "source_output": "output_directory",
            "target_input": "output_directory"
          }
        ],
        "required": true
      },
      {
        "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
        "target": "sidecar.ewoks.mimosa.autoproc.EndJob0",
        "data_mapping": [
          {
            "source_output": "autoProcProgramId",
            "target_input": "autoProcProgramId"
          }
        ],
        "required": true
      },
      {
        "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
        "target": "sidecar.ewoks.mimosa.autoproc.AddAttachment0",
        "data_mapping": [
          {
            "source_output": "autoProcProgramId",
            "target_input": "autoProcProgramId"
          }
        ],
        "required": true
      },
      {
        "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
        "target": "sidecar.ewoks.mimosa.autoproc.AddAttachment1",
        "data_mapping": [
          {
            "source_output": "autoProcProgramId",
            "target_input": "autoProcProgramId"
          }
        ],
        "required": true
      },
      {
        "source": "1",
        "target": "sidecar.ewoks.mimosa.autoproc.AddAttachment0",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ],
        "required": true
      },
      {
        "source": "ewoksid13.tasks.edf.StackToEdf0",
        "target": "sidecar.ewoks.mimosa.autoproc.AddAttachment1",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ],
        "required": true
      },
      {
        "source": "2",
        "target": "sidecar.ewoks.mimosa.autoproc.EndJob0",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ],
        "required": true
      },
      {
        "source": "sidecar.ewoks.mimosa.autoproc.EndJob0",
        "target": "sidecar.ewoks.notify.NotifyBeamline0"
      },
      {
        "source": "1",
        "target": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
        "on_error": true,
        "map_all_data": true
      },
      {
        "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
        "target": "sidecar.ewoks.pyFAI.integrate.Integrate1dMap0",
        "data_mapping": [
          {
            "source_output": "autoProcProgramId",
            "target_input": "autoProcProgramId"
          }
        ],
        "required": true,
        "map_all_data": false
      },
      {
        "source": "1",
        "target": "sidecar.ewoks.pyFAI.integrate.Integrate1dMap0",
        "data_mapping": [
          {
            "source_output": "nxdata_url",
            "target_input": "nxdata_url"
          }
        ],
        "required": true,
        "map_all_data": false
      }
    ]
  }
  
