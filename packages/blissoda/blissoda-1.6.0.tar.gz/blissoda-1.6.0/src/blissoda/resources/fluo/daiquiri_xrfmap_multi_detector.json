{
  "graph": {
    "id": "daiquiri xrfmap multi detector"
  },
  "nodes": [
    {
      "id": "ewoksfluo.tasks.input.pick_scan.PickScan0",
      "task_type": "class",
      "task_identifier": "ewoksfluo.tasks.input.pick_scan.PickScan",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 720,
          "y": 360
        }
      }
    },
    {
      "id": "ewoksfluo.tasks.sum_detectors.sum_results.SumXrfResults0",
      "task_type": "class",
      "task_identifier": "ewoksfluo.tasks.sum_detectors.sum_results.SumXrfResults",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 390,
          "y": 360
        }
      }
    },
    {
      "id": "ewoksfluo.tasks.fit.tasks.FitSingleScanMultiDetector0",
      "task_type": "class",
      "task_identifier": "ewoksfluo.tasks.fit.tasks.FitSingleScanMultiDetector",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 150,
          "y": 360
        }
      }
    },
    {
      "id": "ewoksfluo.tasks.raw_counters.extract_counters.ExtractRawCounters0",
      "task_type": "class",
      "task_identifier": "ewoksfluo.tasks.raw_counters.extract_counters.ExtractRawCounters",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 720,
          "y": 360
        }
      }
    },
    {
      "id": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults0",
      "task_type": "class",
      "task_identifier": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 570,
          "y": 360
        }
      }
    },
    {
      "id": "ewoksfluo.tasks.regrid.regrid.RegridXrfResults0",
      "task_type": "class",
      "task_identifier": "ewoksfluo.tasks.regrid.regrid.RegridXrfResults",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 405,
          "y": 345
        }
      }
    },
    {
      "id": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
      "task_type": "class",
      "task_identifier": "sidecar.ewoks.mimosa.autoproc.ErrorHandler",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 450,
          "y": 525
        }
      }
    },
    {
      "id": "sidecar.ewoks.mimosa.autoproc.EndJob0",
      "task_type": "class",
      "task_identifier": "sidecar.ewoks.mimosa.autoproc.EndJob",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 675,
          "y": 240
        }
      }
    },
    {
      "id": "sidecar.ewoks.mimosa.autoproc.StartJob0",
      "task_type": "class",
      "task_identifier": "sidecar.ewoks.mimosa.autoproc.StartJob",
      "default_inputs": [
        {
          "name": "process_name",
          "value": "PyMCA"
        }
      ],
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 15,
          "y": 120
        }
      }
    },
    {
      "id": "sidecar.ewoks.mimosa.autoproc.AddAttachment0",
      "task_type": "class",
      "task_identifier": "sidecar.ewoks.mimosa.autoproc.AddAttachment",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 450,
          "y": 405
        }
      }
    },
    {
      "id": "sidecar.ewoks.pymca.parser.ParseResults0",
      "task_type": "class",
      "task_identifier": "sidecar.ewoks.pymca.parser.ParseResults",
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 450,
          "y": 405
        }
      }
    },
    {
      "id": "sidecar.ewoks.notify.NotifyBeamline0",
      "task_type": "class",
      "task_identifier": "sidecar.ewoks.notify.NotifyBeamline",
      "default_inputs": [
        {
          "name": "beamline",
          "value": "id00"
        },
        {
          "name": "message",
          "value": {
            "type": "xrf_map",
            "action": "update"
          }
        }
      ],
      "uiProps": {
        "icon": "default.png",
        "position": {
          "x": 450,
          "y": 405
        }
      }
    }
  ],
  "links": [
    {
      "source": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults0",
      "target": "ewoksfluo.tasks.raw_counters.extract_counters.ExtractRawCounters0",
      "data_mapping": [
        {
          "source_output": "bliss_scan_uri",
          "target_input": "bliss_scan_uri"
        },
        {
          "source_output": "output_root_uri",
          "target_input": "output_root_uri"
        },
        {
          "source_output": "xrf_results_uri",
          "target_input": "xrf_results_uri"
        }
      ],
      "map_all_data": false
    },
    {
      "source": "ewoksfluo.tasks.raw_counters.extract_counters.ExtractRawCounters0",
      "target": "ewoksfluo.tasks.regrid.regrid.RegridXrfResults0",
      "data_mapping": [
        {
          "source_output": "bliss_scan_uri",
          "target_input": "bliss_scan_uri"
        },
        {
          "source_output": "output_root_uri",
          "target_input": "output_root_uri"
        },
        {
          "source_output": "xrf_results_uri",
          "target_input": "xrf_results_uri"
        }
      ],
      "map_all_data": false
    },
    {
      "source": "ewoksfluo.tasks.sum_detectors.sum_results.SumXrfResults0",
      "target": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults0",
      "data_mapping": [
        {
          "source_output": "bliss_scan_uri",
          "target_input": "bliss_scan_uri"
        },
        {
          "source_output": "xrf_results_uri",
          "target_input": "xrf_results_uri"
        },
        {
          "source_output": "output_root_uri",
          "target_input": "output_root_uri"
        }
      ]
    },
    {
      "source": "ewoksfluo.tasks.fit.tasks.FitSingleScanMultiDetector0",
      "target": "ewoksfluo.tasks.sum_detectors.sum_results.SumXrfResults0",
      "data_mapping": [
        {
          "source_output": "xrf_results_uris",
          "target_input": "xrf_results_uris"
        },
        {
          "source_output": "bliss_scan_uri",
          "target_input": "bliss_scan_uri"
        },
        {
          "source_output": "output_root_uri",
          "target_input": "output_root_uri"
        },
        {
          "source_output": "detector_names",
          "target_input": "detector_names"
        }
      ]
    },
    {
      "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
      "target": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
      "data_mapping": [
        {
          "source_output": "autoProcProgramId",
          "target_input": "autoProcProgramId"
        },
        {
          "source_output": "output_directory",
          "target_input": "output_directory"
        }
      ],
      "required": true
    },
    {
      "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
      "target": "sidecar.ewoks.mimosa.autoproc.EndJob0",
      "data_mapping": [
        {
          "source_output": "autoProcProgramId",
          "target_input": "autoProcProgramId"
        }
      ],
      "required": true
    },
    {
      "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
      "target": "sidecar.ewoks.pymca.parser.ParseResults0",
      "data_mapping": [
        {
          "source_output": "autoProcProgramId",
          "target_input": "autoProcProgramId"
        }
      ],
      "required": true
    },
    {
      "source": "sidecar.ewoks.mimosa.autoproc.StartJob0",
      "target": "sidecar.ewoks.mimosa.autoproc.AddAttachment0",
      "data_mapping": [
        {
          "source_output": "autoProcProgramId",
          "target_input": "autoProcProgramId"
        }
      ],
      "required": true
    },
    {
      "source": "ewoksfluo.tasks.fit.tasks.FitSingleScanMultiDetector0",
      "target": "sidecar.ewoks.mimosa.autoproc.AddAttachment0",
      "data_mapping": [
        {
          "source_output": "xrf_results_uris",
          "target_input": "nxdata_url"
        }
      ],
      "required": true
    },
    {
      "source": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults0",
      "target": "sidecar.ewoks.mimosa.autoproc.EndJob0",
      "data_mapping": [
        {
          "source_output": "xrf_results_uri",
          "target_input": "nxdata_url"
        }
      ],
      "required": true
    },
    {
      "source": "ewoksfluo.tasks.fit.tasks.FitSingleScanMultiDetector0",
      "target": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
      "on_error": true,
      "map_all_data": true
    },
    {
      "source": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults0",
      "target": "sidecar.ewoks.mimosa.autoproc.ErrorHandler0",
      "on_error": true,
      "map_all_data": true
    },
    {
      "source": "ewoksfluo.tasks.normalization.norm_results.NormalizeXrfResults0",
      "target": "sidecar.ewoks.pymca.parser.ParseResults0",
      "data_mapping": [
        {
          "source_output": "xrf_results_uri",
          "target_input": "nxdata_url"
        }
      ],
      "required": true
    },
    {
      "source": "sidecar.ewoks.pymca.parser.ParseResults0",
      "target": "sidecar.ewoks.notify.NotifyBeamline0"
    },
    {
      "source": "ewoksfluo.tasks.input.pick_scan.PickScan0",
      "target": "ewoksfluo.tasks.fit.tasks.FitSingleScanMultiDetector0",
      "data_mapping": [
        {
          "source_output": "bliss_scan_uri",
          "target_input": "bliss_scan_uri"
        }
      ]
    }
  ]
}
