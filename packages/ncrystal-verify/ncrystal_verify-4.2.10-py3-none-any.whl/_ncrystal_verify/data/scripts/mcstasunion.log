============= CLI >>--help<< ====================
usage: ncrystal_mcstasunion [-h] [--split] [--output OUTPUT] [--force]
                            NAME CFGSTR

Output McStas-Union code in McStas instrument (.instr) format to define
material with NAME based on specified NCrystal CFGSTR. Providing the --split
option will split NCrystal processes into physics types at the McStas-Union
level, rather than internally in NCrystal.

positional arguments:
  NAME                 Resulting NAME of McStas-Union material.
  CFGSTR               NCrystal cfg-string of the material.

options:
  -h, --help           show this help message and exit
  --split, -s          Splits NCrystal processesinto physics types at the
                       McStas-Union level,rather than internally in NCrystal.
  --output, -o OUTPUT  Output file name (defaults to stdout).
  --force, -f          Override output file if it already exists.

===========================================
============= CLI >>--split MyMat 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5'<< ====================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5',
         name = 'MyMat',
         split_by_physics = True )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_cohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;incoh_elas=0;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat_ncrystal_incohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;coh_elas=0;dcutoff=0.5;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat_ncrystal_inelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;coh_elas=0;dcutoff=0.5;incoh_elas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_cohelas_proc,MyMat_ncrystal_incohelas_proc,MyMat_ncrystal_inelas_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

===========================================
============= CLI >>--split MyMat 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=10.0'<< ====================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=10.0',
         name = 'MyMat',
         split_by_physics = True )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_incohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;coh_elas=0;dcutoff=10;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat_ncrystal_inelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;coh_elas=0;dcutoff=10;incoh_elas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_incohelas_proc,MyMat_ncrystal_inelas_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

===========================================
============= CLI >>--split MyMat 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5;comp=bragg'<< ====================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5;comp=bragg',
         name = 'MyMat',
         split_by_physics = True )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_cohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;incoh_elas=0;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_cohelas_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

===========================================
============= CLI >>--split MyMat 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5;inelas=0'<< ====================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5;inelas=0',
         name = 'MyMat',
         split_by_physics = True )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_cohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;incoh_elas=0;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat_ncrystal_incohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;coh_elas=0;dcutoff=0.5;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_cohelas_proc,MyMat_ncrystal_incohelas_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

===========================================
============= CLI >>MyMat 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5'<< ====================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5',
         name = 'MyMat' )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

===========================================
============= CLI >>MyMat 'phases<0.65*Al_sg225.ncmat;dcutoff=0.4&0.35*MgO_sg225_Periclase.ncmat;dcutoff=0.8>;temp=100K;vdoslux=0' --split<< ====================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'phases<0.65*Al_sg225.ncmat;dcutoff=0.4&0.35*MgO_sg225_Periclase.ncmat;dcutoff=0.8>;temp=100K;vdoslux=0',
         name = 'MyMat',
         split_by_physics = True )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_cohelas_proc = NCrystal_process(
    cfg = "phases<0.65*Al_sg225.ncmat;dcutoff=0.4&0.35*MgO_sg225_Periclase.ncmat;dcutoff=0.8>;incoh_elas=0;inelas=0;sans=0;temp=100;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat_ncrystal_incohelas_proc = NCrystal_process(
    cfg = "phases<0.65*Al_sg225.ncmat;dcutoff=0.4&0.35*MgO_sg225_Periclase.ncmat;dcutoff=0.8>;coh_elas=0;inelas=0;sans=0;temp=100;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat_ncrystal_inelas_proc = NCrystal_process(
    cfg = "phases<0.65*Al_sg225.ncmat;dcutoff=0.4&0.35*MgO_sg225_Periclase.ncmat;dcutoff=0.8>;coh_elas=0;incoh_elas=0;sans=0;temp=100;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_cohelas_proc,MyMat_ncrystal_incohelas_proc,MyMat_ncrystal_inelas_proc",
    my_absorption = 1.02286257357616
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

===========================================
============= CLI >>MyMat 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5' -o myblafile.c<< ====================
Wrote: myblafile.c
===========================================
Contents of myblafile.c: ========================================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5',
         name = 'MyMat' )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT MyMat_ncrystal_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT MyMat = Union_make_material(
    process_string = "MyMat_ncrystal_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

TEST PyAPI1 ============================================================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5;inelas=0',
         name = 'BlaBla',
         split_by_physics = True )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT BlaBla_ncrystal_cohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;incoh_elas=0;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT BlaBla_ncrystal_incohelas_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;coh_elas=0;dcutoff=0.5;inelas=0;sans=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT BlaBla = Union_make_material(
    process_string = "BlaBla_ncrystal_cohelas_proc,BlaBla_ncrystal_incohelas_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

TEST PyAPI2 ============================================================

/*
   The following code was auto generated by NCrystal v<current> via Python:

     NCrystal.mcstasutils.cfgstr_2_union_instrument_code(
         cfgstr = 'Al_sg225.ncmat;temp=20K;vdoslux=0;dcutoff=0.5;inelas=0',
         name = 'BlaBla' )

   Please re-generate in case of major changes to input data or NCrystal.
*/

COMPONENT BlaBla_ncrystal_proc = NCrystal_process(
    cfg = "Al_sg225.ncmat;dcutoff=0.5;inelas=0;temp=20;vdoslux=0"
)
AT (0,0,0) ABSOLUTE

COMPONENT BlaBla = Union_make_material(
    process_string = "BlaBla_ncrystal_proc",
    my_absorption = 1.39136803716641
)
AT (0,0,0) ABSOLUTE

/* End of auto generated code from NCrystal. */

