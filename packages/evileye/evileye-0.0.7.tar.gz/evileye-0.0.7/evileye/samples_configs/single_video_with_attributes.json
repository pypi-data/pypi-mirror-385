{
  "pipeline": {
    "pipeline_class": "PipelineSurveillance",
    "sources": [
      {
        "camera": "videos/planes_sample.mp4",
        "source": "VideoFile",
        "split": false,
        "num_split": 0,
        "src_coords": [0],
        "source_ids": [0],
        "source_names": ["Cam1"]
      }
    ],
    "detectors": [
      {
        "type": "ObjectDetectorRtdetr",
        "model": "models/rtdetr-x.pt",
        "classes": [0, 1, 2, 3, 4],
        "source_ids": [0],
        "inference_size": 640,
        "conf": 0.25,
        "roi": [[]],
        "vid_stride": 1,
        "num_detection_threads": 1
      }
    ],
    "trackers": [
      {
        "source_ids": [0],
        "fps": 5,
        "botsort_cfg": {
          "tracker_type": "botsort",
          "track_high_thresh": 0.5,
          "track_low_thresh": 0.1,
          "new_track_thresh": 0.6,
          "track_buffer": 30,
          "match_thresh": 0.8,
          "proximity_thresh": 0.5,
          "appearance_thresh": 0.25,
          "gmc_method": "sparseOptFlow",
          "with_reid": true
        }
      }
    ],
    "attributes_roi": [
      {
        "source_ids": [0],
        "padding": 0.15,
        "size": [224, 224],
        "every_n_frames": 1
      }
    ],
    "attributes_classifier": [
      {
        "source_ids": [0],
        "enabled": true,
        "model": "models/y8mhardhats.pt",
        "attrs": ["hard_hat", "no_hard_hat"],
        "class_mapping": {
          "hard_hat": 0,
          "no_hard_hat": 1
        },
        "conf_threshold": 0.4
      }
    ],
    "mc_trackers": [
      {
        "enable": true,
        "source_ids": [0]
      }
    ]
  },
  "controller": {
    "fps": 30,
    "enable_close_from_gui": true,
    "class_names": ["person", "bicycle", "car", "motorcycle", "airplane", "bus", "train", "truck", "boat", "traffic light", "fire hydrant", "stop sign", "parking meter", "bench", "bird", "cat", "dog", "horse", "sheep", "cow", "elephant", "bear", "zebra", "giraffe", "backpack", "umbrella", "handbag", "tie", "suitcase", "frisbee", "skis", "snowboard", "sports ball", "kite", "baseball bat", "baseball glove", "skateboard", "surfboard", "tennis racket", "bottle", "wine glass", "cup", "fork", "knife", "spoon", "bowl", "banana", "apple", "sandwich", "orange", "broccoli", "carrot", "hot dog", "pizza", "donut", "cake", "chair", "couch", "potted plant", "bed", "dining table", "toilet", "tv", "laptop", "mouse", "remote", "keyboard", "cell phone", "microwave", "oven", "toaster", "sink", "refrigerator", "book", "clock", "vase", "scissors", "teddy bear", "hair drier", "toothbrush"],
    "auto_restart": false,
    "class_mapping": {
      "person": 0, "bicycle": 1, "car": 2, "motorcycle": 3, "airplane": 4, "bus": 5, "train": 6, "truck": 7, "boat": 8, "traffic light": 9, "fire hydrant": 10, "stop sign": 11, "parking meter": 12, "bench": 13, "bird": 14, "cat": 15, "dog": 16, "horse": 17, "sheep": 18, "cow": 19, "elephant": 20, "bear": 21, "zebra": 22, "giraffe": 23, "backpack": 24, "umbrella": 25, "handbag": 26, "tie": 27, "suitcase": 28, "frisbee": 29, "skis": 30, "snowboard": 31, "sports ball": 32, "kite": 33, "baseball bat": 34, "baseball glove": 35, "skateboard": 36, "surfboard": 37, "tennis racket": 38, "bottle": 39, "wine glass": 40, "cup": 41, "fork": 42, "knife": 43, "spoon": 44, "bowl": 45, "banana": 46, "apple": 47, "sandwich": 48, "orange": 49, "broccoli": 50, "carrot": 51, "hot dog": 52, "pizza": 53, "donut": 54, "cake": 55, "chair": 56, "couch": 57, "potted plant": 58, "bed": 59, "dining table": 60, "toilet": 61, "tv": 62, "laptop": 63, "mouse": 64, "remote": 65, "keyboard": 66, "cell phone": 67, "microwave": 68, "oven": 69, "toaster": 70, "sink": 71, "refrigerator": 72, "book": 73, "clock": 74, "vase": 75, "scissors": 76, "teddy bear": 77, "hair drier": 78, "toothbrush": 79
    },
    "use_database": true
  },
  "objects_handler": {
    "max_active_objects": 100,
    "max_lost_objects": 100,
    "lost_thresh": 5,
    "lost_store_time_secs": 60,
    "history_len": 30,
    "attributes_detection": {
      "primary_by_name": ["person"],
      "primary_by_id": [0],
      "secondary_by_name": ["hard_hat", "no_hard_hat"],
      "secondary_by_id": [0, 1],
      "roi": {
        "padding": 0.15,
        "size": [224, 224],
        "every_n_frames": 1
      },
      "classifier": {
        "enabled": true,
        "model": "models/y8mhardhats.pt",
        "attrs": ["hard_hat", "no_hard_hat"],
        "class_mapping": {
          "hard_hat": 0,
          "no_hard_hat": 1
        },
        "confidence_thresholds": {
          "hard_hat": 0.4,
          "no_hard_hat": 0.4
        },
        "time_thresholds": {
          "hard_hat": {
            "min_time_ms": 30,
            "confirm_time_ms": 60
          },
          "no_hard_hat": {
            "min_time_ms": 30,
            "confirm_time_ms": 60
          }
        },
        "ema_alpha": 1.0
      }
    }
  },
  "events_detectors": {
    "CamEventsDetector": {},
    "FieldOfViewEventsDetector": {
      "sources": {}
    },
    "ZoneEventsDetector": {
      "sources": {},
      "event_threshold": 0,
      "zone_left_threshold": 0
    }
  },
  "events_processor": {},
  "database": {
    "database_name": "evil_eye_db",
    "host_name": "localhost",
    "port": 5432,
    "admin_user_name": "postgres",
    "admin_password": "",
    "image_dir": "EvilEyeData",
    "preview_width": 300,
    "preview_height": 150
  },
  "visualizer": {
    "num_width": 1,
    "num_height": 1,
    "visual_buffer_num_frames": 10,
    "source_ids": [0],
    "fps": [5],
    "gui_enabled": true,
    "show_debug_info": true,
    "objects_journal_enabled": true,
    "text_config": {
      "font_size_pt": 42,
      "font_face": 0,
      "color": [0, 0, 255],
      "thickness": null,
      "background_color": [0, 0, 0],
      "background_enabled": false,
      "padding_percent": 1.5,
      "position_offset_percent": [0, -8],
      "font_scale_method": "resolution_based",
      "base_resolution": [1920, 1080]
    }
  }
}
