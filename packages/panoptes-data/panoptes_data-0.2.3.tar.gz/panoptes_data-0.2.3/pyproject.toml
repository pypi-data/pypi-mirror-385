[build-system]
requires = ["hatchling>=1.18", "hatch-vcs>=0.3"]
build-backend = "hatchling.build"

[project]
name = "panoptes-data"
description = "Tools for working with PANOPTES data."
readme = "README.md"
requires-python = ">=3.12"
license = { file = "LICENSE.txt" }
authors = [
    { name = "Wilfred Tyler Gee", email = "wtylergee@gmail.com" },
]
keywords = ["astronomy", "panoptes", "data"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.12",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
]
dependencies = [
    "astropy",
    "numpy",
    "pandas",
    "panoptes-utils[images]",
    "pydantic",
    "pydantic-settings",
    "python-dateutil",
    "rich[jupyter]",
    "tabulate",
    "tqdm",
    "typer",
]
dynamic = ["version"]

[project.urls]
Documentation = "https://projectpanoptes.org/"
Source = "https://github.com/panoptes/panoptes-data/"
Download = "https://pypi.org/project/panoptes-data/#files"

[project.scripts]
panoptes-data = "panoptes.data.utils.cli.main:app"

[tool.hatch.version]
source = "vcs"

[tool.hatch.build]
include = ["src/panoptes/**", "README.md", "LICENSE.txt"]

[tool.hatch.build.targets.wheel]
packages = ["src/panoptes"]

[tool.hatch.envs.default]
dependencies = [
    "ruff>=0.5.0"
]
[tool.hatch.envs.default.scripts]
lint = "ruff check ."
lint-fix = "ruff check --fix ."
fmt = "ruff format ."
fmt-check = "ruff format --check ."

[tool.ruff]
line-length = 100
target-version = "py312"
src = ["src"]

[tool.hatch.envs.tests]
dependencies = [
    "coverage>=7.0,<8.0",
    "pytest>=7.0,<8.0",
    "pytest-cov>=4.0,<5.0",
    "pytest-doctestplus>=1.0,<2.0",
]
[tool.hatch.envs.tests.scripts]
test = "pytest"
test-cov = "pytest --cov=panoptes.data --cov-report term-missing --verbose"
