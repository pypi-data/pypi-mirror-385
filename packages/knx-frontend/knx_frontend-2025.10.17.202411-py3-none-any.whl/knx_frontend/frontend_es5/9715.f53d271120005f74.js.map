{"version":3,"file":"9715.f53d271120005f74.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/components/ha-selector/ha-selector-template.ts","webpack://knx-frontend/./homeassistant-frontend/src/util/documentation-url.ts","webpack://knx-frontend/./homeassistant-frontend/src/util/toast.ts"],"sourcesContent":["import { css, html, nothing, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport type { HomeAssistant } from \"../../types\";\nimport { documentationUrl } from \"../../util/documentation-url\";\nimport \"../ha-code-editor\";\nimport \"../ha-input-helper-text\";\nimport \"../ha-alert\";\n\nconst WARNING_STRINGS = [\"template:\", \"sensor:\", \"state:\", \"trigger: template\"];\n\n@customElement(\"ha-selector-template\")\nexport class HaTemplateSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public value?: string;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) public required = true;\n\n  @state() private warn: string | undefined = undefined;\n\n  protected render() {\n    return html`\n      ${this.warn\n        ? html`<ha-alert alert-type=\"warning\"\n            >${this.hass.localize(\n              \"ui.components.selectors.template.yaml_warning\",\n              { string: this.warn }\n            )}\n            <br />\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=${documentationUrl(\n                this.hass,\n                \"/docs/configuration/templating/\"\n              )}\n              >${this.hass.localize(\n                \"ui.components.selectors.template.learn_more\"\n              )}</a\n            ></ha-alert\n          >`\n        : nothing}\n      ${this.label\n        ? html`<p>${this.label}${this.required ? \"*\" : \"\"}</p>`\n        : nothing}\n      <ha-code-editor\n        mode=\"jinja2\"\n        .hass=${this.hass}\n        .value=${this.value}\n        .readOnly=${this.disabled}\n        autofocus\n        autocomplete-entities\n        autocomplete-icons\n        @value-changed=${this._handleChange}\n        dir=\"ltr\"\n        linewrap\n      ></ha-code-editor>\n      ${this.helper\n        ? html`<ha-input-helper-text .disabled=${this.disabled}\n            >${this.helper}</ha-input-helper-text\n          >`\n        : nothing}\n    `;\n  }\n\n  private _handleChange(ev) {\n    ev.stopPropagation();\n    let value = ev.target.value;\n    if (this.value === value) {\n      return;\n    }\n    this.warn = WARNING_STRINGS.find((str) => value.includes(str));\n    if (value === \"\" && !this.required) {\n      value = undefined;\n    }\n    fireEvent(this, \"value-changed\", { value });\n  }\n\n  static styles = css`\n    p {\n      margin-top: 0;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-template\": HaTemplateSelector;\n  }\n}\n","import type { HomeAssistant } from \"../types\";\n\nexport const documentationUrl = (hass: HomeAssistant, path: string) =>\n  `https://${\n    hass.config.version.includes(\"b\")\n      ? \"rc\"\n      : hass.config.version.includes(\"dev\")\n        ? \"next\"\n        : \"www\"\n  }.home-assistant.io${path}`;\n","import { fireEvent } from \"../common/dom/fire_event\";\nimport type { ShowToastParams } from \"../managers/notification-manager\";\n\nexport const showToast = (el: HTMLElement, params: ShowToastParams) =>\n  fireEvent(el, \"hass-notification\", params);\n"],"names":["WARNING_STRINGS","HaTemplateSelector","LitElement","render","html","_t","_","warn","_t2","hass","localize","string","documentationUrl","nothing","label","_t3","required","value","disabled","_handleChange","helper","_t4","ev","stopPropagation","target","this","find","str","includes","undefined","fireEvent","args","styles","css","_t5","attribute","type","Boolean","path","config","version","showToast","el","params"],"mappings":"oYASA,MAAAA,EAAA,CAAyB,YAAa,UAAW,SAAU,qBAGpD,MAAPC,UAAAC,EAAAA,GAeYC,MAAAA,GACR,OAAAC,EAAAA,EAAAA,IAAAC,IAAAA,EAAAC,CAAA;QAAA;QAAA;;;gBAAA;iBAAA;oBAAA;;;;yBAAA;;;;QAAA;OACE,KAAAC,MAAAH,EAAAA,EAAAA,IAAAI,IAAAA,EAAAF,CAAA;eAAA;;;;;qBAAA;iBAAA;;cAEO,KAAAG,KAAAC,SAAA,iDAEGC,OAAA,KAAAJ,QAMGK,EAAAA,EAAAA,GAAA,KAAAH,KAAA,mCAIJ,KAAAA,KAAAC,SAAA,gDAIJG,EAAAA,GAEL,KAAAC,OAAAV,EAAAA,EAAAA,IAAAW,IAAAA,EAAAT,CAAA,wBAAAQ,MAAA,KAAAE,SAAA,QAAAH,EAAAA,GAKQ,KAAAJ,KACC,KAAAQ,MACG,KAAAC,SAIK,KAAAC,cAIjB,KAAAC,QAAAhB,EAAAA,EAAAA,IAAAiB,IAAAA,EAAAf,CAAA;eAAA;cAAA,KAAAY,SAEO,KAAAE,QACFP,EAAAA,GAGT,CAEQM,aAAAA,CAAAG,GACNA,EAAAC,kBACA,IAAAN,EAAAK,EAAAE,OAAAP,MACIQ,KAAJR,QAAAA,IAGAQ,KAAAlB,KAAAP,EAAA0B,MAAAC,GAAAV,EAAAW,SAAAD,KACA,KAAAV,GAAA,KAAAD,WACEC,OAAAY,IAEFC,EAAAA,EAAAA,GAAA,sBAAmCb,UACrC,C,kBAvEK,SAAAc,GAAA,KAAAb,UAAA,OAAAF,UAAA,OAAAT,UAAAsB,C,EAAM5B,EAAA+B,QAAAC,EAAAA,EAAAA,IAAAC,IAAAA,EAAA5B,CAAA;;;;kCACC6B,WAAA,K,sOAQAC,KAAAC,W,2DAEAD,KAAAC,W,gPCrBP,MAAPzB,EAAAA,CAAAH,EAAA6B,IAAA,WAAA7B,EAAA8B,OAAAC,QAAAZ,SAAA,UAAAnB,EAAA8B,OAAAC,QAAAZ,SAAA,wCAAAU,G,uECCO,MAAPG,EAAAA,CAAAC,EAAAC,KAAAb,EAAAA,EAAAA,GAAAY,EAAA,oBAAAC,E"}