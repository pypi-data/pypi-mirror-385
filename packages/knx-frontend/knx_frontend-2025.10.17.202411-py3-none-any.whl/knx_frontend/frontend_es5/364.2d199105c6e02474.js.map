{"version":3,"file":"364.2d199105c6e02474.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/components/ha-form/ha-form-expandable.ts"],"sourcesContent":["import { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport type { HomeAssistant } from \"../../types\";\nimport \"./ha-form\";\nimport \"../ha-expansion-panel\";\nimport type {\n  HaFormDataContainer,\n  HaFormElement,\n  HaFormExpandableSchema,\n  HaFormSchema,\n} from \"./types\";\n\n@customElement(\"ha-form-expandable\")\nexport class HaFormExpandable extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public data!: HaFormDataContainer;\n\n  @property({ attribute: false }) public schema!: HaFormExpandableSchema;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ attribute: false }) public computeLabel?: (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer,\n    options?: { path?: string[] }\n  ) => string;\n\n  @property({ attribute: false }) public computeHelper?: (\n    schema: HaFormSchema,\n    options?: { path?: string[] }\n  ) => string;\n\n  @property({ attribute: false }) public localizeValue?: (\n    key: string\n  ) => string;\n\n  private _renderDescription() {\n    const description = this.computeHelper?.(this.schema);\n    return description ? html`<p>${description}</p>` : nothing;\n  }\n\n  private _computeLabel = (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer,\n    options?: { path?: string[] }\n  ) => {\n    if (!this.computeLabel) return this.computeLabel;\n\n    return this.computeLabel(schema, data, {\n      ...options,\n      path: [...(options?.path || []), this.schema.name],\n    });\n  };\n\n  private _computeHelper = (\n    schema: HaFormSchema,\n    options?: { path?: string[] }\n  ) => {\n    if (!this.computeHelper) return this.computeHelper;\n\n    return this.computeHelper(schema, {\n      ...options,\n      path: [...(options?.path || []), this.schema.name],\n    });\n  };\n\n  protected render() {\n    return html`\n      <ha-expansion-panel outlined .expanded=${Boolean(this.schema.expanded)}>\n        ${this.schema.icon\n          ? html`\n              <ha-icon slot=\"leading-icon\" .icon=${this.schema.icon}></ha-icon>\n            `\n          : this.schema.iconPath\n            ? html`\n                <ha-svg-icon\n                  slot=\"leading-icon\"\n                  .path=${this.schema.iconPath}\n                ></ha-svg-icon>\n              `\n            : nothing}\n        <div\n          slot=\"header\"\n          role=\"heading\"\n          aria-level=${this.schema.headingLevel?.toString() ?? \"3\"}\n        >\n          ${this.schema.title || this.computeLabel?.(this.schema)}\n        </div>\n        <div class=\"content\">\n          ${this._renderDescription()}\n          <ha-form\n            .hass=${this.hass}\n            .data=${this.data}\n            .schema=${this.schema.schema}\n            .disabled=${this.disabled}\n            .computeLabel=${this._computeLabel}\n            .computeHelper=${this._computeHelper}\n            .localizeValue=${this.localizeValue}\n          ></ha-form>\n        </div>\n      </ha-expansion-panel>\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: flex !important;\n      flex-direction: column;\n    }\n    :host ha-form {\n      display: block;\n    }\n    .content {\n      padding: 12px;\n    }\n    .content p {\n      margin: 0 0 24px;\n    }\n    ha-expansion-panel {\n      display: block;\n      --expansion-panel-content-padding: 0;\n      border-radius: 6px;\n      --ha-card-border-radius: 6px;\n    }\n    ha-svg-icon,\n    ha-icon {\n      color: var(--secondary-text-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-expandable\": HaFormExpandable;\n  }\n}\n"],"names":["HaFormExpandable","LitElement","_renderDescription","_this$computeHelper","description","computeHelper","call","schema","html","_t","_","nothing","render","_this$schema$headingL","_this$schema$headingL2","_this$computeLabel","_t2","Boolean","expanded","icon","_t3","iconPath","_t4","headingLevel","toString","title","computeLabel","hass","data","disabled","_computeLabel","_computeHelper","localizeValue","args","options","this","Object","assign","path","name","styles","css","_t5","attribute","type"],"mappings":"0RAaO,MAAPA,UAAAC,EAAAA,GAwBUC,kBAAAA,GAAA,IAAAC,EACN,MAAAC,EAAA,QAAAD,EAAA,KAAAE,qBAAA,IAAAF,OAAA,EAAAA,EAAAG,KAAA,UAAAC,QACA,OAAAH,GAAAI,EAAAA,EAAAA,IAAAC,IAAAA,EAAAC,CAAA,eAAAN,GAAAO,EAAAA,EACF,CA2BUC,MAAAA,GAAA,IAAAC,EAAAC,EAAAC,EACR,OAAAP,EAAAA,EAAAA,IAAAQ,IAAAA,EAAAN,CAAA;+CAAA;UAAA;;;;uBAAA;;YAAA;;;YAAA;;oBAAA;oBAAA;sBAAA;wBAAA;4BAAA;6BAAA;6BAAA;;;;OACyCO,QAAA,KAAAV,OAAAW,UACrC,KAAAX,OAAAY,MAAAX,EAAAA,EAAAA,IAAAY,IAAAA,EAAAV,CAAA;mDAAA;eAEyC,KAAAH,OAAAY,MACrC,KAAAZ,OAAAc,UAAAb,EAAAA,EAAAA,IAAAc,IAAAA,EAAAZ,CAAA;;;0BAAA;;iBAKY,KAAAH,OAAAc,UAEVV,EAAAA,GAKO,QALPE,EAKO,QALPC,EAKO,KAAAP,OAAAgB,oBAAA,IAAAT,OAAA,EAAAA,EAAAU,kBAAA,IAAAX,EAAAA,EAAA,IAEX,KAAAN,OAAAkB,QAAA,QAAAV,EAAA,KAAAW,oBAAA,IAAAX,OAAA,EAAAA,EAAAT,KAAA,UAAAC,SAGA,KAAAL,qBAEQ,KAAAyB,KACA,KAAAC,KACE,KAAArB,OAAAA,OACE,KAAAsB,SACI,KAAAC,cACC,KAAAC,eACA,KAAAC,cAKzB,C,kBA1FK,SAAAC,GAAA,KAAAJ,UAAA,OAAAC,cAAA,CAAAvB,EAAAqB,EAAAM,IAkCEC,KAALT,aAEOS,KAAPT,aAAAnB,EAAAqB,EAAAQ,OAAAC,OAAAD,OAAAC,OAAA,GACEH,GAAA,IACAI,KAAA,KAAWJ,aAAA,EAAAA,EAAAI,OAAA,GAAsBH,KAAA5B,OAAAgC,SAJnC,KAAAb,aAMF,KAAAK,eAAA,CAAAxB,EAAA2B,IAMOC,KAAL9B,cAEO8B,KAAP9B,cAAAE,EAAA6B,OAAAC,OAAAD,OAAAC,OAAA,GACEH,GAAA,IACAI,KAAA,KAAWJ,aAAA,EAAAA,EAAAI,OAAA,GAAsBH,KAAA5B,OAAAgC,SAJnC,KAAAlC,a,EA9CSL,EAAAwC,QAAAC,EAAAA,EAAAA,IAAAC,IAAAA,EAAAhC,CAAA;;;;;;;;;;;;;;;;;;;;;;;;kCACCiC,WAAA,K,uDAEAA,WAAA,K,uDAEAA,WAAA,K,yDAEAC,KAAA3B,W,2DAEA0B,WAAA,K,+DAMAA,WAAA,K,gEAKAA,WAAA,K"}