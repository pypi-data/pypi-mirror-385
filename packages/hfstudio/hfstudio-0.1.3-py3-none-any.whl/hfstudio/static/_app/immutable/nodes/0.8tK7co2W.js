import{S as Se,i as Ce,s as Le,c as He,d as x,r as Te,t as Ee,a as Me,b as r,u as Ne,g as Ue,e as Ae,f as $,h as s,l as le,j as Pe,k as u,m as A,n as H,o as w,p as f,q as y,v as De,w as xe,x as me,y as te,z as se,A as Be}from"../chunks/BF3xBGh8.js";import"../chunks/IHki7fMi.js";function Oe(c){let t,e="Sign In";return{c(){t=f("span"),t.textContent=e},l(n){t=u(n,"SPAN",{"data-svelte-h":!0}),H(t)!=="svelte-6n3gky"&&(t.textContent=e)},m(n,h){$(n,t,h)},p:Be,d(n){n&&x(t)}}}function Ve(c){let t,e,n,h;return{c(){t=f("span"),e=se("Sign out ("),n=se(c[2]),h=se(")")},l(k){t=u(k,"SPAN",{});var o=A(t);e=te(o,"Sign out ("),n=te(o,c[2]),h=te(o,")"),o.forEach(x)},m(k,o){$(k,t,o),s(t,e),s(t,n),s(t,h)},p(k,o){o&4&&me(n,k[2])},d(k){k&&x(t)}}}function je(c){let t,e,n=c[1]?"logged in":"not logged in",h,k;return{c(){t=f("span"),e=se("Checking... ("),h=se(n),k=se(")")},l(o){t=u(o,"SPAN",{});var m=A(t);e=te(m,"Checking... ("),h=te(m,n),k=te(m,")"),m.forEach(x)},m(o,m){$(o,t,m),s(t,e),s(t,h),s(t,k)},p(o,m){m&2&&n!==(n=o[1]?"logged in":"not logged in")&&me(h,n)},d(o){o&&x(t)}}}function ke(c){let t,e=`<div class="bg-blue-600 text-white text-sm rounded-lg p-3 shadow-lg relative"><div class="flex items-start gap-2"><svg class="w-4 h-4 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> <div><p class="font-medium">Sign in required</p> <p class="text-blue-100 text-xs mt-1">You need to sign in to use HuggingFace Inference Providers for text-to-speech
                  generation.</p></div></div> <div class="absolute top-full left-1/2 transform -translate-x-1/2"><div class="w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-blue-600"></div></div></div>`;return{c(){t=f("div"),t.innerHTML=e,this.h()},l(n){t=u(n,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-4csry"&&(t.innerHTML=e),this.h()},h(){r(t,"class","absolute bottom-full left-0 right-0 mb-2 z-50")},m(n,h){$(n,t,h)},d(n){n&&x(t)}}}function we(c){let t,e,n,h="Sign In with HuggingFace Token",k,o,m,Q="<strong>Manual Token Entry:</strong> Please enter your HuggingFace token.",v,d,E=`1. Go to <a href="https://huggingface.co/settings/tokens" target="_blank" class="underline text-blue-600">HuggingFace Settings</a><br/>
            2. Create a new token with &quot;Inference API&quot; permissions<br/>
            3. Copy and paste it below`,Y,z,p,I,F="HuggingFace Token",J,b,q,W,T,P,K="Cancel",D,V,X="Sign In",l,_,i=c[7]&&ye(),a=c[6]&&Ie(c);return{c(){t=f("div"),e=f("div"),n=f("h2"),n.textContent=h,k=y(),o=f("div"),m=f("p"),m.innerHTML=Q,v=y(),d=f("p"),d.innerHTML=E,Y=y(),i&&i.c(),z=y(),p=f("div"),I=f("label"),I.textContent=F,J=y(),b=f("input"),q=y(),a&&a.c(),W=y(),T=f("div"),P=f("button"),P.textContent=K,D=y(),V=f("button"),V.textContent=X,this.h()},l(S){t=u(S,"DIV",{class:!0});var G=A(t);e=u(G,"DIV",{class:!0});var L=A(e);n=u(L,"H2",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-1t0ehet"&&(n.textContent=h),k=w(L),o=u(L,"DIV",{class:!0});var C=A(o);m=u(C,"P",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-344vn4"&&(m.innerHTML=Q),v=w(C),d=u(C,"P",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-orsfwv"&&(d.innerHTML=E),Y=w(C),i&&i.l(C),C.forEach(x),z=w(L),p=u(L,"DIV",{class:!0});var B=A(p);I=u(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(I)!=="svelte-vtbmxo"&&(I.textContent=F),J=w(B),b=u(B,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),q=w(B),a&&a.l(B),B.forEach(x),W=w(L),T=u(L,"DIV",{class:!0});var ee=A(T);P=u(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),H(P)!=="svelte-csk0rj"&&(P.textContent=K),D=w(ee),V=u(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),H(V)!=="svelte-1nxas5u"&&(V.textContent=X),ee.forEach(x),L.forEach(x),G.forEach(x),this.h()},h(){r(n,"class","text-xl font-semibold mb-4"),r(m,"class","text-blue-800 mb-2"),r(d,"class","text-blue-700"),r(o,"class","mb-4 p-3 bg-blue-50 rounded-md text-sm"),r(I,"for","token"),r(I,"class","block text-sm font-medium text-gray-700 mb-2"),r(b,"id","token"),r(b,"type","password"),r(b,"placeholder","hf_..."),r(b,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"),r(p,"class","mb-4"),r(P,"class","px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors"),r(V,"class","px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors"),r(T,"class","flex justify-end gap-3"),r(e,"class","bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl"),r(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(S,G){$(S,t,G),s(t,e),s(e,n),s(e,k),s(e,o),s(o,m),s(o,v),s(o,d),s(o,Y),i&&i.m(o,null),s(e,z),s(e,p),s(p,I),s(p,J),s(p,b),xe(b,c[5]),s(p,q),a&&a.m(p,null),s(e,W),s(e,T),s(T,P),s(T,D),s(T,V),l||(_=[le(b,"input",c[15]),le(b,"keydown",c[16]),le(P,"click",c[10]),le(V,"click",c[11])],l=!0)},p(S,G){S[7]?i||(i=ye(),i.c(),i.m(o,null)):i&&(i.d(1),i=null),G&32&&b.value!==S[5]&&xe(b,S[5]),S[6]?a?a.p(S,G):(a=Ie(S),a.c(),a.m(p,null)):a&&(a.d(1),a=null)},d(S){S&&x(t),i&&i.d(),a&&a.d(),l=!1,Te(_)}}}function ye(c){let t,e=`<strong>Tip:</strong> You can also run <code>huggingface-cli login</code> in your terminal
              to automatically use your local token.`;return{c(){t=f("p"),t.innerHTML=e,this.h()},l(n){t=u(n,"P",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-xrut8w"&&(t.innerHTML=e),this.h()},h(){r(t,"class","text-blue-600 mt-2")},m(n,h){$(n,t,h)},d(n){n&&x(t)}}}function Ie(c){let t,e;return{c(){t=f("p"),e=se(c[6]),this.h()},l(n){t=u(n,"P",{class:!0});var h=A(t);e=te(h,c[6]),h.forEach(x),this.h()},h(){r(t,"class","text-red-600 text-sm mt-1")},m(n,h){$(n,t,h),s(t,e)},p(n,h){h&64&&me(e,n[6])},d(n){n&&x(t)}}}function ze(c){let t,e,n,h='<div class="flex items-center gap-3"><img src="/assets/hf-studio-logo.png" alt="HF Logo" class="w-8 h-8"/> <h1 class="text-xl font-semibold">HFStudio<sup class="text-xs text-gray-500 ml-1">BETA</sup></h1></div>',k,o,m,Q="Tasks",v,d,E,Y="üéôÔ∏è",z,p,I="Text to Speech",F,J,b,q="<span>üéµ</span> <span>Voice Cloning</span>",W,T,P="<span>üéß</span> <span>Speech to Text</span>",K,D,V="<span>üéº</span> <span>Sound Effects</span>",X,l,_="<span>üé∏</span> <span>Music Generation</span>",i,a,S="<span>üîä</span> <span>Audio Enhancement</span>",G,L,C,B,ee,ue,fe,de,ne,he,Z,pe,_e;function be(g,N){return g[3]?je:g[1]?Ve:Oe}let ae=be(c),R=ae(c),U=c[8]&&!c[1]&&ke();const ge=c[13].default,j=He(ge,c,c[12],null);let M=c[4]&&we(c);return{c(){t=f("div"),e=f("aside"),n=f("div"),n.innerHTML=h,k=y(),o=f("nav"),m=f("div"),m.textContent=Q,v=y(),d=f("button"),E=f("span"),E.textContent=Y,z=y(),p=f("span"),p.textContent=I,J=y(),b=f("button"),b.innerHTML=q,W=y(),T=f("button"),T.innerHTML=P,K=y(),D=f("button"),D.innerHTML=V,X=y(),l=f("button"),l.innerHTML=_,i=y(),a=f("button"),a.innerHTML=S,G=y(),L=f("div"),C=f("button"),B=f("img"),ue=y(),R.c(),fe=y(),U&&U.c(),de=y(),ne=f("main"),j&&j.c(),he=y(),M&&M.c(),this.h()},l(g){t=u(g,"DIV",{class:!0});var N=A(t);e=u(N,"ASIDE",{class:!0});var oe=A(e);n=u(oe,"DIV",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-60or62"&&(n.innerHTML=h),k=w(oe),o=u(oe,"NAV",{class:!0});var O=A(o);m=u(O,"DIV",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-pii1fa"&&(m.textContent=Q),v=w(O),d=u(O,"BUTTON",{class:!0});var re=A(d);E=u(re,"SPAN",{"data-svelte-h":!0}),H(E)!=="svelte-1yx42xi"&&(E.textContent=Y),z=w(re),p=u(re,"SPAN",{"data-svelte-h":!0}),H(p)!=="svelte-2j89jk"&&(p.textContent=I),re.forEach(x),J=w(O),b=u(O,"BUTTON",{class:!0,"data-svelte-h":!0}),H(b)!=="svelte-10dl8nf"&&(b.innerHTML=q),W=w(O),T=u(O,"BUTTON",{class:!0,"data-svelte-h":!0}),H(T)!=="svelte-wf0x5d"&&(T.innerHTML=P),K=w(O),D=u(O,"BUTTON",{class:!0,"data-svelte-h":!0}),H(D)!=="svelte-x7bha3"&&(D.innerHTML=V),X=w(O),l=u(O,"BUTTON",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1tyblmt"&&(l.innerHTML=_),i=w(O),a=u(O,"BUTTON",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1emrjb3"&&(a.innerHTML=S),O.forEach(x),G=w(oe),L=u(oe,"DIV",{class:!0});var ce=A(L);C=u(ce,"BUTTON",{class:!0});var ie=A(C);B=u(ie,"IMG",{src:!0,alt:!0,class:!0}),ue=w(ie),R.l(ie),ie.forEach(x),fe=w(ce),U&&U.l(ce),ce.forEach(x),oe.forEach(x),de=w(N),ne=u(N,"MAIN",{class:!0});var ve=A(ne);j&&j.l(ve),ve.forEach(x),he=w(N),M&&M.l(N),N.forEach(x),this.h()},h(){r(n,"class","p-4 border-b border-gray-200"),r(m,"class","mt-2 mb-1 px-2 text-xs font-medium text-gray-500 uppercase"),r(d,"class",F="w-full flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-gray-100 transition-colors text-left "+(c[0]==="tts"?"bg-gray-100":"")),r(b,"class","w-full flex items-center gap-2 px-2 py-1.5 rounded-md text-left opacity-40 cursor-not-allowed"),b.disabled=!0,r(T,"class","w-full flex items-center gap-2 px-2 py-1.5 rounded-md text-left opacity-40 cursor-not-allowed"),T.disabled=!0,r(D,"class","w-full flex items-center gap-2 px-2 py-1.5 rounded-md text-left opacity-40 cursor-not-allowed"),D.disabled=!0,r(l,"class","w-full flex items-center gap-2 px-2 py-1.5 rounded-md text-left opacity-40 cursor-not-allowed"),l.disabled=!0,r(a,"class","w-full flex items-center gap-2 px-2 py-1.5 rounded-md text-left opacity-40 cursor-not-allowed"),a.disabled=!0,r(o,"class","p-2 text-sm flex-1"),Pe(B.src,ee="/assets/hf-logo.png")||r(B,"src",ee),r(B,"alt","HF Logo"),r(B,"class","w-5 h-5"),C.disabled=c[3],r(C,"class","w-full px-6 py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-800 transition-colors shadow-sm flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed"),r(L,"class","p-2 relative"),r(e,"class","w-56 border-r border-gray-200 bg-white flex-shrink-0 flex flex-col h-full "),r(ne,"class","flex-1 overflow-auto"),r(t,"class","flex h-screen bg-white")},m(g,N){$(g,t,N),s(t,e),s(e,n),s(e,k),s(e,o),s(o,m),s(o,v),s(o,d),s(d,E),s(d,z),s(d,p),s(o,J),s(o,b),s(o,W),s(o,T),s(o,K),s(o,D),s(o,X),s(o,l),s(o,i),s(o,a),s(e,G),s(e,L),s(L,C),s(C,B),s(C,ue),R.m(C,null),s(L,fe),U&&U.m(L,null),s(t,de),s(t,ne),j&&j.m(ne,null),s(t,he),M&&M.m(t,null),Z=!0,pe||(_e=[le(d,"click",c[14]),le(C,"click",c[9])],pe=!0)},p(g,[N]){(!Z||N&1&&F!==(F="w-full flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-gray-100 transition-colors text-left "+(g[0]==="tts"?"bg-gray-100":"")))&&r(d,"class",F),ae===(ae=be(g))&&R?R.p(g,N):(R.d(1),R=ae(g),R&&(R.c(),R.m(C,null))),(!Z||N&8)&&(C.disabled=g[3]),g[8]&&!g[1]?U||(U=ke(),U.c(),U.m(L,null)):U&&(U.d(1),U=null),j&&j.p&&(!Z||N&4096)&&Ne(j,ge,g,g[12],Z?Ae(ge,g[12],N,null):Ue(g[12]),null),g[4]?M?M.p(g,N):(M=we(g),M.c(),M.m(t,null)):M&&(M.d(1),M=null)},i(g){Z||(Me(j,g),Z=!0)},o(g){Ee(j,g),Z=!1},d(g){g&&x(t),R.d(),U&&U.d(),j&&j.d(g),M&&M.d(),pe=!1,Te(_e)}}}function Fe(c,t,e){let{$$slots:n={},$$scope:h}=t,k="tts";const o=typeof window<"u"?localStorage.getItem("hf_access_token"):null,m=typeof window<"u"?localStorage.getItem("hf_cached_token"):null,Q=typeof window<"u"?localStorage.getItem("hf_user_info"):null;let v=!1,d="",E=!1,Y=!1;if(o&&o===m&&Q)try{const l=JSON.parse(Q);v=!0,d=l.username,Y=!0}catch{E=!0}else o&&(E=!0);let z=!1,p="",I="",F=!1,J=!1;De(()=>{window.addEventListener("show-signin-popover",()=>{e(8,J=!0),setTimeout(()=>{e(8,J=!1)},4e3)}),!Y&&o?(b(),q()):o||b(),document.addEventListener("visibilitychange",()=>{document.hidden||q()}),window.addEventListener("storage",q);const l=setInterval(q,1e3);return()=>{window.removeEventListener("storage",q),clearInterval(l)}});async function b(){if(!(v&&Y)){e(3,E=!0);try{const _=await(await fetch("/api/auth/local-token")).json();_.available?(e(7,F=!0),localStorage.setItem("hf_access_token",_.token),_.user_info&&_.user_info.name!=="Local User"?(e(1,v=!0),e(2,d=_.user_info.name.split(" ")[0])):(e(1,v=!0),e(2,d="Local User"))):e(7,F=!1)}catch{e(7,F=!1)}finally{e(3,E=!1)}}}function q(){const l=localStorage.getItem("hf_access_token"),_=localStorage.getItem("hf_user_info"),i=localStorage.getItem("hf_cached_token");if(l){if(l===i&&_)try{const a=JSON.parse(_);e(1,v=!0),e(2,d=a.username);return}catch{}(!v||l!==i)&&W(l)}else e(1,v=!1),e(2,d=""),localStorage.removeItem("hf_user_info"),localStorage.removeItem("hf_cached_token")}async function W(l){e(3,E=!0);try{const _=await fetch("https://huggingface.co/api/whoami-v2",{headers:{Authorization:`Bearer ${l}`}});if(_.ok){const i=await _.json();e(1,v=!0);const a=i.name||i.fullname||i.login||i.username||"User";e(2,d=a.split(" ")[0]);const S={username:d,fullName:a};localStorage.setItem("hf_user_info",JSON.stringify(S)),localStorage.setItem("hf_cached_token",l)}else localStorage.removeItem("hf_access_token"),localStorage.removeItem("hf_user_info"),localStorage.removeItem("hf_cached_token"),e(1,v=!1),e(2,d="")}catch{const i=localStorage.getItem("hf_user_info");if(i)try{const a=JSON.parse(i);e(1,v=!0),e(2,d=a.username);return}catch{}localStorage.removeItem("hf_access_token"),localStorage.removeItem("hf_user_info"),localStorage.removeItem("hf_cached_token"),e(1,v=!1),e(2,d="")}finally{e(3,E=!1)}}async function T(){if(v)localStorage.removeItem("hf_access_token"),localStorage.removeItem("hf_user_info"),localStorage.removeItem("hf_cached_token"),sessionStorage.removeItem("oauth_state"),e(1,v=!1),e(2,d="");else if(window.location.hostname.includes("hf.space")||window.location.hostname.includes("huggingface.co"))try{const _=await(await fetch("/api/auth/oauth-config")).json(),i=_.scopes||"read-repos write-repos manage-repos inference-api",a=`https://huggingface.co/oauth/authorize?client_id=${_.client_id}&redirect_uri=${encodeURIComponent(window.location.origin+"/auth/callback")}&scope=${encodeURIComponent(i)}&response_type=code&state=${Date.now()}`;window.location.href=a}catch{e(4,z=!0),e(5,p=""),e(6,I="")}else e(4,z=!0),e(5,p=""),e(6,I="")}function P(){e(4,z=!1),e(5,p=""),e(6,I="")}async function K(){if(!p.trim()){e(6,I="Please enter a token");return}if(!p.startsWith("hf_")){e(6,I='Token should start with "hf_"');return}try{const l=await fetch("https://huggingface.co/api/whoami-v2",{headers:{Authorization:`Bearer ${p.trim()}`}});if(l.ok){const _=await l.json(),i=p.trim();localStorage.setItem("hf_access_token",i),e(1,v=!0);const a=_.name||_.fullname||_.login||_.username||"User";e(2,d=a.split(" ")[0]);const S={username:d,fullName:a};localStorage.setItem("hf_user_info",JSON.stringify(S)),localStorage.setItem("hf_cached_token",i),P()}else e(6,I=`Invalid token (${l.status}). Please check your token and try again.`)}catch{e(6,I="Error validating token. Please try again.")}}const D=()=>e(0,k="tts");function V(){p=this.value,e(5,p)}const X=l=>l.key==="Enter"&&K();return c.$$set=l=>{"$$scope"in l&&e(12,h=l.$$scope)},[k,v,d,E,z,p,I,F,J,T,P,K,h,n,D,V,X]}class Ge extends Se{constructor(t){super(),Ce(this,t,Fe,ze,Le,{})}}export{Ge as component};
