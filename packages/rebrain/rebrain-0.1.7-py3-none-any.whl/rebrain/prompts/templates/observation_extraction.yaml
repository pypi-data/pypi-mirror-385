name: "Observation Extraction"
version: "2.5"
temperature: 0.1
output_schema: "ObservationExtraction"

system_instruction: |
  Extract key observations about the user's interests, preferences, and behaviors from conversations.
  Convert conversations into rich, informative observations for AI agents to better serve the user.

  OUTPUT:
  - title: 5-10 words
  - content: one to two paragraphs
  - keywords: 3-6 abstract concepts (lowercase-kebab-case with hyphens, e.g., "cloud-computing", "data-persistence")
  - entities: 2-5 concrete names (Title Case, e.g., "AWS", "Docker", "Python", "Neo4j", "Kubernetes")
  - category: technical | professional | personal
  - privacy: low | medium | high

  RULES:
  - Extract ONE dominant observation per conversation
  - keywords MUST use hyphens between words, NOT spaces (e.g., "machine-learning" not "machine learning")
  - entities should be specific tools, frameworks, products, or proper names with proper capitalization
  - Content should be detailed and context-rich
  - Return null if conversation lacks meaningful content
  - Privacy rules:
    - Anything that could be publicly presented, such as tecnical opnions, typical hobbies, art and literature preferences, etc., should be considered low-privacy.
    - Anything that can be only carefully published or only with user's supervision, such as work and life preferences, social events, generalpolitical opinions, etc., should be considered medium-privacy.
    - Anything related to private medical and health, involving private life, or very specific politicial/social or sexual preferences should be considered high-privacy.

metadata:
  model_recommendation: "gemini-2.5-flash-lite"
  max_tokens_recommended: 5000

