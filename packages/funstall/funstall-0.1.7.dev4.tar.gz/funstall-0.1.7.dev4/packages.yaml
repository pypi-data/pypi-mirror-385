# Increase on backwards-incompatible changes
version: 1
packages:
  - name: 7zip
    sources:
      - kind: pacman
        config:
          name: 7zip
      - kind: brew
        config:
          name: p7zip
  - name: chromium
    sources:
      - kind: pacman
        config:
          name: chromium
  - name: cups
    sources:
      - kind: pacman
        config:
          name: cups
  - name: delta
    sources:
      - kind: pacman
        config:
          name: git-delta
      - kind: brew
        config:
          name: git-delta
  - name: discord
    sources:
      - kind: pacman
        config:
          name: discord
      - kind: brew
        config:
          name: discord
          cask: true
  - name: edge
    sources:
      - kind: nushell-script
        config:
          installation:
            source_file: packages/edge/install-or-update.nu
            elevated_priviliges: true
          update:
            source_file: packages/edge/install-or-update.nu
            elevated_priviliges: true
        condition:
          # This script uses pacman internally for dependencies; apart from
          # that it could work on other platforms as well. This would need to
          # be tested.
          kind: package-manager
          is: pacman
      - kind: brew
        config:
          name: microsoft-edge
          cask: true
  - name: fnm
    sources:
      - kind: nushell-script
        dependencies:
          - name: unzip
        config:
          installation:
            source_file: packages/fnm/install.nu
          update:
            source_file: packages/fnm/update.nu
  - name: fzf
    sources:
      - kind: pacman
        config:
          name: fzf
      - kind: brew
        config:
          name: fzf
  - name: gemini-cli
    sources:
      - kind: npm
        config:
          name: "@google/gemini-cli"
          node_version: "22"
          executables: ["gemini"]
  - name: gimp
    sources:
      - kind: pacman
        config:
          name: gimp
      - kind: brew
        config:
          name: gimp
          cask: true
  - name: imagemagick
    sources:
      - kind: pacman
        config:
          name: imagemagick
      - kind: brew
        config:
          name: imagemagick
  - name: joplin
    sources:
      - kind: nushell-script
        dependencies:
          - name: libfuse2
        config:
          installation:
            source_file: packages/joplin/install-or-update.nu
          update:
            source_file: packages/joplin/install-or-update.nu
      - kind: brew
        config:
          name: joplin
          cask: true
  - name: keepass
    sources:
      - kind: pacman
        config:
          name: keepass
      - kind: brew
        config:
          name: keepassxc
          cask: true
  - name: libfuse2
    sources:
      - kind: pacman
        config:
          name: fuse2
  - name: nerd-fonts
    sources:
      - kind: pacman
        config:
          name: nerd-fonts
  - name: neovim
    sources:
      - kind: pacman
        config:
          name: neovim
      - kind: brew
        config:
          name: neovim
    dependencies:
      - name: wl-clipboard
        condition:
          kind: display-server
          is: wayland
  - name: networkmanager
    sources:
      - kind: pacman
        config:
          name: networkmanager
  - name: nfs-utils
    sources:
      - kind: pacman
        config:
          name: nfs-utils
  - name: nix
    sources:
      - kind: nushell-script
        config:
          installation:
            source_file: packages/nix/install.nu
          update:
            source_file: packages/nix/update.nu
            elevated_priviliges: true
  - name: noto-fonts-emoji
    sources:
      - kind: pacman
        config:
          name: noto-fonts-emoji
  - name: nushell
    sources:
      - kind: pacman
        config:
          name: nushell
  - name: pdftk
    sources:
      - kind: pacman
        config:
          name: pdftk
  - name: ripgrep
    sources:
      - kind: pacman
        config:
          name: ripgrep
      - kind: brew
        config:
          name: ripgrep
  - name: samba
    sources:
      - kind: pacman
        config:
          name: samba
  - name: steam
    sources:
      - kind: pacman
        config:
          name: steam
      - kind: brew
        config:
          name: steam
          cask: true
  - name: ts-ls
    sources:
      - kind: npm
        config:
          name: typescript-language-server
          additional_packages: [ typescript ]
          node_version: "22"
          executables: ["typescript-language-server"]
  - name: unzip
    sources:
      - kind: pacman
        config:
          name: unzip
  - name: vim
    sources:
      - kind: pacman
        config:
          name: vim
      - kind: brew
        config:
          name: vim
  - name: vlc
    sources:
      - kind: pacman
        config:
          name: vlc
      - kind: brew
        config:
          name: vlc
          cask: true
  - name: wezterm
    sources:
      - kind: pacman
        config:
          name: wezterm
      - kind: brew
        config:
          name: wezterm
          cask: true
    dependencies:
      - name: nerd-fonts
  - name: wget
    sources:
      - kind: pacman
        config:
          name: wget
      - kind: brew
        config:
          name: wget
  - name: wl-clipboard
    sources:
      - kind: pacman
        config:
          name: wl-clipboard
  - name: zip
    sources:
      - kind: pacman
        config:
          name: zip
      - kind: brew
        config:
          name: gzip
  - name: zsh
    sources:
      - kind: pacman
        config:
          name: zsh
  - name: zuban
    sources:
      - kind: pip
        config:
          name: zuban
          python_version: "3.13"
          executables: [ zuban ]
