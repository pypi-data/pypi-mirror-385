(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{90988:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return s(69955)}])},30952:function(e,t,s){"use strict";s.d(t,{f:function(){return d}});var l=s(24246),a=s(66726),n=s.n(a),r=s(27378),i=s(26917);let d=e=>{let{value:t,onChange:s,placeholder:a,...d}=e,[o,c]=(0,r.useState)(t);(0,r.useEffect)(()=>{c(t||"")},[t]);let u=n()(s,500),m=(0,r.useCallback)(e=>{c(e),u(e)},[]);return(0,l.jsx)(i.Z,{value:o,onChange:m,onClear:()=>{c(""),s("")},placeholder:a,...d})}},35287:function(e,t,s){"use strict";var l=s(24246),a=s(20595),n=s(88038),r=s.n(n);s(27378),t.Z=e=>{let{children:t,title:s,mainProps:n}=e;return(0,l.jsxs)(a.kCb,{"data-testid":s,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 240px)",children:[(0,l.jsxs)(r(),{children:[(0,l.jsxs)("title",{children:["Fides Admin UI - ",s]}),(0,l.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(a.kCb,{px:10,py:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0,...n,children:t})]})}},58754:function(e,t,s){"use strict";var l=s(24246),a=s(20595),n=s(70788);t.Z=e=>{let{heading:t,breadcrumbItems:s,isSticky:r=!0,children:i,rightContent:d,style:o,...c}=e;return(0,l.jsxs)("div",{...c,style:r?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...o}:{paddingBottom:"24px",...o},children:[(0,l.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof t?(0,l.jsx)(a.lQT,{className:s||i?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,d&&(0,l.jsx)("div",{"data-testid":"page-header-right-content",children:d})]}),!!s&&(0,l.jsx)(n.m,{className:i?"pb-4":void 0,items:s,"data-testid":"page-breadcrumb"}),i]})}},19904:function(e,t,s){"use strict";s.d(t,{Tg:function(){return r}});var l=s(24246),a=s(16134),n=s(31793);let r=e=>(0,a.C)(n.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:s}=e;return r(t)?(0,l.jsx)(l.Fragment,{children:s}):null}},97181:function(e,t,s){"use strict";s.d(t,{d:function(){return o}});var l=s(24246),a=s(20595),n=s(34090),r=s(27378),i=s(46238),d=s(40324);let o=e=>{let{name:t,label:s,labelProps:o,tooltip:c,isRequired:u,layout:m="inline",helperText:p,...g}=e,[y,h,{setValue:x}]=(0,n.U$)(t),j=!!(h.touched&&h.error),[v,f]=(0,r.useState)("");y.value||"tags"!==g.mode&&"multiple"!==g.mode||(y.value=[]),"tags"===g.mode&&"string"==typeof y.value&&(y.value=[y.value]);let k="tags"===g.mode?(e,t)=>e?e.value!==v||y.value.includes(v)?g.optionRender?g.optionRender(e,t):e.label:'Create "'.concat(v,'"'):void 0:g.optionRender||void 0,b=e=>{f(e),g.onSearch&&g.onSearch(e)},_=(e,t)=>{x(e),g.onChange&&g.onChange(e,t)};return"inline"===m?(0,l.jsx)(a.NIc,{isInvalid:j,isRequired:u,children:(0,l.jsxs)(a.rjZ,{templateColumns:s?"1fr 3fr":"1fr",children:[s?(0,l.jsx)(d.__,{htmlFor:g.id||t,...o,children:s}):null,(0,l.jsxs)(a.jqI,{align:"center",children:[(0,l.jsxs)(a.jqI,{vertical:!0,flex:1,className:"mr-2",children:[(0,l.jsx)(a.WPr,{...y,id:g.id||t,"data-testid":"controlled-select-".concat(y.name),...g,optionRender:k,onSearch:"tags"===g.mode?b:void 0,onChange:_,value:y.value||void 0,status:j?"error":void 0}),p&&(0,l.jsx)(a.Q6r,{children:p}),(0,l.jsx)(d.Bc,{isInvalid:j,message:h.error,fieldName:y.name})]}),(0,l.jsx)(i.b,{label:c,className:j?"mt-2 self-start":void 0})]})]})}):(0,l.jsx)(a.NIc,{isInvalid:j,isRequired:u,children:(0,l.jsxs)(a.gCW,{alignItems:"start",children:[(0,l.jsxs)(a.jqI,{align:"center",children:[s?(0,l.jsx)(d.__,{htmlFor:g.id||t,fontSize:"xs",my:0,mr:1,...o,children:s}):null,(0,l.jsx)(i.b,{label:c})]}),(0,l.jsx)(a.WPr,{...y,id:g.id||t,"data-testid":"controlled-select-".concat(y.name),...g,optionRender:k,onSearch:"tags"===g.mode?b:void 0,onChange:_,value:y.value||void 0,status:j?"error":void 0}),p&&(0,l.jsx)(a.Q6r,{style:{marginTop:0},children:p}),(0,l.jsx)(d.Bc,{isInvalid:j,message:h.error,fieldName:y.name})]})})}},70788:function(e,t,s){"use strict";s.d(t,{m:function(){return o}});var l=s(24246),a=s(20595),n=s(79894),r=s.n(n),i=s(27378);let{Text:d}=a.AntTypography,o=e=>{let{items:t,...s}=e,n=(0,i.useMemo)(()=>null==t?void 0:t.map((e,s)=>{let n=s===t.length-1,i={...e},o=i.onClick&&!i.href;return("string"==typeof i.title&&(i.title=(0,l.jsx)(d,{style:{color:"inherit",maxWidth:n?void 0:400},ellipsis:!n,id:n?"breadcrumb-current-page":void 0,children:i.title})),o)?i.title=(0,l.jsx)(a.wpx,{type:"text",size:"small",icon:i.icon,onClick:i.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:i.title}):(i.icon&&(i.title=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"anticon align-text-bottom",children:i.icon}),i.title]})),i.href&&i.title&&(i.title=(0,l.jsx)(r(),{href:i.href,className:"ant-breadcrumb-link",children:i.title}),delete i.href)),i}),[t]);return(0,l.jsx)(a.zrq,{items:n,...s})}},33335:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});let l=e=>e.toLowerCase().replace(/[ .]/g,"_").replace(/[^a-zA-Z0-9_<>-]/g,"")},22583:function(e,t,s){"use strict";s.d(t,{j:function(){return a}});var l=s(39449);let a={[l.Ej.TAXONOMY_WHITE]:"default",[l.Ej.TAXONOMY_RED]:"error",[l.Ej.TAXONOMY_ORANGE]:"warning",[l.Ej.TAXONOMY_YELLOW]:"caution",[l.Ej.TAXONOMY_GREEN]:"success",[l.Ej.TAXONOMY_BLUE]:"info",[l.Ej.TAXONOMY_PURPLE]:"alert",[l.Ej.SANDSTONE]:"sandstone",[l.Ej.MINOS]:"minos"}},92818:function(e,t,s){"use strict";s.d(t,{r:function(){return d}});var l=s(24246),a=s(27378),n=s(97181),r=s(22583),i=s(39449);let d={[i.Ej.TAXONOMY_WHITE]:"White",[i.Ej.TAXONOMY_RED]:"Red",[i.Ej.TAXONOMY_ORANGE]:"Orange",[i.Ej.TAXONOMY_YELLOW]:"Yellow",[i.Ej.TAXONOMY_GREEN]:"Green",[i.Ej.TAXONOMY_BLUE]:"Blue",[i.Ej.TAXONOMY_PURPLE]:"Purple",[i.Ej.SANDSTONE]:"Sandstone",[i.Ej.MINOS]:"Minos"},o=e=>{let{color:t,...s}=e;return(0,l.jsx)("span",{"aria-hidden":!0,className:"mr-2 inline-block size-4 rounded-lg align-middle",style:{backgroundColor:"var(--fidesui-bg-".concat(r.j[t],")"),border:t===i.Ej.TAXONOMY_WHITE?"1px solid var(--fidesui-neutral-200)":"none",...s.style}})},c=e=>{let t=null==e?void 0:e.value,s=null==e?void 0:e.label;return(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(o,{color:t}),(0,l.jsx)("span",{children:s})]})};t.Z=e=>{let t=Object.values(i.Ej).map(e=>({value:e,label:d[e]})),[s,r]=(0,a.useState)(void 0);return(0,l.jsx)(n.d,{...e,options:t,optionRender:c,layout:"stacked",value:s,onChange:e=>{r(e)},prefix:(0,l.jsx)(o,{color:null!=s?s:i.Ej.TAXONOMY_WHITE,style:{marginBottom:"2px"}})})}},69955:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Q}});var l=s(24246),a=s(20595),n=s(86677),r=s(27378),i=s(25980),d=s(35287),o=s(77830),c=s(58754),u=s(30952),m=s(812),p=s(65450),g=s(34090),y=s(83766),h=s.n(y),x=s(55484),j=s(97181),v=s(40324),f=s(28079),k=s(1315),b=s(92818);let _="all-suggested";var E=e=>{let{options:t,loading:s,name:n,suggestedDataUses:i,...d}=e,[o,c,{setValue:u}]=(0,g.U$)(n),m=!!(c.touched&&c.error),p=(0,r.useMemo)(()=>{let e=[],s=[];return null==t||t.forEach(t=>{i.includes(t.value)?e.push(t):s.push(t)}),{suggested:e,all:s}},[t,i]),y=p.suggested.length?[{label:"Select all suggested",value:_},{label:(0,l.jsxs)(a.vyj,{children:[(0,l.jsx)(a.QMR,{size:14}),(0,l.jsx)("span",{children:"Suggested data uses"})]}),value:"suggested",options:p.suggested},{label:(0,l.jsxs)(a.vyj,{children:[(0,l.jsx)(a.PJP.BBB,{}),(0,l.jsx)("span",{children:"All data uses"})]}),value:"all",options:p.all}]:p.all;return(0,l.jsxs)(a.jqI,{vertical:!0,gap:"small",children:[(0,l.jsx)(a.jqI,{align:"center",children:(0,l.jsx)(v.__,{htmlFor:d.id||n,fontSize:"xs",my:0,mr:1,children:"Data uses"})}),(0,l.jsx)(a.WPr,{options:y,mode:"multiple",placeholder:"Select data uses",allowClear:!0,loading:s,value:o.value,onChange:e=>{e.includes(_)?u(h()([...i,...e.filter(e=>e!==_)])):u(e)},status:m?"error":void 0,virtual:!1,...d}),(0,l.jsx)(v.Bc,{isInvalid:m,message:c.error,fieldName:o.name})]})},S=s(39449);let C=x.Ry().shape({name:x.Z_().required("Name is required").label("Name"),label_color:x.Z_().required("Color is required").label("Color"),systems:x.IX().of(x.Z_()).label("Systems"),data_uses:x.IX().of(x.Z_()).label("Data uses")});var N=e=>{let{selectedSystemKeys:t=[],onSubmit:s,onCancel:n,isSubmitting:i=!1}=e,{data:d=[],isLoading:o}=(0,f.fd)(),{data:c,isLoading:u}=(0,k.K3)(),m=(0,r.useMemo)(()=>d.map(e=>({label:e.name||e.fides_key,value:e.fides_key})),[d]),p=(0,r.useMemo)(()=>{var e;let s=null!==(e=null==c?void 0:c.filter(e=>t.includes(e.fides_key)))&&void 0!==e?e:[];return h()(null==s?void 0:s.flatMap(e=>e.privacy_declarations.map(e=>e.data_use)))},[c,t]),y=(0,r.useMemo)(()=>{var e;return null!==(e=null==c?void 0:c.map(e=>({label:e.name||e.fides_key,value:e.fides_key})))&&void 0!==e?e:[]},[c]),x={name:"",description:"",label_color:S.Ej.TAXONOMY_WHITE,systems:t,data_uses:[],active:!0};return(0,l.jsx)(g.J9,{initialValues:x,validationSchema:C,onSubmit:s,enableReinitialize:!0,children:e=>{let{isValid:t,dirty:s}=e;return(0,l.jsx)(g.l0,{children:(0,l.jsxs)(a.jqI,{vertical:!0,gap:"middle",children:[(0,l.jsx)(a.AntTypography.Title,{level:2,children:"Create system group"}),(0,l.jsx)(v.j0,{name:"name",label:"Name",isRequired:!0,variant:"stacked",placeholder:"Enter system group name"}),(0,l.jsx)(v.Ks,{name:"description",label:"Description",variant:"stacked",placeholder:"Enter system group description",resize:!1}),(0,l.jsx)(j.d,{name:"systems",label:"Systems",mode:"multiple",placeholder:"Select systems",options:y,layout:"stacked",allowClear:!0,loading:u}),(0,l.jsx)(b.Z,{name:"label_color",label:"Color"}),(0,l.jsx)(E,{name:"data_uses",options:m,loading:o,suggestedDataUses:p}),(0,l.jsxs)(a.jqI,{gap:"small",justify:"space-between",className:"pt-4",children:[(0,l.jsx)(a.wpx,{onClick:n,disabled:i,children:"Cancel"}),(0,l.jsx)(a.wpx,{type:"primary",htmlType:"submit",loading:i,disabled:!t||!s||i,"data-testid":"save-btn",children:"Create group"})]})]})})}})},w=s(31793),O=s(31883),T=e=>{let{selectedRowKeys:t,createModalIsOpen:s,setCreateModalIsOpen:n,handleCreateSystemGroup:d,handleBulkAddToGroup:o,groupMenuItems:c}=e,[u,g]=a.Pg3.useMessage(),[y,h]=(0,r.useState)(!1),[x]=(0,p.WP)(),{plus:j}=(0,i.hz)(),{data:v}=(0,w.wv)({page:1,size:100,include_external:!1}),[f]=(0,p.C9)(),k=(0,r.useCallback)(async e=>{let s=await x({data_steward:e,system_keys:t});(0,O.D4)(s)?u.error((0,m.e$)(s.error,"A problem occurred assigning stewards")):u.success("".concat(t.length," systems assigned to ").concat(e," successfully"))},[x,t,u]),b=async()=>{let e=await f(t);(0,O.D4)(e)?u.error((0,m.e$)(e.error,"A problem occurred deleting systems")):u.success("".concat(t.length," systems deleted successfully"))},_=(0,r.useMemo)(()=>{let e=[];return c.length&&j&&e.push(t.length?{key:"add-to-system-group",label:"Add to system group",children:[{key:"new-group",label:"Create new group +",onClick:()=>n(!0)},{type:"divider"},...c.map(e=>({key:e.key,label:e.label,onClick:()=>o(e.key)}))]}:{key:"new-group",label:"Create system group +",onClick:()=>n(!0)}),(null==v?void 0:v.items.length)&&e.push({key:"assign-data-steward",label:"Assign data steward",disabled:!t.length,children:v.items.map(e=>({key:e.username,label:e.username,onClick:()=>k(e.username)}))},{type:"divider"}),e.push({key:"delete",label:"Delete",disabled:!t.length,onClick:()=>{h(!0)}}),e},[c,j,null==v?void 0:v.items,t.length,n,o,k]);return(0,l.jsxs)(l.Fragment,{children:[g,(0,l.jsx)(a.$zI,{open:y,onCancel:()=>h(!1),onOk:b,okText:"Delete",okType:"danger",centered:!0,children:(0,l.jsxs)(a.AntTypography.Paragraph,{children:["Delete ",t.length," systems? This action cannot be undone."]})}),(0,l.jsx)(a.$zI,{open:s,destroyOnHidden:!0,onCancel:()=>n(!1),centered:!0,width:768,footer:null,children:(0,l.jsx)(N,{selectedSystemKeys:t.map(e=>e.toString()),onSubmit:d,onCancel:()=>n(!1)})}),(0,l.jsx)(a.S0p,{trigger:["click"],menu:{items:_},children:(0,l.jsx)(a.wpx,{icon:(0,l.jsx)(a.PJP._ME,{}),children:"Actions"})})]})},A=s(19904),I=s(26070),M=s(3110),P=s(99640),D=s(8125),R=s(16394),z=s(33335),X=s(69353),Y=s(88832),q=s(34929),W=e=>{let{privacyDeclarations:t,...s}=e,{getDataUseDisplayName:a}=(0,q.Z)(),n=t.map(e=>e.data_use).map(e=>({label:a(e),key:e}));return(0,l.jsx)(I.Q,{values:n,...s})},Z=s(56141),B=s.n(Z),L=s(22583);let F="update-system-groups-msg";var G=e=>{let{selectedGroups:t,allGroups:s,system:n,columnState:i,...d}=e,[o,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(t.map(e=>e.fides_key)),[g,y]=a.Pg3.useMessage(),[h]=(0,k.qQ)(),x=async()=>{if(c(!1),B()(u,t.map(e=>e.fides_key)))return;g.open({key:F,type:"loading",content:"Updating groups for ".concat(n.name,"...")});let e=await h({...n,system_groups:u});(0,O.D4)(e)?g.open({key:F,type:"error",content:(0,m.e$)(e.error,"Failed to update system groups")}):g.open({key:F,type:"success",content:"Groups updated for ".concat(n.name)}),setTimeout(()=>{g.destroy(F)},3e3)};return(0,l.jsxs)(a.jqI,{gap:"small",...d,children:[y,!o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.j8w,{onClick:()=>c(!0),addable:!0,"data-testid":"group-add-btn","aria-label":"Add group"}),(0,l.jsx)(I.Q,{values:t.map(e=>e&&{label:e.name,key:e.fides_key,tagProps:{color:e.label_color?"".concat(L.j[e.label_color]):void 0,bordered:!1}}),columnState:i})]}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.WPr,{options:s.map(e=>({label:e.name,value:e.fides_key})),mode:"tags",defaultValue:t.map(e=>e.fides_key),defaultOpen:!0,onChange:e=>{p(e)},onOpenChange:e=>{e||x()},onBlur:()=>c(!1),"aria-label":"Select groups"}),(0,l.jsx)(a.wpx,{"aria-label":"Update groups",icon:(0,l.jsx)(a.PJP.MCw,{}),onClick:x})]})]})},U=()=>{let{data:e}=(0,X.QD)(),t=(0,r.useMemo)(()=>e?e.reduce((e,t)=>({...e,[t.fides_key]:t}),{}):{},[e]),{data:s}=(0,w.wv)({page:1,size:100,include_external:!1}),[d]=(0,p.DW)(),[o]=(0,X.Xz)(),[c]=(0,X.Nr)(),[u,g]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[f,k]=(0,r.useState)(!1),[b,_]=(0,r.useState)(null),E=(0,D.o)({pagination:{defaultPageSize:25,pageSizeOptions:[25,50,100]},search:{defaultSearchQuery:""},sorting:{defaultSortKey:Y.E.NAME,defaultSortOrder:"ascend",validColumns:[Y.E.NAME]}}),{columnFilters:C,pageIndex:N,pageSize:T,searchQuery:q,updateSearch:Z,sortKey:B,sortOrder:L}=E,{data:F,isLoading:U,isFetching:$}=(0,p.xF)({page:N,size:T,search:q,sort_by:B,sort_asc:"ascend"===L,show_deleted:!0,...C}),Q=(0,r.useMemo)(()=>{var e,t;return{enableSelection:!0,dataSource:null!==(e=null==F?void 0:F.items)&&void 0!==e?e:[],totalRows:null!==(t=null==F?void 0:F.total)&&void 0!==t?t:0,isLoading:U,isFetching:$,getRowKey:e=>e.fides_key,customTableProps:{locale:{emptyText:(0,l.jsx)("div",{children:"No systems found"})}}}},[F,U,$]),{tableProps:J,selectionProps:H}=(0,D.V)(E,Q),{selectedRowKeys:K}=null!=H?H:{},[V,ee]=a.Pg3.useMessage(),{plus:et}=(0,i.hz)(),es=(0,n.useRouter)(),el=(0,A.Tg)([S.Sh.SYSTEM_DELETE]),ea=async e=>{let t=await d(e.fides_key);(0,O.D4)(t)?V.error((0,m.e$)(t.error,"Failed to delete system")):V.success("Successfully deleted system"),k(!1)},en=async e=>{let t={...e,fides_key:(0,z.E)(e.name),active:!0},s=await c(t);if((0,O.D4)(s))V.error((0,m.e$)(s.error));else{var l,a;let e="System group '".concat(s.data.name,"' created");(null===(l=s.data.systems)||void 0===l?void 0:l.length)===1?e+=" with system '".concat(s.data.systems[0],"'"):(null===(a=s.data.systems)||void 0===a?void 0:a.length)&&(e+=" with ".concat(s.data.systems.length," systems")),V.success(e)}v(!1)},er=(0,r.useCallback)(async e=>{var s;if(!K)return;let l=t[e],a=await o({...l,systems:h()([...null!==(s=l.systems)&&void 0!==s?s:[],...K.map(e=>e.toString())])});(0,O.D4)(a)?V.error((0,m.e$)(a.error)):V.success("".concat(null==K?void 0:K.length," systems added to group '").concat(e,"'"))},[t,o,K,V]),ei=(0,r.useMemo)(()=>{var t;return null!==(t=null==e?void 0:e.map(e=>({key:e.fides_key,label:e.name,onClick:()=>er(e.fides_key)})))&&void 0!==t?t:[]},[e,er]);return{tableProps:J,selectionProps:H,columns:(0,r.useMemo)(()=>{var n;return[{title:"Name",dataIndex:"name",key:Y.E.NAME,render:(e,t)=>(0,l.jsx)(P.Z,{href:"/systems/configure/".concat(t.fides_key),"data-testid":"system-link-".concat(t.fides_key),children:e||t.fides_key}),ellipsis:!0,fixed:"left",sorter:!0,sortOrder:B===Y.E.NAME?L:null},{dataIndex:"system_groups",key:Y.E.SYSTEM_GROUPS,render:(s,a)=>{var n;return(0,l.jsx)(G,{selectedGroups:null!==(n=null==s?void 0:s.map(e=>null==t?void 0:t[e]).filter(e=>!!e))&&void 0!==n?n:[],allGroups:e,system:{...a,system_groups:null!=s?s:[]},columnState:{isWrapped:!0,isExpanded:u},className:"w-[432px]"})},title:"Groups",hidden:!et,menu:{items:M.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?g(!0):"collapse-all"===e.key&&g(!1)}},filters:(0,R.nZ)(null==e?void 0:e.map(e=>e.fides_key),e=>{var s,l;return null!==(l=null===(s=t[e])||void 0===s?void 0:s.name)&&void 0!==l?l:e}),filteredValue:(null==C?void 0:C.system_groups)||null},{title:"Data uses",menu:{items:M.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?x(!0):"collapse-all"===e.key&&x(!1)}},dataIndex:"privacy_declarations",key:Y.E.DATA_USES,render:e=>(0,l.jsx)(W,{privacyDeclarations:e,columnState:{isWrapped:!0,isExpanded:y}})},{title:"Data stewards",dataIndex:"data_stewards",key:Y.E.DATA_STEWARDS,render:e=>(0,l.jsx)(I.v,{values:null!=e?e:[],valueSuffix:"users"}),filters:(0,R.nZ)(null==s?void 0:null===(n=s.items)||void 0===n?void 0:n.map(e=>e.username)),filteredValue:(null==C?void 0:C.data_stewards)||null},{title:"Description",dataIndex:"description",key:Y.E.DESCRIPTION,render:e=>(0,l.jsx)("div",{className:"max-w-96",children:(0,l.jsx)(a.AntTypography.Text,{ellipsis:{tooltip:e},children:e})}),ellipsis:!0},{title:"Actions",key:Y.E.ACTIONS,render:(e,t)=>(0,l.jsxs)(a.jqI,{gap:"small",children:[(0,l.jsx)(a.wpx,{size:"small",onClick:()=>es.push("/systems/configure/".concat(t.fides_key)),icon:(0,l.jsx)(a.PJP.I8b,{}),"data-testid":"edit-btn",children:"Edit"}),el&&(0,l.jsx)(a.wpx,{size:"small",onClick:()=>{_(t),k(!0)},icon:(0,l.jsx)(a.PJP.ZNm,{}),"data-testid":"delete-btn",children:"Delete"})]}),fixed:"right"}]},[B,L,et,e,null==C?void 0:C.system_groups,null==C?void 0:C.data_stewards,null==s?void 0:s.items,u,t,y,el,es]),searchQuery:q,updateSearch:Z,columnFilters:C,pageIndex:N,pageSize:T,createModalIsOpen:j,setCreateModalIsOpen:v,deleteModalIsOpen:f,setDeleteModalIsOpen:k,setSelectedSystemForDelete:_,handleCreateSystemGroup:en,handleDelete:ea,handleBulkAddToGroup:er,messageContext:ee,groupMenuItems:ei,selectedSystemForDelete:b}},$=()=>{var e,t;let{tableProps:s,selectionProps:n,columns:r,searchQuery:i,updateSearch:d,createModalIsOpen:o,setCreateModalIsOpen:c,deleteModalIsOpen:m,setDeleteModalIsOpen:p,handleDelete:g,handleCreateSystemGroup:y,handleBulkAddToGroup:h,messageContext:x,groupMenuItems:j,selectedSystemForDelete:v}=U();return(0,l.jsxs)(l.Fragment,{children:[x,(0,l.jsxs)(a.jqI,{justify:"space-between",className:"mb-4",children:[(0,l.jsx)(u.f,{value:i,onChange:d,"data-testid":"system-search"}),(0,l.jsxs)(a.jqI,{gap:"small",children:[(0,l.jsx)(T,{selectedRowKeys:null!==(e=null==n?void 0:n.selectedRowKeys)&&void 0!==e?e:[],createModalIsOpen:o,setCreateModalIsOpen:c,handleCreateSystemGroup:y,handleBulkAddToGroup:h,groupMenuItems:j}),(0,l.jsx)(a.$zI,{open:m,onCancel:()=>p(!1),onOk:()=>!!v&&g(v),okText:"Delete",okType:"danger",cancelText:"Cancel",centered:!0,children:(0,l.jsxs)(a.AntTypography.Paragraph,{children:["Are you sure you want to delete"," ",null!==(t=null==v?void 0:v.name)&&void 0!==t?t:null==v?void 0:v.fides_key,"? This action cannot be undone."]})})]})]}),(0,l.jsx)(a.V5H,{...s,columns:r,rowSelection:n})]})},Q=()=>{let e=(0,n.useRouter)(),{dictionaryService:t}=(0,i.hz)();return(0,l.jsx)(d.Z,{title:"System inventory",children:(0,l.jsxs)(a.xuv,{"data-testid":"system-management",children:[(0,l.jsxs)(c.Z,{heading:"System inventory",breadcrumbItems:[{title:"All systems"}],children:[t&&(0,l.jsx)(a.S0p,{trigger:["click"],menu:{items:[{label:"Create new system",key:"add-system",onClick:()=>e.push(o.N5)},{label:"Add multiple systems",key:"add-multiple-systems",onClick:()=>e.push(o.bJ)}]},children:(0,l.jsx)(a.wpx,{type:"primary","data-testid":"add-system-btn",icon:(0,l.jsx)(a.PJP._ME,{}),className:"absolute right-8 top-8",children:"Add system"})}),!t&&(0,l.jsx)(a.wpx,{type:"primary","data-testid":"add-system-btn",onClick:()=>e.push(o.N5),children:"Add new system"})]}),(0,l.jsx)($,{})]})})}},31883:function(e,t,s){"use strict";s.d(t,{Bw:function(){return l.Bw},D4:function(){return l.D4}});var l=s(19043)}},function(e){e.O(0,[431,8765,9278,5163,1896,7245,9965,2888,9774,179],function(){return e(e.s=90988)}),_N_E=e.O()}]);