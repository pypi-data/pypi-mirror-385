{
  "profile_name": "anyrouter-claude",
  "description": "AnyRouter Claude 端点配置示例 - 使用 Anthropic 原生协议",
  "endpoints": [
    {
      "id": "anyrouter-haiku",
      "name": "AnyRouter Haiku",
      "base_url": "https://q.quuvv.cn",
      "api_key": "sk-2EQrynW6WnwhebbW95Ym8uyiezKAETsxtAkboJHJyzH64OfD",
      "models": [
        "claude-3-5-haiku-20241022",
        "claude-haiku-4-5-20251001"
      ],
      "weight": 1.0,
      "enabled": true,
      "timeout": 60,
      "notes": "使用 Anthropic 原生协议 (/v1/messages + x-api-key)"
    }
  ],
  "protocol": {
    "type": "anthropic",
    "endpoint": "/v1/messages",
    "authentication": {
      "header": "x-api-key",
      "version_header": "anthropic-version: 2023-06-01"
    }
  },
  "important_notes": [
    "QCC 代理服务器已更新为支持 Anthropic 原生协议",
    "所有请求使用 /v1/messages 端点，而非 /v1/chat/completions",
    "认证使用 x-api-key 头，而非 Authorization: Bearer",
    "必须包含 anthropic-version: 2023-06-01 头",
    "经测试，以下模型可用：",
    "  - claude-3-5-haiku-20241022 (推荐，最快最便宜)",
    "  - claude-haiku-4-5-20251001",
    "其他高级模型可能因负载限制暂时不可用"
  ],
  "usage_example": {
    "description": "如何通过 QCC 代理使用 Anthropic 协议",
    "steps": [
      "1. 将此配置添加到 qcc config",
      "2. 启动代理: uvx qcc proxy start",
      "3. 配置 Claude Code 使用代理: http://127.0.0.1:7860",
      "4. Claude Code 会自动使用 Anthropic 协议与代理通信",
      "5. 代理会将请求转发到配置的 endpoint"
    ]
  },
  "testing": {
    "direct_test": "python test_anthropic_protocol.py",
    "proxy_test": "python test_proxy_anthropic.py",
    "health_check": "健康检查器也已更新为使用 Anthropic 协议"
  }
}
