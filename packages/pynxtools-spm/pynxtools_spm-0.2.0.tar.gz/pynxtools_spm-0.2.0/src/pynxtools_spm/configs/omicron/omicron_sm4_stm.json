{
  "ENTRY[entry]": {
    "@default": { "raw_path": "@default:current_backward" },
    "identifier_collection": "",
    "start_time": {
      "raw_path": "/Topography_Forward/RHK_DateTime"
    },
    "end_time": {
      "#note": "Handled in function _set_start_end_time",
      "raw_path": "/Topography_Backward/RHK_ImageDrift_Time"
    },
    "scan_mode": "",
    "scan_type": "",
    "experiment_description": "",
    "INSTRUMENT[instrument]": {
      "SCAN_ENVIRONMENT[scan_environment]": {
        "head_temperature": {
          "raw_path": "",
          "@units": ""
        },
        "cryo_bottom_temperature": "",
        "cryo_shield_temperature": "",
        "SPM_SCAN_CONTROL[spm_scan_control_*]": {
          "#note": "handled in function _construct_nxscan_controllers. With '*' it is possible scan name e.g., current_backward.",
          "scanTAG[scan_name]": {
            "raw_path": ""
          },
          "meshSCAN[mesh_scan]": {
            "backward_speedN[backward_speed_n]": {
              "raw_path": "",
              "@units": ""
            },
            "forward_speedN[forward_speed_n]": {
              "raw_path": "",
              "@units": ""
            },
            "scan_speedN[scan_speed_n]": "",
            "channelNAME[scan_name_n]": "",
            "scan_points_x": {
              "raw_path": "/Topography_Forward/RHK_Xsize"
            },
            "scan_points_y": {
              "raw_path": "/Topography_Forward/RHK_Ysize"
            },
            "steppingN[stepping_n]": [
              {
                "_x": {
                  "raw_path": "@default:1",
                  "@units": ""
                }
              },
              {
                "_y": {
                  "raw_path": "@default:1",
                  "@units": ""
                }
              }
            ],
            "step_sizeN[step_size_n]": [
              { "x": { "raw_path": "", "@units": "" } },
              { "y": { "raw_path": "", "@units": "" } }
            ],
            "scan_time": "",
            "SCAN_DATA[scan_data]": "",
            "continuousN[continuous]": {
              "raw_path": "@default:True"
            }
          },
          "scan_region": {
            "scan_angleN[scan_angle_n]": [
              {
                "_x": {
                  "raw_path": "/Topography_Forward/RHK_Angle",
                  "@units": "@default:deg"
                }
              },
              {
                "_y": {
                  "raw_path": "/Topography_Forward/RHK_Angle",
                  "@units": "@default:deg"
                }
              }
            ],
            "scan_offset_valueN[scan_offset_value_n]": [
              {
                "x": {
                  "raw_path": "/Topography_Forward/RHK_Xoffset",
                  "@units": "/Topography_Forward/RHK_X/@unit"
                }
              },
              {
                "y": {
                  "raw_path": "/Topography_Forward/RHK_Yoffset",
                  "@units": "/Topography_Forward/RHK_Y/@unit"
                }
              }
            ],
            "scan_rangeN[scan_range_n]": {
              "raw_path": "",
              "@units": ""
            },
            "scan_startN[scan_start_n]": {
              "raw_path": "",
              "@units": ""
            },
            "scan_endN[scan_end_n]": {
              "raw_path": "",
              "@units": ""
            }
          },
          "scan_time_start": "",
          "scan_time_end": "",
          "independent_scan_axes": {
            "raw_path": "",
            "@units": ""
          },
          "scan_resolutionN[scan_resolution_n]": "",
          "accuracyN[accuracy_n]": "",
          "scan_type": { "raw_path": "@default:mesh", "@units": "" },
          "scan_control_type": {
            "raw_path": "@default:continuous",
            "@units": ""
          }
        },
        "cryo_shield_temperature_sensor": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/cryo_shield_temperature_sensor",
        "cryo_bottom_temperature_sensor": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/cryo_bottom_temperature_sensor",
        "head_temperature_sensor": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/head_temperature_sensor"
      },
      "voltage_sensorTAG[voltage_sensor]": {
        "voltage": {
          "raw_path": "",
          "@units": ""
        },
        "voltage_offset_value": {
          "raw_path": "",
          "@units": ""
        },
        "calibration": {
          "calibration_parameters": {
            "coefficient": ""
          },
          "calibration_time": ""
        },
        "AMPLIFIER[amplifier]": {
          "voltage_gain": {
            "raw_path": ""
          }
        }
      },
      "current_sensorTAG[current_sensor]": {
        "current": {
          "raw_path": "/Topography_Forward/RHK_Current",
          "@units": "/Topography_Forward/RHK_ZPI_SetPoint/@unit"
        },
        "current_offset_value": {
          "raw_path": "/Topography_Forward/RHK_Current/Offset",
          "@units": "/Topography_Forward/RHK_Current/Offset/@unit"
        },
        "calibration": {
          "calibration_parameters": {
            "coefficient": ""
          },
          "calibration_time": ""
        },
        "AMPLIFIER[amplifier]": {
          "current_gain": {
            "raw_path": ""
          }
        }
      },
      "lockin_amplifier": {
        "#note": "handled in function _construct_lockin_amplifier_grp",
        "reference_frequency": {
          "raw_path": "/Topography_Forward/RHK_CH1Drive_Frequency",
          "@units": "/Topography_Forward/RHK_CH1Drive_Frequency/@unit"
        },
        "reference_amplitude": {
          "raw_path": "/Topography_Forward/RHK_CH1Drive_Amplitude",
          "@units": "/Topography_Forward/RHK_CH1Drive_Amplitude/@unit"
        },
        "flip_sign": "",
        "reference_phase": {
          "raw_path": "/Topography_Forward/RHK_CH1Drive_PhaseOffset",
          "@units": "/Topography_Forward/RHK_CH1Drive_PhaseOffset/@unit"
        },
        "active_channel": {
          "raw_path": "/Topography_Forward/RHK_Lockin0_NonMasterOscillator"
        },
        "modulation_signal": {
          "raw_path": "@default:current"
        },
        "demodulated_signal": {
          "raw_path": ""
        },
        "modulation_status": { "raw_path": "" },
        "demodulated_frequency": "",
        "demodulated_amplitude": "",
        "demodulator_channels": "",
        "recorded_channels": "",
        "low_passN[low_pass_n]": [
          {
            "d1": {
              "raw_path": "/Topography_Forward/RHK_LowPassFilter1_CutoffFrequency",
              "@units": "/Topography_Forward/RHK_LowPassFilter1_CutoffFrequency/@unit"
            }
          }
        ],
        "lp_filter_orderN": [
          {
            "d1": { "raw_path": "" },
            "d2": { "raw_path": "" }
          }
        ],
        "high_passN": [
          {
            "d1": {
              "raw_path": "",
              "@units": ""
            }
          },
          {
            "d2": {
              "raw_path": "",
              "@units": ""
            }
          }
        ],
        "hp_filter_orderN": [
          { "d1": { "raw_path": "" } },
          { "d2": { "raw_path": "" } }
        ],
        "ref_offset_phaseN[ref_offset_phase_n]": [
          {
            "d1": {
              "raw_path": "/Topography_Forward/RHK_CH1Drive_PhaseOffset",
              "@units": "/Topography_Forward/RHK_CH1Drive_PhaseOffset/@unit"
            }
          },
          {
            "d2": {
              "raw_path": "/Topography_Forward/RHK_CH2Drive_PhaseOffset",
              "@units": "/Topography_Forward/RHK_CH2Drive_PhaseOffset/@unit"
            }
          }
        ],
        "harmonic_orderN[harmonic_order_n]": [
          {
            "d1": {
              "raw_path": "/Topography_Forward/RHK_CH1Drive_HarmonicFactor"
            }
          },
          {
            "d2": {
              "raw_path": "/Topography_Forward/RHK_CH2Drive_HarmonicFactor"
            }
          }
        ],
        "dc_offset_valueN": [
          {
            "d1": {
              "raw_path": "/Topography_Forward/RHK_CH1DriveValue",
              "@units": "/Topography_Forward/RHK_CH1DriveValue/@unit"
            }
          },
          {
            "d2": {
              "raw_path": "/Topography_Forward/RHK_CH2DriveValue",
              "@units": "/Topography_Forward/RHK_CH2DriveValue/@unit"
            }
          }
        ]
      },
      "height_piezo_sensor": {
        "piezo_configuration": {
          "calibration": {
            "calibration_type": {
              "raw_path": "@default:active"
            },
            "calibration_date": {
              "raw_path": "/Topography_Forward/RHK_DateTime"
            },
            "rangeN[range_n]": { "x": "", "y": "", "z": "" },
            "calibratedAXIS[calibrated_n]": [
              { "x": "" },
              { "y": "" },
              { "z": "" }
            ],
            "calibration_parameters": {
              "coefficientN[coefficient_n]": [
                {
                  "x": {
                    "raw_path": "/Topography_Forward/RHK_PiezoSensitivity_TubeX",
                    "@units": "/Topography_Forward/RHK_PiezoSensitivity_TubeX/@unit"
                  }
                },
                {
                  "y": {
                    "raw_path": "/Topography_Forward/RHK_PiezoSensitivity_TubeY",
                    "@units": "/Topography_Forward/RHK_PiezoSensitivity_TubeY/@unit"
                  }
                },
                {
                  "z": {
                    "raw_path": "/Topography_Forward/RHK_PiezoSensitivity_TubeZ",
                    "@units": "/Topography_Forward/RHK_PiezoSensitivity_TubeZ/@unit"
                  }
                }
              ],
              "second_order_correctionN[second_order_correction_n]": [
                {
                  "x": {
                    "raw_path": "",
                    "@units": ""
                  }
                },
                {
                  "y": {
                    "raw_path": "",
                    "@units": ""
                  }
                },
                {
                  "z": {
                    "raw_path": "",
                    "@units": ""
                  }
                }
              ]
            },
            "calibration_name": {
              "raw_path": ""
            },
            "driftN[drift_n]": [
              {
                "x": {
                  "raw_path": "/Topography_Forward/ImageDrift_dX",
                  "@units": "/Topography_Forward/ImageDrift_dX/@unit"
                }
              },
              {
                "y": {
                  "raw_path": "/Topography_Forward/ImageDrift_dY",
                  "@units": "/Topography_Forward/ImageDrift_dY/@unit"
                }
              }
            ],
            "drift_correction_status": {
              "raw_path": ["", ""]
            },
            "hv_gainN[hv_gain_n]": [
              { "x": { "raw_path": "" } },
              { "y": { "raw_path": "" } },
              { "z": { "raw_path": "" } }
            ],
            "tiltN[tilt_n]": [
              {
                "x": {
                  "raw_path": "",
                  "@units": ""
                }
              },
              {
                "y": {
                  "raw_path": "",
                  "@units": ""
                }
              },
              {
                "z": {
                  "raw_path": "",
                  "@units": ""
                }
              }
            ]
          },
          "piezo_material": {
            "curvature_radiusN": [
              {
                "x": {
                  "raw_path": "",
                  "@units": ""
                }
              },
              {
                "y": {
                  "raw_path": "",
                  "@units": ""
                }
              },
              {
                "z": {
                  "raw_path": "",
                  "@units": ""
                }
              }
            ]
          }
        },
        "SPM_POSITIONER[spm_positioner]": {
          "z_controller": {
            "K_i": {
              "raw_path": "/Topography_Forward/RHK_ZPI_IntegralGain"
            },
            "K_p": {
              "raw_path": "/Topography_Forward/RHK_ZPI_ProportionalGain"
            },
            "set_point": {
              "raw_path": "/Topography_Forward/RHK_ZPI_SetPoint",
              "@units": "/Topography_Forward/RHK_ZPI_SetPoint/@unit"
            },
            "D_t": {
              "raw_path": "",
              "@units": ""
            },
            "tip_lift": {
              "raw_path": "",
              "@units": ""
            },
            "feedback_on": {
              "raw_path": ""
            },
            "switch_off_delay": {
              "raw_path": "",
              "@units": ""
            },
            "z": {
              "raw_path": "",
              "@units": ""
            },
            "z_offset_value": {
              "raw_path": "/Topography_Forward/RHK_Zoffset",
              "@units": "/Topography_Forward/RHK_Z/@unit"
            },
            "controller_label": { "raw_path": "" }
          },
          "actuator": {
            "feedback": ""
          }
        },
        "x": "",
        "y": "",
        "z": {
          "raw_path": "",
          "@units": ""
        },
        "AXISoffset_value[x_offset_value]": {
          "x": "",
          "y": "",
          "z": ""
        }
      },
      "real_time_controller": {
        "fabrication": {
          "model": {
            "raw_path": ""
          }
        },
        "frequency": {
          "raw_path": "",
          "@units": ""
        },
        "acquisition_time": {
          "raw_path": "",
          "@units": ""
        },
        "animation_time": {
          "raw_path": "/",
          "@units": ""
        },
        "measurement_time": {
          "raw_path": "",
          "@units": ""
        },
        "indication_time": {
          "raw_path": "",
          "@units": ""
        }
      },
      "sample_bias_voltage": {
        "bias_voltage": {
          "raw_path": "/Topography_Forward/RHK_Bias",
          "@units": "@default:V"
        },
        "bias_offset_value": {
          "raw_path": "/Topography_Forward/RHK_Bias/Offset",
          "@units": "/Topography_Forward/RHK_Bias/Offset/@unit"
        },
        "calibration": {
          "calibration_parameters": {
            "coefficient": {
              "raw_path": "/Topography_Forward/RHK_Bias/Calibration",
              "@units": "/Topography_Forward/RHK_Bias/Calibration/@unit"
            }
          },
          "calibration_time": ""
        }
      }
    },
    "PROCESS[process]": { "program": "" },
    "SAMPLE[sample]": { "name": "" },
    "USER[user]": {
      "address": "",
      "affiliation": "",
      "email": "",
      "name": "",
      "orcid": "",
      "telephone_number": ""
    },
    "DATA[data]": [
      {
        "data": {
          "name": "Topography_forward",
          "raw_path": "/Topography_Forward/data",
          "@units": "/Topography_Forward/RHK_Z/@unit"
        },
        "0": {
          "name": "x",
          "raw_path": "/Topography_Forward/coords/Topography_Forward_x",
          "@units": "/Topography_Forward/RHK_X/@unit"
        },
        "1": {
          "name": "y",
          "raw_path": "/Topography_Forward/coords/Topography_Forward_y",
          "@units": "/Topography_Forward/RHK_Y/@unit"
        },
        "title": {
          "raw_path": "@default:Topography Plot of STM Experiment (Foward Direction)"
        },
        "grp_name": "z_forward"
      },
      {
        "data": {
          "name": "Topography_backward",
          "raw_path": "/Topography_Backward/data",
          "@units": "/Topography_Backward/RHK_Z/@unit"
        },
        "0": {
          "name": "x",
          "raw_path": "/Topography_Backward/coords/Topography_Backward_x",
          "@units": "/Topography_Backward/RHK_X/@unit"
        },
        "1": {
          "name": "y",
          "raw_path": "/Topography_Backward/coords/Topography_Backward_y",
          "@units": "/Topography_Backward/RHK_Y/@unit"
        },
        "title": {
          "raw_path": "@default:Topography Plot of STM Experiment (Backward Direction)"
        },
        "grp_name": "z_backward"
      },
      {
        "data": {
          "name": "Current",
          "raw_path": "/Current_Backward/data",
          "@units": "/Current_Backward/RHK_Z/@unit"
        },
        "0": {
          "name": "x",
          "raw_path": "/Current_Backward/coords/Current_Backward_x",
          "@units": "/Current_Backward/RHK_X/@unit"
        },
        "1": {
          "name": "y",
          "raw_path": "/Current_Backward/coords/Current_Backward_y",
          "@units": "/Current_Backward/RHK_Y/@unit"
        },
        "title": {
          "raw_path": "@default:Current Plot of STM Experiment (Forward Direction)"
        },
        "grp_name": "current_forward"
      },
      {
        "data": {
          "name": "Current",
          "raw_path": "/Current_Forward/data",
          "@units": "/Current_Forward/RHK_Z/@unit"
        },
        "0": {
          "name": "x",
          "raw_path": "/Current_Forward/coords/Current_Forward_x",
          "@units": "/Current_Forward/RHK_X/@unit"
        },
        "1": {
          "name": "y",
          "raw_path": "/Current_Forward/coords/Current_Forward_y",
          "@units": "/Current_Forward/RHK_Y/@unit"
        },
        "title": {
          "raw_path": "@default:Current Plot of STM Experiment (Backward Direction)"
        },
        "grp_name": "current_backward"
      }
    ],
    "reproducibility_indicators": {
      "current": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/current_sensor/current",
      "current_gain": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/current_sensor/AMPLIFIER[amplifier]/current_gain",
      "current_offset": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/current_sensor/current_offset",
      "bias_sweep": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/bias_spectroscopy_environment/BIAS_SPECTROSCOPY[bias_spectroscopy]/BIAS_SWEEP[bias_sweep]",
      "reference_frequency": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/lockin_amplifier/reference_frequency",
      "modulation_signal": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/lockin_amplifier/modulation_signal"
    },
    "resolution_indicators": {
      "stm_head_temp": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/SCAN_ENVIRONMENT/head_temperature",
      "cryo_bottom_temperature": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/SCAN_ENVIRONMENT/cryo_bottom_temperature",
      "cryo_shield_temperature": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/SCAN_ENVIRONMENT/cryo_shield_temperature",
      "bias_sweep": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/bias_spectroscopy_environment/BIAS_SPECTROSCOPY[bias_spectroscopy]/BIAS_SWEEP[bias_sweep]",
      "reference_frequency": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/lockin_amplifier/reference_frequency",
      "modulation_signal": "@default_link:/ENTRY[entry]/INSTRUMENT[instrument]/lockin_amplifier/modulation_signal"
    }
  }
}
