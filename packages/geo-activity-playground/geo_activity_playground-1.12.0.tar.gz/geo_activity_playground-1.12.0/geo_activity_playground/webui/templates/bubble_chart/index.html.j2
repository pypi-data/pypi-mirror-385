{% extends "page.html.j2" %}

{% block container %}

<div class="row mb-3">
    <div class="col">
        <h1>Bubble Chart: Distance</h1>
        <div id="bubble-chart-distance"></div>
        <script>
            const chartSpecDistance = {{ bubble_chart_distance | safe }};
            vegaEmbed('#bubble-chart-distance', chartSpecDistance).then((result) => {
                // Add a click event listener to the chart
                result.view.addEventListener('click', (event, item) => {
                    if (item && item.datum && item.datum.activity_url) {
                        // Redirect to the activity URL
                        window.location.href = item.datum.activity_url;
                    }
                });
            }).catch(console.error);
        </script>
    </div>
</div>

<div class="row mb-3">
    <div class="col">
        <h1>Bubble Chart: Elevation Gain</h1>
        <div id="bubble-chart-elevation-gain"></div>
        <script>
            const chartSpecElevationGain = {{ bubble_chart_elevation_gain | safe }};
            vegaEmbed('#bubble-chart-elevation-gain', chartSpecElevationGain).then((result) => {
                // Add a click event listener to the chart
                result.view.addEventListener('click', (event, item) => {
                    if (item && item.datum && item.datum.activity_url) {
                        // Redirect to the activity URL
                        window.location.href = item.datum.activity_url;
                    }
                });
            }).catch(console.error);
        </script>
    </div>
</div>
{% endblock %}