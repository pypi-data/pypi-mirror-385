
[tox]
envlist = py38, py39, py310, py311, nox

[testenv]
extras = bouncer,db,tests
commands = pytest {posargs}

[testenv:nox]
extras = tests

[testenv:coverage]
basepython = python3
deps =
        appy
        invoke
        luigi
        xlrd
extras = bouncer,db,tests
commands = pytest --cov=rattail --cov-report=html

[testenv:docs]
basepython = python3
changedir = docs
extras = bouncer,db,tests,docs
commands = sphinx-build -b html -d {envtmpdir}/doctrees -W -T . {envtmpdir}/docs
