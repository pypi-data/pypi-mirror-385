name: data_cube
resources:
  # Fact tables
  - name: dim_product
    package: data_cube
    schema:
      fields:
        - {name: code, type: str}
        - {name: name, type: str}
        - {name: description, type: str}
        - {name: position, type: int}
      primaryKeys: [code] 
  - name: dim_region
    package: data_cube
    schema:
      fields:
        - {name: code, type: str}
        - {name: name, type: str}
        - {name: description, type: str}
        - {name: position, type: int}
      primaryKeys: [code] 
  - name: fact_trade
    package: data_cube
    schema:
      fields:
        - {name: id, type: int}
        - {name: product, type: str}
        - {name: source_region, type: str}
        - {name: target_region, type: str}
        - {name: fact, type: float}
      primaryKeys: [id] 
      foreignKeys: 
        - fields: [product]
          reference: 
            fields: [code]
            resource: dim_product
            package: data_cube
            direction: forward
            distance: 0
        - fields: [source_region]
          reference: 
            fields: [code]
            resource: dim_region
            package: data_cube
            direction: back
            distance: 0
        - fields: [target_region]
          reference: 
            fields: [code]
            resource: dim_region
            package: data_cube
            direction: back
            distance: 0

