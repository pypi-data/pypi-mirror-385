<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>𝐯𝐞𝐝𝐚𝐥𝟗𝟖𝟕 - 𝐓𝐰𝐢𝐭𝐜𝐡</title>
    <link rel="stylesheet" href="src/style.css"/>
    <link rel="stylesheet" href="src/styles/offline.css"/>
    <script src="src/javascript/tooltip.js" type="module"></script>
    <script src="src/javascript/viewers.js" type="module"></script>
  </head>
  <body>
    <header id="twitch-header">
      <div class="top-nav-left">
        <a href="/" class="twitch-logo-link" aria-label="Twitch 主页">
          <figure class="twitch-logo-container">
            <svg class="twitch-logo-svg" overflow="visible" width="40px" height="40px" version="1.1" viewBox="0 0 40 40" x="0px" y="0px">
              <g>
                <polygon points="13 8 8 13 8 31 14 31 14 36 19 31 23 31 32 22 32 8" class="logo-body"></polygon>
                <polygon points="26 25 30 21 30 10 14 10 14 25 18 25 18 29 22 25" class="logo-face"></polygon>
                <g class="logo-eyes">
                  <path d="M20,14 L22,14 L22,20 L20,20 L20,14 Z M27,14 L27,20 L25,20 L25,14 L27,14 Z" class="logo-eye-path"></path>
                </g>
              </g>
            </svg>
          </figure>
        </a>
        <div class="nav-links-main">
          <a class="nav-link" href="#">
            <p>正在关注</p>
          </a>
          <a class="nav-link" href="#">
            <p>浏览</p>
          </a>
          <button class="nav-icon-button" data-tooltip="更多选择">
            <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path d="M10 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM8 4a2 2 0 1 0 4 0 2 2 0 0 0-4 0z"></path></svg>
          </button>
        </div>
      </div>

      <div class="top-nav-center">
        <div class="search-container">
          <input type="search" class="search-input" placeholder="搜索" />
          <button class="search-button" aria-label="搜索按钮">
            <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path d="M13.192 14.606a7 7 0 1 1 1.414-1.414l3.101 3.1-1.414 1.415-3.1-3.1zM14 9A5 5 0 1 1 4 9a5 5 0 0 1 10 0z" fill-rule="evenodd"></path></svg>
          </button>
        </div>
      </div>

      <div class="top-nav-right">
        <button class="nav-icon-button" aria-label="Prime" data-tooltip="Prime 新品">
          <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path fill-rule="evenodd" d="M13.798 10.456 10 6.657l-3.798 3.799L4 8.805V13h12V8.805l-2.202 1.65zM18 5v8a2 2 0 0 1-2 2H4a2.002 2.002 0 0 1-2-2V5l4 3 4-4 4 4 4-3z" clip-rule="evenodd"></path></svg>
        </button>
        <button class="nav-icon-button" aria-label="通知" data-tooltip="打开通知">
          <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path fill-rule="evenodd" d="M4 3h12l2 4v10H2V7l2-4zm.236 4H8v1a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V7h3.764l-1-2H5.236l-1 2zM16 9h-2.17A3.001 3.001 0 0 1 11 11H9a3.001 3.001 0 0 1-2.83-2H4v6h12V9z" clip-rule="evenodd"></path></svg>
        </button>
        <button class="nav-icon-button" aria-label="悄悄话" data-tooltip="悄悄话">
          <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path fill-rule="evenodd" d="M7.828 13 10 15.172 12.172 13H15V5H5v8h2.828zM10 18l-3-3H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2l-3 3z" clip-rule="evenodd"></path></svg>
        </button>
        <button class="nav-icon-button" aria-label="购买呼币" data-tooltip="购买呼币">
          <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" role="presentation"><path fill-rule="evenodd" d="m3 12 7-10 7 10-7 6-7-6zm2.678-.338L10 5.487l4.322 6.173-.85.728L10 11l-3.473 1.39-.849-.729z" clip-rule="evenodd"></path></svg>
        </button>
        <button class="twitch-button turbo-button-full" aria-label="免费体验无广告观赏" data-tooltip="Turbo">
          <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path d="M10.114 9.622 11 7 7.175 9.323a.382.382 0 0 0 .013.65l.698.405L7 13l3.825-2.323a.382.382 0 0 0-.012-.65l-.699-.405z"></path><path fill-rule="evenodd" d="M18 7h-2V4H2v12h14v-3h2V7zm-4-1v3h2v2h-2v3H4V6h10z" clip-rule="evenodd"></path></svg>
          <span>免费体验无广告观赏</span>
        </button>
        <button class="nav-icon-button turbo-button-icon" aria-label="免费体验无广告观赏" data-tooltip="Turbo">
          <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path d="M10.114 9.622 11 7 7.175 9.323a.382.382 0 0 0 .013.65l.698.405L7 13l3.825-2.323a.382.382 0 0 0-.012-.65l-.699-.405z"></path><path fill-rule="evenodd" d="M18 7h-2V4H2v12h14v-3h2V7zm-4-1v3h2v2h-2v3H4V6h10z" clip-rule="evenodd"></path></svg>
        </button>
        
        <button class="nav-user-avatar-button" aria-expanded="false" aria-label="用户菜单">
          <div class="user-avatar-wrapper">
            <img class="user-avatar-img" alt="用户头像" src="/user_avatar.jpg" style="object-fit: cover;">
          </div>
        </button>
      </div>
    </header>

    <div id="main-content-wrapper">
      <div id="stream-and-info-container">
        <div id="stream-display-viewport">
          <div id="stream-display-area">
            <div id="background-display" data-darkreader-ignore></div>
            <div id="neuro-static-avatar-container">
              <img id="neuro-static-avatar" src="/neurosama.png" alt="Neuro-Sama Static Avatar" />
            </div>
            <div id="neuro-caption"></div>
            <div id="startup-video-overlay">
              <video id="startup-video" src="/neuro_start.mp4" playsinline muted preload="auto"></video>
            </div>
            <!-- Twitch 风格聊天覆盖层 -->
            <div id="twitch-chat-overlay" class="messages-display">
              <!-- 这里将显示聊天消息 -->
            </div>
            <div id="highlight-message-overlay" class="hidden"></div>
          </div>
          <button id="show-chat-button" class="twitch-button dark icon-button" aria-label="展开聊天">
              <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" role="presentation"><path d="M16 16V4h2v12h-2zM6 9l2.501-2.5-1.5-1.5-5 5 5 5 1.5-1.5-2.5-2.5h8V9H6z"></path></svg>
          </button>
          <button id="mute-button" class="twitch-button dark icon-button" aria-label="取消静音（m）">
            <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation">
              <path d="m5 7 4.146-4.146a.5.5 0 0 1 .854.353v13.586a.5.5 0 0 1-.854.353L5 13H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1zm7 1.414L13.414 7l1.623 1.623L16.66 7l1.414 1.414-1.623 1.623 1.623 1.623-1.414 1.414-1.623-1.623-1.623 1.623L12 11.66l1.623-1.623L12 8.414z"></path>
            </svg>
          </button>
        </div>

        <div id="offline-content-container" class="hidden">
          <div class="offline-info-card">
            <div class="offline-status-section">
              <strong class="offline-status-badge">离线</strong>
              <h2 class="offline-status-title">当前未连接到直播服务，或直播未开始。</h2>
            </div>
            <div class="offline-notification-section">
              <button class="offline-notification-button twitch-button">
                <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><path fill-rule="evenodd" d="M17 14v-2c-1-.5-1.75-1-2-2-.095-.38-.154-.905-.221-1.506C14.49 5.936 14.049 2 10 2 5.95 2 5.509 5.936 5.221 8.494 5.154 9.095 5.095 9.62 5 10c-.25 1-1 1.5-2 2v2h14zm-9.002 2h4-4zm4 0v.012V16zm-5.766-4h7.536a4.262 4.262 0 0 1-.708-1.515c-.129-.513-.2-1.154-.26-1.684a32.48 32.48 0 0 0-.009-.083c-.152-1.355-.314-2.606-.78-3.535-.21-.423-.447-.692-.703-.862C11.063 4.158 10.673 4 10 4s-1.063.158-1.308.32c-.256.171-.492.44-.704.863-.465.929-.627 2.18-.78 3.535L7.2 8.8c-.06.53-.131 1.171-.26 1.684-.15.603-.402 1.1-.708 1.515zm1.766 4a2.001 2.001 0 0 0 4 .012" clip-rule="evenodd"></path></svg>
                <span>开启通知</span>
              </button>
            </div>
          </div>
          <iframe class="offline-video-player"  scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>
        </div>

        <section id="stream-info">
          <div class="stream-info-layout">
            <div class="stream-info-left-column">
              <a href="https://twitch.tv/vedal987" class="streamer-avatar-link">
                <div class="streamer-avatar-wrapper">
                  <img id="streamer-avatar" src="/avatar.webp" alt="Streamer Avatar" />
                  <div class="live-indicator-wrapper">
                    <div class="live-indicator-rect">
                        <span class="live-text" id="live-indicator-text">LIVE</span>
                    </div>
                  </div>
                </div>
              </a>
            </div>

            <div class="stream-info-right-column">
              <div class="stream-info-main-row">
                <div class="streamer-info-and-name">
                  <h1 id="streamer-nickname">vedal987</h1>
                  <div class="verified-badge">
                      <svg width="16" height="16" viewBox="0 0 16 16" aria-label="已验证的合作伙伴"><path fill-rule="evenodd" d="M12.5 3.5 8 2 3.5 3.5 2 8l1.5 4.5L8 14l4.5-1.5L14 8l-1.5-4.5ZM7 11l4.5-4.5L10 5 7 8 5.5 6.5 4 8l3 3Z" clip-rule="evenodd"></path></svg>
                  </div>
                </div>
                <div class="main-action-buttons">
                    <button class="twitch-button icon-button" aria-label="关注" data-tooltip="取消关注">
                        <svg version="1.1" viewBox="0 0 20 20" x="0px" y="0px"><path d="M9.171 4.171A4 4 0 0 0 6.343 3H6a4 4 0 0 0-4 4v.343a4 4 0 0 0 1.172 2.829L10 17l6.828-6.828A4 4 0 0 0 18 7.343V7a4 4 0 0 0-4-4h-.343a4 4 0 0 0-2.829 1.172L10 5l-.829-.829z" fill-rule="evenodd"></path></svg>
                    </button>
                    <button class="twitch-button icon-button" aria-label="通知" data-tooltip="关闭通知">
                        <svg version="1.1" viewBox="0 0 20 20" x="0px" y="0px"><path d="M3 14v-2c1-.5 1.75-1 2-2 .095-.38.154-.905.221-1.506C5.51 5.936 5.951 2 10 2c4.05 0 4.491 3.936 4.779 6.494.067.601.126 1.126.221 1.506.25 1 1 1.5 2 2v2H3zm6.998 4a2 2 0 0 1-2-2h4v.012a2 2 0 0 1-2 1.988z"></path></svg>
                    </button>
                    <button class="twitch-button" aria-label="购买呼币">
                      <svg viewBox="0 0 20 20" aria-hidden="true"><path fill-rule="evenodd" d="m3 12 7-10 7 10-7 6-7-6zm2.678-.338L10 5.487l4.322 6.173-.85.728L10 11l-3.473 1.39-.849-.729z" clip-rule="evenodd"></path></svg>
                      <span>购买呼币</span>
                    </button>
                    <button class="twitch-button" aria-label="赠送一次订阅">
                        <svg viewBox="0 0 20 20" aria-hidden="true"><path fill-rule="evenodd" d="M16 6h2v6h-1v6H3v-6H2V6h2V4.793c0-2.507 3.03-3.762 4.803-1.99.131.131.249.275.352.429L10 4.5l.845-1.268a2.81 2.81 0 0 1 .352-.429C12.969 1.031 16 2.286 16 4.793V6zM6 4.793V6h2.596L7.49 4.341A.814.814 0 0 0 6 4.793zm8 0V6h-2.596l1.106-1.659a.814.814 0 0 1 1.49.451zM16 8v2h-5V8h5zm-1 8v-4h-4v4h4zM9 8v2H4V8h5zm0 4H5v4h4v-4z" clip-rule="evenodd"></path></svg>
                        <span>赠送一次订阅</span>
                        <svg viewBox="0 0 20 20"><path d="M14.5 6.5 10 11 5.5 6.5 4 8l6 6 6-6-1.5-1.5z"></path></svg>
                    </button>
                    <button class="twitch-button subscribe-button">
                        <svg viewBox="0 0 20 20" aria-hidden="true"><path fill-rule="evenodd" d="M11.456 8.255 10 5.125l-1.456 3.13-3.49.485 2.552 2.516-.616 3.485L10 13.064l3.01 1.677-.616-3.485 2.553-2.516-3.491-.485zM7.19 6.424l-4.2.583c-.932.13-1.318 1.209-.664 1.853l3.128 3.083-.755 4.272c-.163.92.876 1.603 1.722 1.132L10 15.354l3.579 1.993c.846.47 1.885-.212 1.722-1.132l-.755-4.272 3.128-3.083c.654-.644.268-1.723-.664-1.853l-4.2-.583-1.754-3.77c-.406-.872-1.706-.872-2.112 0L7.19 6.424z" clip-rule="evenodd"></path></svg>
                        <span>订阅</span>
                        <svg viewBox="0 0 20 20"><path d="M14.5 6.5 10 11 5.5 6.5 4 8l6 6 6-6-1.5-1.5z"></path></svg>
                    </button>
                </div>
              </div>
              
              <div class="stream-info-details-row">
                <div class="stream-details-left">
                  <p id="stream-title-full" title="neuro stream">neuro stream</p>
                  <div class="stream-category-and-tags">
                    <a href="#" class="stream-category">谈天说地</a>
                    <div class="stream-tags"></div>
                  </div>
                </div>
                
                <div class="stream-details-right">
                  <div class="stream-stats-section">
                    <div class="viewer-count">
                        <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><path fill-rule="evenodd" d="M5 7a5 5 0 1 1 6.192 4.857A2 2 0 0 0 13 13h1a3 3 0 0 1 3 3v2h-2v-2a1 1 0 0 0-1-1h-1a3.99 3.99 0 0 1-3-1.354A3.99 3.99 0 0 1 7 15H6a1 1 0 0 0-1 1v2H3v-2a3 3 0 0 1 3-3h1a2 2 0 0 0 1.808-1.143A5.002 5.002 0 0 1 5 7zm5 3a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" clip-rule="evenodd"></path></svg>
                        <strong id="avg-viewers">11,290</strong>
                    </div>
                    <div class="stream-duration">
                        <span class="duration-text" id="stream-duration-text">00:00:00</span>
                    </div>
                  </div>
                  <div class="stream-secondary-actions">
                    <button class="twitch-button icon-button" aria-label="分享">
                      <svg width="20" height="20" viewBox="0 0 20 20"><path d="M2 16v-3h2v3h12v-3h2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm13-9-1.5 1.5L11 6v7H9V6L6.5 8.5 5 7l5-5 5 5z"></path></svg>
                    </button>
                    <button class="twitch-button icon-button" aria-label="更多选项">
                      <svg width="20" height="20" viewBox="0 0 20 20"><path d="M10 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM8 4a2 2 0 1 0 4 0 2 2 0 0 0-4 0z"></path></svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- 右侧聊天侧边栏 -->
      <div id="chat-sidebar" class="chat-sidebar">
        <!-- 顶部收缩按钮和聊天标题 (居中修正) -->
        <div class="chat-sidebar-header">
          <div class="chat-header-left">
            <button id="toggle-chat-button" class="chat-toggle-button" aria-label="重叠聊天">
              <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" role="presentation"><path d="M4 16V4H2v12h2zm9-1-1.5-1.5L14 11H6V9h8l-2.5-2.5L13 5l5 5-5 5z"></path></svg>
            </button>
          </div>
          <h4 class="chat-title">直播聊天</h4>
          <div class="chat-header-right">
            <button class="chat-toolbar-button" aria-label="社区">
              <svg width="20" height="20" viewBox="0 0 20 20"><g><path d="M7 2a4 4 0 0 0-1.015 7.87A1.334 1.334 0 0 1 4.667 11 2.667 2.667 0 0 0 2 13.667V18h2v-4.333c0-.368.298-.667.667-.667A3.32 3.32 0 0 0 7 12.047 3.32 3.32 0 0 0 9.333 13c.369 0 .667.299.667.667V18h2v-4.333A2.667 2.667 0 0 0 9.333 11c-.667 0-1.22-.49-1.318-1.13A4.002 4.002 0 0 0 7 2zM5 6a2 2 0 1 0 4 0 2 2 0 0 0-4 0z" fill-rule="evenodd"></path><path d="M14 11.83V18h4v-3.75c0-.69-.56-1.25-1.25-1.25a.75.75 0 0 1-.75-.75v-.42a3.001 3.001 0 1 0-2 0z"></path></g></svg>
            </button>
          </div>
        </div>
        
        <!-- 聊天消息显示区 -->
        <div id="chat-messages" class="messages-display"></div>
        
        <!-- 聊天输入区 (重构后) -->
        <div class="chat-input-area">
          <div class="chat-input-and-buttons">
            <div class="chat-input-textarea-container">
              <div class="chat-input-prefix-icons">
                  <button class="chat-toolbar-button" aria-label="聊天室身份">
                    <img alt="订阅者徽章" class="chat-badge-icon" src="/sub_badge.svg">
                  </button>
              </div>
              <div class="chat-input-wrapper">
                <input type="text" id="chat-input" class="chat-input-element" placeholder="发送消息" />
              </div>
              <div class="chat-input-suffix-icons">
                  <button class="chat-toolbar-button" aria-label="欢呼">
                    <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" role="presentation"><path d="M14 4V2h-2v2h2z"></path><path fill-rule="evenodd" d="M10.293 8.293 16 14 4 18l-2-2L6 4l2.879 2.879A2.99 2.99 0 0 1 11 6h1v2h-1a.997.997 0 0 0-.707.293zm-3.419-.59-.643 1.93 2.67 4.625 2.254-.751-2.08-3.604-2.201-2.2zM4.498 14.83l.887-2.662 1.58 2.735-2.033.677-.434-.75z" clip-rule="evenodd"></path><path d="M16 5V4h2v1a3 3 0 0 1-3 3h-1V6h1a1 1 0 0 0 1-1zm2 5v2h-2v-2h2z"></path></svg>
                  </button>
                  <button class="chat-toolbar-button" aria-label="表情符号选择器">
                    <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><g><path d="M7 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-4 4a2 2 0 0 0 2-2H8a2 2 0 0 0 2 2z"></path><path d="M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm-2 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0z" fill-rule="evenodd"></path></g></svg>
                  </button>
              </div>
            </div>
            <div class="chat-input-buttons-container">
              <div class="chat-buttons-left">
                <button id="sc-bits-button" class="chat-toolbar-text-button" aria-label="呼币">
                  <svg width="20" height="20" viewBox="0 0 20 20"><path fill-rule="evenodd" d="m3 12 7-10 7 10-7 6-7-6zm2.678-.338L10 5.487l4.322 6.173-.85.728L10 11l-3.473 1.39-.849-.729z" clip-rule="evenodd"></path></svg>
                  <span class="points-value">0</span>
                </button>
                <button id="sc-points-button" class="chat-toolbar-text-button" aria-label="频道点数">
                  <img class="channel-points-icon" src="/channel_points.png" alt="频道点数">
                  <span class="points-value">0</span>
                </button>
              </div>
              <div class="chat-buttons-right">
                <button class="chat-toolbar-button" aria-label="聊天设置">
                  <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation"><path d="M10 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"></path><path fill-rule="evenodd" d="M9 2h2a2.01 2.01 0 0 0 1.235 1.855l.53.22a2.01 2.01 0 0 0 2.185-.439l1.414 1.414a2.01 2.01 0 0 0-.439 2.185l.22.53A2.01 2.01 0 0 0 18 9v2a2.01 2.01 0 0 0-1.855 1.235l-.22.53a2.01 2.01 0 0 0 .44 2.185l-1.415 1.414a2.01 2.01 0 0 0-2.184-.439l-.531.22A2.01 2.01 0 0 0 11 18H9a2.01 2.01 0 0 0-1.235-1.854l-.53-.22a2.009 2.009 0 0 0-2.185.438L3.636 14.95a2.009 2.009 0 0 0 .438-2.184l-.22-.531A2.01 2.01 0 0 0 2 11V9c.809 0 1.545-.487 1.854-1.235l.22-.53a2.009 2.009 0 0 0-.438-2.185L5.05 3.636a2.01 2.01 0 0 0 2.185.438l.53-.22A2.01 2.01 0 0 0 9 2zm-4 8 1.464 3.536L10 15l3.535-1.464L15 10l-1.465-3.536L10 5 6.464 6.464 5 10z" clip-rule="evenodd"></path></svg>
                </button>
                <button id="send-button" class="twitch-button subscribe-button">聊天</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="settings-modal" class="settings-modal-container hidden">
      <div id="settings-modal-overlay" class="modal-overlay"></div>
      <div class="modal-content">
        <header class="modal-header">
          <h2>设置</h2>
          <button id="settings-close-button" class="twitch-button icon-button">
  <svg width="20" height="20" viewBox="0 0 20 20" focusable="false" aria-hidden="true" role="presentation">
    <path d="M8.5 10 4 5.5 5.5 4 10 8.5 14.5 4 16 5.5 11.5 10l4.5 4.5-1.5 1.5-4.5-4.5L5.5 16 4 14.5 8.5 10z"></path>
  </svg>
</button>
        </header>
        <main class="modal-body">
          <div class="setting-item">
            <label for="username-setting-input">用户名</label>
            <input type="text" id="username-setting-input" class="modal-input" placeholder="输入你的聊天昵称">
          </div>
          <div class="setting-item avatar-setting">
            <label>头像</label>
            <div class="avatar-preview-container">
              <img id="avatar-setting-preview" src="/user_avatar.jpg" alt="Avatar Preview" class="avatar-preview">
              <input type="file" id="avatar-setting-upload" accept="image/*" class="avatar-upload-input">
              <button id="avatar-upload-button" class="twitch-button">上传图片</button>
            </div>
          </div>
          <div class="setting-item">
            <label for="backend-url-input">后端地址</label>
            <input type="text" id="backend-url-input" class="modal-input" placeholder="例如：ws://127.0.0.1:8000">
          </div>
          <div class="setting-item">
            <label for="reconnect-attempts-input">最大重连次数</label>
            <input type="number" id="reconnect-attempts-input" class="modal-input" placeholder="输入一个数字">
            <p class="setting-description">连接失败后的自动重试次数。设置为 -1 可无限重试。</p>
          </div>
        </main>
        <footer class="modal-footer">
          <button id="settings-save-button" class="twitch-button subscribe-button"><span>保存并重连</span></button>
        </footer>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
