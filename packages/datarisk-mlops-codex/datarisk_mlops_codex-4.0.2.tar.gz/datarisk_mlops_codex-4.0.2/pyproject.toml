[project]
name = "datarisk-mlops-codex"
version = "4.0.2"
description = "A Python SDK for interacting with the DataRisk MLOps API"
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "cloudpickle>=3.1.1",
    "lazy-imports>=1.0.1",
    "loguru>=0.7.3",
    "pandas>=2.3.3",
    "plotly>=6.3.1",
    "pydantic>=2.12.0",
    "requests==2.32.5",
    "seaborn>=0.13.2",
]
license = "MIT"
license-files = ["LICENSE.txt"]

[project.scripts]
main = "mlops_codex:main"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.sdist]
exclude = [
    "docs/",
    ".github/",
    "notebooks/",
    "tests/"
]

[tool.hatch.build.targets.wheel]
packages = ["src/mlops_codex"]

[tool.uv]
dev-dependencies = [
    "m2r2==0.3.4",
    "pydata-sphinx-theme==0.16.1",
    "pyright>=1.1.406",
    "ruff>=0.14.0",
    "sphinx==8.2.3",
    "taskipy>=1.14.1",
]

[tool.ruff]
line-length = 88
indent-width = 4
include = ["pyproject.toml", "src/**/*.py", "scripts/**/*.py"]

[tool.ruff.lint]
preview = true
select = ['I', 'F', 'E', 'W', 'PL', 'PT']

[tool.ruff.format]
preview = true
quote-style = 'single'
indent-style = "space"
docstring-code-line-length = "dynamic"
exclude = ["*.pyi", "*.ipynb"]

[tool.taskipy.tasks]
lint = 'ruff check . && ruff check . --diff'
format = 'ruff check src/ --fix && ruff format src/'
