(self.webpackChunkprint_page_viewer=self.webpackChunkprint_page_viewer||[]).push([[61670],{61670:function(t){var e,o;e="undefined"==typeof window?this:window,o=(t,e,o,i,n)=>(()=>{"use strict";var s,r,l={28:t=>{t.exports=n},260:t=>{t.exports=o},512:t=>{t.exports=e},620:t=>{t.exports=i},944:e=>{e.exports=t}},a={};function d(t){var e=a[t];if(void 0!==e)return e.exports;var o=a[t]={exports:{}};return l[t](o,o.exports,d),o.exports}d.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return d.d(e,{a:e}),e},d.d=(t,e)=>{for(var o in e)d.o(e,o)&&!d.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},d.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var h={};d.d(h,{default:()=>ct});var p=d(944),c=d.n(p),u=d(512),f=d.n(u);let{series:{prototype:m,prototype:{pointClass:{prototype:g}}}}=f(),{defined:y,extend:b,find:v,merge:x,pick:k}=c();!function(t){function e(){return this.data=[].concat(this.points||[],this.nodes),m.destroy.apply(this,arguments)}function o(){this.nodes&&(this.nodes.forEach((t=>{t.destroy()})),this.nodes.length=0),m.setData.apply(this,arguments)}function i(t){let e=arguments,o=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==t&&o.forEach((t=>{t&&t.series&&(g.setState.apply(t,e),!t.isNode&&(t.fromNode.graphic&&g.setState.apply(t.fromNode,e),t.toNode&&t.toNode.graphic&&g.setState.apply(t.toNode,e)))})),g.setState.apply(this,e)}function n(t,e,o,i){let n=this.series.options.nodes,s=this.series.options.data,r=s?.length||0,l=s?.[this.index];if(g.update.call(this,t,!this.isNode&&e,o,i),this.isNode){let t=(n||[]).reduce(((t,e,o)=>this.id===e.id?o:t),-1),i=x(n&&n[t]||{},s?.[this.index]||{});s&&(l?s[this.index]=l:s.length=r),n?t>=0?n[t]=i:n.push(i):this.series.options.nodes=[i],k(e,!0)&&this.series.chart.redraw(o)}}t.compose=function(t,s){let r=t.prototype,l=s.prototype;return r.setNodeState=i,r.setState=i,r.update=n,l.destroy=e,l.setData=o,s},t.createNode=function(t){let e,o=this.pointClass,i=(t,e)=>v(t,(t=>t.id===e)),n=i(this.nodes,t);if(!n){e=this.options.nodes&&i(this.options.nodes,t);let s=new o(this,b({className:"highcharts-node",isNode:!0,id:t,y:1},e));s.linksTo=[],s.linksFrom=[],s.getSum=function(){let t=0,e=0;return s.linksTo.forEach((e=>{t+=e.weight||0})),s.linksFrom.forEach((t=>{e+=t.weight||0})),Math.max(t,e)},s.offset=function(t,e){let o=0;for(let i=0;i<s[e].length;i++){if(s[e][i]===t)return o;o+=s[e][i].weight}},s.hasShape=function(){let t=0;return s.linksTo.forEach((e=>{e.outgoing&&t++})),!s.linksTo.length||t!==s.linksTo.length},s.index=this.nodes.push(s)-1,n=s}return n.formatPrefix="node",n.name=n.name||n.options.id||"",n.mass=k(n.options.mass,n.options.marker&&n.options.marker.radius,this.options.marker&&this.options.marker.radius,4),n},t.destroy=e,t.generatePoints=function(){let t=this.chart,e={};m.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach((t=>{t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level})),this.points.forEach((o=>{y(o.from)&&(e[o.from]||(e[o.from]=this.createNode(o.from)),e[o.from].linksFrom.push(o),o.fromNode=e[o.from],t.styledMode?o.colorIndex=k(o.options.colorIndex,e[o.from].colorIndex):o.color=o.options.color||e[o.from].color),y(o.to)&&(e[o.to]||(e[o.to]=this.createNode(o.to)),e[o.to].linksTo.push(o),o.toNode=e[o.to]),o.name=o.name||o.id}),this),this.nodeLookup=e},t.setNodeState=i,t.updateNode=n}(s||(s={}));let N=s;var C=d(260),P=d.n(C);let{column:L}=f().seriesTypes,{defined:T}=c();class w extends L.prototype.pointClass{applyOptions(t,e){return P().prototype.applyOptions.call(this,t,e),T(this.options.level)&&(this.options.column=this.column=this.options.level),this}getClassName(){return(this.isNode?"highcharts-node ":"highcharts-link ")+P().prototype.getClassName.call(this)}getFromNode(){let t,e=-1;for(let o=0;o<this.linksTo.length;o++){let i=this.linksTo[o];i.fromNode.column>e&&i.fromNode!==this&&(e=(t=i.fromNode).column)}return{fromNode:t,fromColumn:e}}setNodeColumn(){T(this.options.column)||(0===this.linksTo.length?this.column=0:this.column=this.getFromNode().fromColumn+1)}isValid(){return this.isNode||"number"==typeof this.weight}}let{defined:S,getAlignFactor:O,relativeLength:M}=c();!function(t){t.compose=function(t,o){return t.sankeyColumn=new e(t,o),t};class e{constructor(t,e){this.points=t,this.series=e}getTranslationFactor(t){let e,o,i=this.points,n=i.slice(),s=t.chart,r=t.options.minLinkWidth||0,l=0,a=(s.plotSizeY||0)-(t.options.borderWidth||0)-(i.length-1)*t.nodePadding;for(;i.length;){for(l=a/i.sankeyColumn.sum(),e=!1,o=i.length;o--;)i[o].getSum()*l<r&&(i.splice(o,1),a=Math.max(0,a-r),e=!0);if(!e)break}for(let d of(i.length=0,n))i.push(d);return l}top(t){let e=this.series,o=e.nodePadding,i=this.points.reduce(((i,n)=>(i>0&&(i+=o),i+Math.max(n.getSum()*t,e.options.minLinkWidth||0))),0);return O(e.options.nodeAlignment||"center")*((e.chart.plotSizeY||0)-i)}left(t){let e=this.series,o=e.chart,i=e.options.equalNodes,n=o.inverted?o.plotHeight:o.plotWidth,s=e.nodePadding,r=this.points.reduce(((o,r)=>(o>0&&(o+=s),o+(i?n/r.series.nodes.length-s:Math.max(r.getSum()*t,e.options.minLinkWidth||0)))),0);return((o.plotSizeX||0)-Math.round(r))/2}sum(){return this.points.reduce(((t,e)=>t+e.getSum()),0)}offset(t,e){let o,i=this.points,n=this.series,s=n.nodePadding,r=0;if(n.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(let l=0;l<i.length;l++){let a=i[l].getSum(),d=Math.max(a*e,n.options.minLinkWidth||0),h=t.options[n.chart.inverted?"offsetHorizontal":"offsetVertical"],p=t.options.offset||0;if(o=a?d+s:0,i[l]===t)return{relativeTop:r+(S(h)?M(h,d):M(p,o))};r+=o}}}t.SankeyColumnAdditions=e}(r||(r={}));let F=r;var W=d(620),z=d.n(W);let{extend:D,isArray:I,isNumber:A,isObject:B,merge:Y,pick:E,relativeLength:H}=c();var X=d(28),_=d.n(X);let{deg2rad:R}=c(),{addEvent:V,merge:j,uniqueKey:q,defined:G,extend:$}=c();function Z(t,e){e=j(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);let o=this.renderer.url,i=this.text||this,n=i.textPath,{attributes:s,enabled:r}=e;if(t=t||n&&n.path,n&&n.undo(),t&&r){let e=V(i,"afterModifyTree",(e=>{if(t&&r){let n=t.attr("id");n||t.attr("id",n=q());let r={x:0,y:0};G(s.dx)&&(r.dx=s.dx,delete s.dx),G(s.dy)&&(r.dy=s.dy,delete s.dy),i.attr(r),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let l=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:$(s,{"text-anchor":s.textAnchor,href:`${o}#${n}`}),children:l}}}));i.textPath={path:t,undo:e}}else i.attr({dx:0,dy:0}),delete i.textPath;return this.added&&(i.textCache="",this.renderer.buildText(i)),this}function K(t){let e=t.bBox,o=this.element?.querySelector("textPath");if(o){let t=[],{b:i,h:n}=this.renderer.fontMetrics(this.element),s=n-i,r=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),l=o.innerHTML.replace(r,"").split(/<tspan class="highcharts-br"[^>]*>/),a=l.length,d=(t,e)=>{let{x:n,y:r}=e,l=(o.getRotationOfChar(t)-90)*R,a=Math.cos(l),d=Math.sin(l);return[[n-s*a,r-s*d],[n+i*a,r+i*d]]};for(let e=0,h=0;h<a;h++){let i=l[h].length;for(let n=0;n<i;n+=5)try{let i=e+n+h,[s,r]=d(i,o.getStartPositionOfChar(i));0===n?(t.push(r),t.push(s)):(0===h&&t.unshift(r),h===a-1&&t.push(s))}catch{break}e+=i-1;try{let i=e+h,n=o.getEndPositionOfChar(i),[s,r]=d(i,n);t.unshift(r),t.unshift(s)}catch{break}}t.length&&t.push(t[0].slice()),e.polygon=t}return e}function J(t){let e=t.labelOptions,o=t.point,i=e[o.formatPrefix+"TextPath"]||e.textPath;i&&!e.useHTML&&(this.setTextPath(o.getDataLabelPath?.(this)||o.graphic,i),o.dataLabelPath&&!i.enabled&&(o.dataLabelPath=o.dataLabelPath.destroy()))}let{column:Q,line:U}=f().seriesTypes,{parse:tt}=z(),{getLevelOptions:et,getNodeWidth:ot}={getColor:function(t,e){let o,i,n,s,r,l,a=e.index,d=e.mapOptionsToLevel,h=e.parentColor,p=e.parentColorIndex,c=e.series,u=e.colors,f=e.siblings,m=c.points,g=c.chart.options.chart;return t&&(o=m[t.i],i=d[t.level]||{},o&&i.colorByPoint&&(s=o.index%(u?u.length:g.colorCount),n=u&&u[s]),c.chart.styledMode||(r=E(o&&o.options.color,i&&i.color,n,h&&(t=>{let e=i&&i.colorVariation;return e&&"brightness"===e.key&&a&&f?z().parse(t).brighten(e.to*(a/f)).get():t})(h),c.color)),l=E(o&&o.options.colorIndex,i&&i.colorIndex,s,p,e.colorIndex)),{color:r,colorIndex:l}},getLevelOptions:function(t){let e,o,i,n,s,r,l={};if(B(t))for(n=A(t.from)?t.from:1,r=t.levels,o={},e=B(t.defaults)?t.defaults:{},I(r)&&(o=r.reduce(((t,o)=>{let i,s,r;return B(o)&&A(o.level)&&(s=E((r=Y({},o)).levelIsConstant,e.levelIsConstant),delete r.levelIsConstant,delete r.level,B(t[i=o.level+(s?0:n-1)])?Y(!0,t[i],r):t[i]=r),t}),{})),s=A(t.to)?t.to:1,i=0;i<=s;i++)l[i]=Y({},e,B(o[i])?o[i]:{});return l},getNodeWidth:function(t,e){let{chart:o,options:i}=t,{nodeDistance:n=0,nodeWidth:s=0}=i,{plotSizeX:r=1}=o;if("auto"===s){if("string"==typeof n&&/%$/.test(n))return r/(e+parseFloat(n)/100*(e-1));let t=Number(n);return(r+t)/(e||1)-t}return H(s,r)},setTreeValues:function t(e,o){let i=o.before,n=o.idRoot,s=o.mapIdToNode[n],r=!1!==o.levelIsConstant,l=o.points[e.i],a=l&&l.options||{},d=[],h=0;e.levelDynamic=e.level-(r?0:s.level),e.name=E(l&&l.name,""),e.visible=n===e.id||!0===o.visible,"function"==typeof i&&(e=i(e,o)),e.children.forEach(((i,n)=>{let s=D({},o);D(s,{index:n,siblings:e.children.length,visible:e.visible}),i=t(i,s),d.push(i),i.visible&&(h+=i.val)}));let p=E(a.value,h);return e.visible=p>=0&&(h>0||e.visible),e.children=d,e.childrenTotal=h,e.isLeaf=e.visible&&!h,e.val=p,e},updateRootId:function(t){let e,o;return B(t)&&(o=B(t.options)?t.options:{},e=E(t.rootNode,o.rootId,""),B(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}},{clamp:it,crisp:nt,extend:st,isObject:rt,merge:lt,pick:at,relativeLength:dt,stableSort:ht}=c();!function(t){V(t,"afterGetBBox",K),V(t,"beforeAddingDataLabel",J);let e=t.prototype;e.setTextPath||(e.setTextPath=Z)}(_());class pt extends Q{static getDLOptions(t){let e=rt(t.optionsPoint)?t.optionsPoint.dataLabels:{};return lt({style:{}},rt(t.level)?t.level.dataLabels:{},e)}createNodeColumns(){let t=[];for(let e of this.nodes)e.setNodeColumn(),t[e.column]||(t[e.column]=F.compose([],this)),t[e.column].push(e);for(let e=0;e<t.length;e++)void 0===t[e]&&(t[e]=F.compose([],this));return t}order(t,e){if(void 0===t.level)for(let o of(t.level=e,t.linksFrom))o.toNode&&this.order(o.toNode,e+1)}generatePoints(){if(N.generatePoints.apply(this,arguments),this.orderNodes){for(let t of this.nodes)0===t.linksTo.length&&this.order(t,0);ht(this.nodes,((t,e)=>t.level-e.level))}}getNodePadding(){let t=this.options.nodePadding||0;if(this.nodeColumns){let e=this.nodeColumns.reduce(((t,e)=>Math.max(t,e.length)),0);e*t>this.chart.plotSizeY&&(t=this.chart.plotSizeY/e)}return t}hasData(){return!!this.dataTable.rowCount}pointAttribs(t,e){if(!t)return{};let o=this,i=t.isNode?t.level:t.fromNode.level,n=o.mapOptionsToLevel[i||0]||{},s=t.options,r=n.states&&n.states[e||""]||{},l=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce(((t,e)=>(t[e]=at(r[e],s[e],n[e],o.options[e]),t)),{}),a=at(r.color,s.color,l.colorByPoint?t.color:n.color);return t.isNode?{fill:a,stroke:l.borderColor,"stroke-width":l.borderWidth,opacity:l.opacity}:{fill:a,"fill-opacity":l.linkOpacity}}drawTracker(){Q.prototype.drawTracker.call(this,this.points),Q.prototype.drawTracker.call(this,this.nodes)}drawPoints(){Q.prototype.drawPoints.call(this,this.points),Q.prototype.drawPoints.call(this,this.nodes)}drawDataLabels(){Q.prototype.drawDataLabels.call(this,this.points),Q.prototype.drawDataLabels.call(this,this.nodes)}translate(){this.generatePoints(),this.nodeColumns=this.createNodeColumns();let t=this,e=this.chart,o=this.options,i=this.nodeColumns,n=i.length;for(let s of(this.nodeWidth=ot(this,n),this.nodePadding=this.getNodePadding(),this.translationFactor=i.reduce(((e,o)=>Math.min(e,o.sankeyColumn.getTranslationFactor(t))),1/0),this.colDistance=(e.plotSizeX-this.nodeWidth-o.borderWidth)/Math.max(1,i.length-1),t.mapOptionsToLevel=et({from:1,levels:o.levels,to:i.length-1,defaults:{borderColor:o.borderColor,borderRadius:o.borderRadius,borderWidth:o.borderWidth,color:t.color,colorByPoint:o.colorByPoint,levelIsConstant:!0,linkColor:o.linkColor,linkLineWidth:o.linkLineWidth,linkOpacity:o.linkOpacity,states:o.states}}),i))for(let e of s)t.translateNode(e,s);for(let s of this.nodes)for(let e of s.linksFrom)(e.weight||e.isNull)&&e.to&&(t.translateLink(e),e.allowShadow=!1)}translateLink(t){let e=(e,o)=>{let i=e.offset(t,o)*r;return Math.min(e.nodeY+i,e.nodeY+(e.shapeArgs&&e.shapeArgs.height||0)-u)},o=t.fromNode,i=t.toNode,n=this.chart,{inverted:s}=n,r=this.translationFactor,l=this.options,a=at(t.linkColorMode,l.linkColorMode),d=(n.inverted?-this.colDistance:this.colDistance)*l.curveFactor,h=o.nodeX,p=i.nodeX,c=t.outgoing,u=Math.max(t.weight*r,this.options.minLinkWidth),f=e(o,"linksFrom"),m=e(i,"linksTo"),g=this.nodeWidth,y=p>h+g;if(n.inverted&&(f=n.plotSizeY-f,m=(n.plotSizeY||0)-m,g=-g,u=-u,y=h>p),t.shapeType="path",t.linkBase=[f,f+u,m,m+u],y&&"number"==typeof m)t.shapeArgs={d:[["M",h+g,f],["C",h+g+d,f,p-d,m,p,m],["L",p+(c?g:0),m+u/2],["L",p,m+u],["C",p-d,m+u,h+g+d,f+u,h+g,f+u],["Z"]]};else if("number"==typeof m){let e=n.plotHeight-f-u,o=p-20-u,i=p-20,s=h+g,r=s+20,l=r+u,a=f,d=f+u,c=d+20,y=c+e,b=y+20,v=b+u,x=m,k=x+u,N=k+20,C=d-.7*u,P=b+.7*u,L=k-.7*u,T=p-.7*u,w=s+.7*u;t.shapeArgs={d:[["M",s,a],["C",w,a,l,C,l,c],["L",l,y],["C",l,P,w,v,s,v],["L",p,v],["C",T,v,o,P,o,y],["L",o,N],["C",o,L,T,x,p,x],["L",p,k],["C",i,k,i,k,i,N],["L",i,y],["C",i,b,i,b,p,b],["L",s,b],["C",r,b,r,b,r,y],["L",r,c],["C",r,d,r,d,s,d],["Z"]]}}if(t.dlBox={x:h+(p-h+g)/2,y:f+(m-f)/2,height:u,width:0},t.tooltipPos=n.inverted?[n.plotSizeY-t.dlBox.y-u/2,n.plotSizeX-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+u/2],t.y=t.plotY=1,t.x=t.plotX=1,!t.options.color)if("from"===a)t.color=o.color;else if("to"===a)t.color=i.color;else if("gradient"===a){let e=tt(o.color).get(),n=tt(i.color).get();t.color={linearGradient:{x1:1,x2:0,y1:0,y2:0},stops:[[0,s?e:n],[1,s?n:e]]}}}translateNode(t,e){let o=this.translationFactor,i=this.chart,n=this.options,{borderRadius:s,borderWidth:r=0}=n,l=t.getSum(),a=Math.max(Math.round(l*o),this.options.minLinkWidth),d=Math.round(this.nodeWidth),h=e.sankeyColumn.offset(t,o),p=nt(at(h.absoluteTop,e.sankeyColumn.top(o)+h.relativeTop),r),c=nt(this.colDistance*t.column+r/2,r)+dt(t.options[i.inverted?"offsetVertical":"offsetHorizontal"]||0,d),u=i.inverted?i.plotSizeX-c:c;if(t.sum=l,l){t.shapeType="roundedRect",t.nodeX=u,t.nodeY=p;let e=u,o=p,r=t.options.width||n.width||d,l=t.options.height||n.height||a,h=it(dt("object"==typeof s?s.radius:s||0,r),0,a/2);i.inverted&&(e=u-d,o=i.plotSizeY-p-a,r=t.options.height||n.height||d,l=t.options.width||n.width||a),t.dlOptions=pt.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options}),t.plotX=1,t.plotY=1,t.tooltipPos=i.inverted?[i.plotSizeY-o-l/2,i.plotSizeX-e-r/2]:[e+r/2,o+l/2],t.shapeArgs={x:e,y:o,width:r,height:l,r:h,display:t.hasShape()?"":"none"}}else t.dlOptions={enabled:!1}}}pt.defaultOptions=lt(Q.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkColorMode:"from",linkOpacity:.5,opacity:1,minLinkWidth:0,nodeAlignment:"center",nodeWidth:20,nodePadding:10,nodeDistance:30,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} \u2192 {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}),N.compose(w,pt),st(pt.prototype,{animate:U.prototype.animate,createNode:N.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:w,searchPoint:c().noop}),f().registerSeriesType("sankey",pt);let ct=c();return h.default})(),t.exports=o(e._Highcharts,e._Highcharts.SeriesRegistry,e._Highcharts.Point,e._Highcharts.Color,e._Highcharts.SVGElement)}}]);
//# sourceMappingURL=61670.8e9a8946.chunk.js.map