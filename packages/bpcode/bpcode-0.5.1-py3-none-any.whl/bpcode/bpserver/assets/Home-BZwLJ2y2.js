import{r as s,c as r,a as m,b as l,d as f,u as n,E as w,w as _,e as v,f as y,o as u,g as h}from"./index-z8FtxWqV.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const g={key:0,style:{color:"red","margin-top":"10px"}},V={__name:"Home",setup(k){const t=s(""),o=s(!1),c=`${window.location.protocol}//${window.location.hostname}:8888`,i=y();async function d(){o.value=!1;try{const e=await(await fetch(`${c}/weblogin/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t.value})})).json();e.success?(localStorage.setItem("cookie",e.cookie),i.push("/dirishere")):o.value=!0}catch{o.value=!0}}return(a,e)=>(u(),r("div",null,[e[2]||(e[2]=m("h2",null,"登录",-1)),l(n(w),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value=p),placeholder:"请输入密码","show-password":"",style:{width:"300px","margin-bottom":"24px"}},null,8,["modelValue"]),l(n(v),{type:"primary",onClick:d},{default:_(()=>e[1]||(e[1]=[h("登录",-1)])),_:1,__:[1]}),o.value?(u(),r("div",g,"密码错误，请重试。")):f("",!0)]))}},N=x(V,[["__scopeId","data-v-50c2090c"]]);export{N as default};
