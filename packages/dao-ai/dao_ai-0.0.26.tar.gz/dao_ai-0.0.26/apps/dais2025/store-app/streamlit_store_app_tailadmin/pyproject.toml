[project]
name = "store-assistant-tailadmin"
version = "0.1.0"
description = "A Streamlit-based TailAdmin store operations dashboard"
readme = "README.md"
requires-python = ">=3.12"
dependencies = [
    # Core Streamlit dependencies
    "streamlit>=1.32.0",
    "streamlit-modal>=0.1.2",
    "streamlit-card>=1.0.2", 
    "streamlit-tailwind>=0.1.0",
    
    # Data processing
    "pandas>=2.2.0",
    "plotly>=5.18.0",
    
    # Databricks integrations
    "databricks-sdk>=0.53.0",
    "databricks-sql-connector>=3.6.0",
    "mlflow>=2.22.0",
    
    # Utilities
    "python-dotenv>=1.1.0",
    "pyyaml>=6.0.1",
]

# UV-specific configuration
[tool.uv]
dev-dependencies = [
    "pytest>=8.0.0",
    "black>=24.0.0",
    "ruff>=0.1.0",
] 

# Ruff configuration
[tool.ruff]
# Set line length to 120 characters (more reasonable for Streamlit apps)
line-length = 120
target-version = "py312"

[tool.ruff.lint]
# Enable common rules but ignore some that are problematic for Streamlit
select = [
    "E",   # pycodestyle errors
    "W",   # pycodestyle warnings
    "F",   # pyflakes
    "I",   # isort
    "B",   # flake8-bugbear
    "C4",  # flake8-comprehensions
    "UP",  # pyupgrade
]

# Ignore rules that are common in Streamlit apps
ignore = [
    "E501",  # Line too long (handled by formatter)
    "B008",  # Do not perform function calls in argument defaults
    "F401",  # Imported but unused (common in Streamlit pages)
    "E731",  # Do not assign a lambda expression, use a def
    "B904",  # Within an except clause, raise exceptions with `raise ... from err`
]

[tool.ruff.format]
# Use single quotes for strings
quote-style = "double"
# Indent with 4 spaces
indent-style = "space"
# Respect magic trailing commas
skip-magic-trailing-comma = false
# Format docstrings
docstring-code-format = true 