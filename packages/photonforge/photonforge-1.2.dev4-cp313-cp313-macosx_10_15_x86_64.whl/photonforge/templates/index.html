<!DOCTYPE html>
<html>
<head>
    <title>PhotonForge Live Viewer</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/styles.css') }}">
</head>
<body>
    <div id="toolbar">
        <div class="toolbar-item">
            <button onclick="resetZoom()" title="Reset View">
                <img src="{{ url_for('static', path='icons/home.svg') }}" alt="Home">
            </button>
            <span class="toolbar-label">Home</span>
        </div>
        <div class="toolbar-item">
            <button class="grid-button" onclick="handleGridButtonClick()" title="Show Grid">
                <input type="checkbox" id="gridToggle">
                <img src="{{ url_for('static', path='icons/grid.svg') }}" alt="Grid">
            </button>
            <span class="toolbar-label">Grid</span>
        </div>
        <div class="toolbar-item">
            <button onclick="toggleRulerMode()" id="rulerButton" title="Ruler">
                <img src="{{ url_for('static', path='icons/ruler.svg') }}" alt="Ruler">
            </button>
            <span class="toolbar-label">Ruler</span>
        </div>
        <div class="toolbar-item">
            <button onclick="clearMeasurements()" title="Clear Measurements">
                <img src="{{ url_for('static', path='icons/clear.svg') }}" alt="Clear">
            </button>
            <span class="toolbar-label">Clear</span>
        </div>
    </div>
    <div id="svg-container">
        <div id="grid-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;"></div>
        <div id="svg-content"></div>
    </div>
    <div style="background: #f0f0f0; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
        <div id="ruler">
            <svg width="800" height="20">
                <g id="ruler-content"></g>
            </svg>
        </div>
        <span id="zoom-display">
            Zoom: 100%
        </span>
        <span id="coordinates">
            Coordinates: (0.000 μm, 0.000 μm)
        </span>
    </div>
    <div id="right-panel">
        <div id="component-section">
            <div class="section-header" onclick="toggleSection('component-tree')">
                Components
                <span class="caret collapsed"></span>
            </div>
            <div id="component-tree" class="section-content scrollable-content collapsed"></div>
        </div>
        <div id="layer-section">
            <div class="section-header" onclick="toggleSection('layer-list')">
                Layers
                <span class="caret collapsed"></span>
            </div>
            <div id="layer-list" class="section-content scrollable-content collapsed"></div>
        </div>
    </div>
    <script src="{{ url_for('static', path='js/main.js') }}"></script>
</body>
</html>
