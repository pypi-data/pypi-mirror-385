[project]
name = "unit-hifigan"
version = "0.1.1"
description = "Unit HiFi-GAN"
license = "MIT"
readme = "README.md"
authors = [
    { name = "Maxime Poli" },
    { name = "CoML", email = "dev@cognitive-ml.fr" },
]
requires-python = ">=3.13"
dependencies = [
    "huggingface-hub>=0.35.3",
    "numpy>=2.3.3",
    "polars>=1.33.1",
    "safetensors>=0.6.2",
    "torch>=2.8.0",
    "torchaudio>=2.8.0",
    "torchcodec>=0.7.0",
    "torchdata>=0.11.0",
    "tqdm>=4.67.1",
    "viztracer>=1.0.4",
]

[project.optional-dependencies]
whisper = ["openai-whisper>=20250625"]

[build-system]
requires = ["flit_core>=3.2,<4"]
build-backend = "flit_core.buildapi"

[dependency-groups]
dev = ["ipykernel>=6.30.1", "ruff>=0.13.2"]
test = ["hypothesis>=6.141.0", "matplotlib>=3.10.7", "pytest>=8.4.2"]

[tool.ruff]
line-length = 119

[tool.ruff.lint]
select = ["ALL"]
ignore = ["D", "TRY", "COM812", "EM", "S101", "T201", "S311", "S603"]

[tool.ruff.lint.pylint]
allow-magic-value-types = ["int", "str"]
max-args = 6

[tool.ruff.lint.pep8-naming]
ignore-names = ["F"]

[tool.ruff.lint.flake8-self]
ignore-names = ["_foreach_add", "_foreach_pow", "_foreach_abs"]

[tool.pytest.ini_options]
addopts = "-v --ignore=tests/textlesslib --ignore=tests/speech-resynthesis"
