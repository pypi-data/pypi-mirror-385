Metadata-Version: 2.4
Name: esp32-arduino-python
Version: 2.3.0
Summary: ESP32 Arduinoé£æ ¼Pythonæ§åˆ¶åº“ v2.3 - ä¿®å¤ä¼ æ„Ÿå™¨æ•°æ®è¯»å–ï¼Œå®Œæ•´æ”¯æŒDHT11æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨
Home-page: https://github.com/dianx12/esp32-arduino-python
Author: Haitao Wang
Author-email: ç‹æµ·æ¶› <haitaowang926@gmail.com>
License: MIT
Project-URL: Homepage, https://gitee.com/haitaowang926/esp32-arduino-python
Project-URL: Repository, https://gitee.com/haitaowang926/esp32-arduino-python
Project-URL: Issues, https://gitee.com/haitaowang926/esp32-arduino-python/issues
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Hardware
Classifier: Topic :: Scientific/Engineering
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pyserial>=3.5
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# ESP32 Arduinoé£æ ¼Pythonæ§åˆ¶åº“

## ğŸ“– ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸ºESP32è®¾è®¡çš„Arduinoé£æ ¼Pythonæ§åˆ¶åº“ï¼Œæ—¨åœ¨è®©Pythonä»£ç åƒArduinoä»£ç ä¸€æ ·ç®€å•ç›´è§‚ã€‚è¯¥åº“æä¾›äº†ç»Ÿä¸€çš„ç¡¬ä»¶æŠ½è±¡å±‚ï¼Œæ”¯æŒæ•°å­—IOã€æ¨¡æ‹Ÿè¾“å…¥ã€ä¼ æ„Ÿå™¨è¯»å–ç­‰åŠŸèƒ½ã€‚

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **Arduinoé£æ ¼API**: Pythonä»£ç å†™èµ·æ¥å°±åƒArduinoä»£ç 
- **æ‰©å±•æ¿æ”¯æŒ**: å®Œæ•´æ”¯æŒESP32æ‰©å±•æ¿çš„æ‰€æœ‰é€šé“
- **å³æ’å³ç”¨**: ç®€å•çš„ç¡¬ä»¶è¿æ¥ï¼Œå¿«é€Ÿä¸Šæ‰‹
- **ä¸°å¯Œç¤ºä¾‹**: ä»åŸºç¡€åˆ°è¿›é˜¶çš„å®Œæ•´ç¤ºä¾‹åº“
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºæ‰©å±•

## ğŸ“‹ ç¡¬ä»¶é…ç½®

### ä¸»è¦ç»„ä»¶
- **ä¸»æ§åˆ¶å™¨**: RK3588 (Rock 5B Plus)
- **å¾®æ§åˆ¶å™¨**: ESP32-D0WDR2-V3 (16MB Flash)
- **è¿æ¥æ–¹å¼**: USBä¸²å£ (/dev/ttyUSB0)
- **æ³¢ç‰¹ç‡**: 115200

### æ‰©å±•æ¿é€šé“é…ç½®

| é€šé“ | GPIO | ç±»å‹ | åŠŸèƒ½æè¿° | ç¤ºä¾‹ç”¨é€” |
|------|------|------|----------|----------|
| CH0  | 32   | ADC  | æ¨¡æ‹Ÿè¾“å…¥ | æ¸©åº¦ä¼ æ„Ÿå™¨ |
| CH1  | 33   | ADC  | æ¨¡æ‹Ÿè¾“å…¥ | æ¹¿åº¦ä¼ æ„Ÿå™¨ |
| CH2  | 25   | GPIO | æ•°å­—è¾“å‡º | LEDæŒ‡ç¤ºç¯ |
| CH3  | 26   | GPIO | æ•°å­—è¾“å‡º | ç»§ç”µå™¨æ§åˆ¶ |
| CH4  | 27   | GPIO | æ•°å­—IO   | æŒ‰é’®/å¼€å…³ |
| CH5  | 13   | I2C  | I2C SDA  | I2Cè®¾å¤‡ (é¢„ç•™) |
| CH6  | 14   | I2C  | I2C SCL  | I2Cè®¾å¤‡ (é¢„ç•™) |
| CH7  | 22   | I2C  | I2C SCL  | I2Cè®¾å¤‡ (é¢„ç•™) |
| CH8  | 21   | I2C  | I2C SDA  | I2Cè®¾å¤‡ (é¢„ç•™) |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source /home/mobox/hardware/esp_venv/bin/activate

# æ£€æŸ¥ESP32è¿æ¥
ls -la /dev/ttyUSB*

# å¦‚æœéœ€è¦æƒé™
sudo chmod 666 /dev/ttyUSB0
```

### 2. ç¼–è¯‘å’Œä¸Šä¼ å›ºä»¶

```bash
# è¿›å…¥å›ºä»¶ç›®å½•
cd esp32-rk3588-sensor-system/esp32_firmware

# ç¼–è¯‘å›ºä»¶
pio run

# ä¸Šä¼ å›ºä»¶
pio run --target upload
```

### 3. è¿è¡Œç¬¬ä¸€ä¸ªç¤ºä¾‹

```python
#!/usr/bin/env python3
from esp32_arduino import *

# è‡ªåŠ¨åˆå§‹åŒ–ESP32ï¼ˆåŒ…æ‹¬è®¾å¤‡æ£€æµ‹ã€å›ºä»¶çƒ§å½•å’Œè¿æ¥ï¼‰
if esp32_begin():
    print("ESP32è®¾ç½®æˆåŠŸï¼")

    # Arduinoé£æ ¼çš„ä»£ç 
    digitalWrite(CH2, HIGH)  # ç‚¹äº®LED
    delay(1000)              # å»¶æ—¶1ç§’
    digitalWrite(CH2, LOW)   # å…³é—­LED

    # è¯»å–ä¼ æ„Ÿå™¨
    temp = readTemperature()
    print(f"æ¸©åº¦: {temp}Â°C")

    # å…³é—­è¿æ¥
    esp32_close()
else:
    print("ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼")
```

### ğŸš€ æ–°åŠŸèƒ½ï¼šè‡ªåŠ¨æ£€æµ‹å’Œçƒ§å½•

åº“ç°åœ¨æ”¯æŒè‡ªåŠ¨æ£€æµ‹ESP32è®¾å¤‡å¹¶åœ¨éœ€è¦æ—¶è‡ªåŠ¨çƒ§å½•å›ºä»¶ï¼š

```python
from esp32_arduino import *

# æ–¹æ³•1ï¼šä½¿ç”¨é»˜è®¤è‡ªåŠ¨è®¾ç½®
esp32_begin()  # è‡ªåŠ¨æ£€æµ‹ã€çƒ§å½•ã€è¿æ¥

# æ–¹æ³•2ï¼šæ‰‹åŠ¨æ§åˆ¶
esp32_begin(auto_setup=False)  # ä¸è¿›è¡Œè‡ªåŠ¨è®¾ç½®

# æ–¹æ³•3ï¼šä½¿ç”¨è®¾å¤‡ç®¡ç†å™¨
manager = ESP32DeviceManager()
success, info = manager.auto_setup()

# æ–¹æ³•4ï¼šä½¿ç”¨ä¾¿æ·å‡½æ•°
success, info = auto_setup_esp32()
```

## ğŸ“š ç¤ºä¾‹åº“

æˆ‘ä»¬æä¾›äº†ä»åŸºç¡€åˆ°è¿›é˜¶çš„å®Œæ•´ç¤ºä¾‹ï¼š

### åŸºç¡€ç¤ºä¾‹ (â­)
- **[01_digital_output.py](examples/01_digital_output.py)** - LEDæ§åˆ¶
- **[02_digital_input.py](examples/02_digital_input.py)** - æŒ‰é’®è¯»å–
- **[03_analog_input.py](examples/03_analog_input.py)** - ADCè¯»å–

### è¿›é˜¶ç¤ºä¾‹ (â­â­â­)
- **[04_pwm_output.py](examples/04_pwm_output.py)** - PWMäº®åº¦æ§åˆ¶
- **[05_sensor_reading.py](examples/05_sensor_reading.py)** - ä¼ æ„Ÿå™¨ç›‘æ§
- **[06_relay_control.py](examples/06_relay_control.py)** - ç»§ç”µå™¨æ§åˆ¶

### ç»¼åˆç¤ºä¾‹ (â­â­â­â­)
- **[07_all_channels_test.py](examples/07_all_channels_test.py)** - å…¨é€šé“æµ‹è¯•
- **[auto_setup_demo.py](examples/auto_setup_demo.py)** - è‡ªåŠ¨è®¾ç½®åŠŸèƒ½æ¼”ç¤º

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [examples/README.md](examples/README.md)

## ğŸ”§ Arduinoé£æ ¼API

### åŸºç¡€å‡½æ•°

```python
# è¿æ¥ç®¡ç†
esp32_begin()                    # åˆå§‹åŒ–è¿æ¥
esp32_close()                    # å…³é—­è¿æ¥

# æ•°å­—IO
digitalWrite(pin, HIGH/LOW)      # æ•°å­—è¾“å‡º
value = digitalRead(pin)         # æ•°å­—è¾“å…¥

# æ¨¡æ‹Ÿè¾“å…¥
adc_value = analogRead(pin)      # ADCè¯»å– (0-4095)

# æ—¶é—´å‡½æ•°
delay(1000)                      # å»¶æ—¶1ç§’
uptime = millis()                # è·å–è¿è¡Œæ—¶é—´
```

### ä¾¿æ·å‡½æ•°

```python
# LEDæ§åˆ¶
ledOn()                          # ç‚¹äº®CH2çš„LED
ledOff()                         # å…³é—­CH2çš„LED

# ä¼ æ„Ÿå™¨è¯»å–
temp = readTemperature()         # è¯»å–CH0æ¸©åº¦
humid = readHumidity()           # è¯»å–CH1æ¹¿åº¦
```

### é€šé“å¸¸é‡

```python
CH0 = 32  # ADC - æ¸©åº¦ä¼ æ„Ÿå™¨
CH1 = 33  # ADC - æ¹¿åº¦ä¼ æ„Ÿå™¨
CH2 = 25  # GPIO - LEDæŒ‡ç¤ºç¯
CH3 = 26  # GPIO - ç»§ç”µå™¨æ§åˆ¶
CH4 = 27  # GPIO - é€šç”¨IO
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
esp32-rk3588-sensor-system/
â”œâ”€â”€ esp32_firmware/              # ESP32å›ºä»¶ (PlatformIOé¡¹ç›®)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.cpp            # ä¸»ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ pin_config.h        # å¼•è„šé…ç½®
â”‚   â”‚   â”œâ”€â”€ command_handler.*   # å‘½ä»¤å¤„ç†
â”‚   â”‚   â”œâ”€â”€ hardware_control.*  # ç¡¬ä»¶æ§åˆ¶
â”‚   â”‚   â””â”€â”€ sensor_manager.*    # ä¼ æ„Ÿå™¨ç®¡ç†
â”‚   â””â”€â”€ platformio.ini          # PlatformIOé…ç½®
â”œâ”€â”€ rk3588_controller/          # RK3588æ§åˆ¶ç¨‹åº
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”œâ”€â”€ tools/                      # å·¥å…·è„šæœ¬
â””â”€â”€ examples/                   # ç¤ºä¾‹ä»£ç 
    â”œâ”€â”€ 01_digital_output.py    # æ•°å­—è¾“å‡ºç¤ºä¾‹
    â”œâ”€â”€ 02_digital_input.py     # æ•°å­—è¾“å…¥ç¤ºä¾‹
    â”œâ”€â”€ 03_analog_input.py      # æ¨¡æ‹Ÿè¾“å…¥ç¤ºä¾‹
    â”œâ”€â”€ 04_pwm_output.py        # PWMè¾“å‡ºç¤ºä¾‹
    â”œâ”€â”€ 05_sensor_reading.py    # ä¼ æ„Ÿå™¨è¯»å–ç¤ºä¾‹
    â”œâ”€â”€ 06_relay_control.py     # ç»§ç”µå™¨æ§åˆ¶ç¤ºä¾‹
    â”œâ”€â”€ 07_all_channels_test.py # å…¨é€šé“æµ‹è¯•
    â””â”€â”€ README.md               # ç¤ºä¾‹è¯´æ˜

arduino_esp32.py                # Arduinoé£æ ¼Pythonåº“
arduino_example.py              # ç»¼åˆç¤ºä¾‹
debug_serial.py                 # ä¸²å£è°ƒè¯•å·¥å…·
```

## ğŸ› ï¸ å¼€å‘å·¥å…·

### è°ƒè¯•å·¥å…·
```bash
# ä¸²å£è°ƒè¯•
python3 debug_serial.py

# LEDæµ‹è¯•
python3 test_led.py

# Arduinoåº“æµ‹è¯•
python3 arduino_esp32.py
```

### å›ºä»¶å¼€å‘
```bash
# ç¼–è¯‘
cd esp32-rk3588-sensor-system/esp32_firmware
pio run

# ä¸Šä¼ 
pio run --target upload

# ç›‘æ§ä¸²å£
pio device monitor
```

## ğŸ“– æ”¯æŒçš„å‘½ä»¤åè®®

ESP32å›ºä»¶æ”¯æŒä»¥ä¸‹ä¸²å£å‘½ä»¤ï¼š

### Arduinoé£æ ¼å‘½ä»¤
- `PINREAD:pin` - æ•°å­—è¯»å– (ç±»ä¼¼digitalRead)
- `PINSET:pin:value` - æ•°å­—å†™å…¥ (ç±»ä¼¼digitalWrite)
- `ADCREAD:pin` - æ¨¡æ‹Ÿè¯»å– (ç±»ä¼¼analogRead)

### ç³»ç»Ÿå‘½ä»¤
- `PING` - è¿æ¥æµ‹è¯•
- `INFO` - è·å–ç³»ç»Ÿä¿¡æ¯
- `RESET` - é‡å¯ESP32

### ä¼ ç»Ÿå‘½ä»¤ (å…¼å®¹)
- `READ:TEMP` - è¯»å–æ¸©åº¦
- `READ:HUMID` - è¯»å–æ¹¿åº¦
- `SET:LED:ON/OFF` - æ§åˆ¶LED
- `SET:RELAY:ON/OFF` - æ§åˆ¶ç»§ç”µå™¨

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ESP32è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥è®¾å¤‡
   ls -la /dev/ttyUSB*
   
   # æ£€æŸ¥æƒé™
   sudo chmod 666 /dev/ttyUSB0
   
   # æµ‹è¯•è¿æ¥
   echo "PING" > /dev/ttyUSB0 && timeout 2 cat /dev/ttyUSB0
   ```

2. **ç¼–è¯‘é”™è¯¯**
   ```bash
   # æ¸…ç†é‡æ–°ç¼–è¯‘
   cd esp32-rk3588-sensor-system/esp32_firmware
   pio run --target clean
   pio run
   ```

3. **Pythonåº“è¿æ¥é—®é¢˜**
   ```python
   # è°ƒè¯•è¿æ¥
   from arduino_esp32 import *
   if not esp32_begin():
       print("è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç¡¬ä»¶")
   ```

### ç¡¬ä»¶æ£€æŸ¥

```bash
# è¿è¡Œå…¨é€šé“æµ‹è¯•
python3 examples/07_all_channels_test.py

# é€‰æ‹© "8 - å…¨éƒ¨æµ‹è¯•" è¿›è¡Œå®Œæ•´ç¡¬ä»¶éªŒè¯
```

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

- **ä¼ æ„Ÿå™¨æ›´æ–°é¢‘ç‡**: 1Hz (å¯é…ç½®)
- **ä¸²å£é€šä¿¡**: 115200 bps
- **å‘½ä»¤å“åº”æ—¶é—´**: <100ms
- **å†…å­˜ä½¿ç”¨**: <64KB RAM, <1MB Flash
- **åŠŸè€—**: å…¸å‹å€¼ 80mA @3.3V
- **GPIOæ“ä½œé€Ÿåº¦**: >1000 æ“ä½œ/ç§’

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’Œç¤ºä¾‹ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

### å¼€å‘è§„èŒƒ
- éµå¾ªArduinoé£æ ¼çš„APIè®¾è®¡
- æ·»åŠ è¯¦ç»†çš„æ³¨é‡Šå’Œæ–‡æ¡£
- åŒ…å«ç›¸åº”çš„æµ‹è¯•ç¤ºä¾‹
- ç¡®ä¿ç¡¬ä»¶å®‰å…¨æ€§

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- ESP32ç¤¾åŒºæä¾›çš„ä¼˜ç§€æ–‡æ¡£å’Œç¤ºä¾‹
- Arduinoé¡¹ç›®çš„APIè®¾è®¡çµæ„Ÿ
- PlatformIOæä¾›çš„å¼€å‘ç¯å¢ƒ

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [examples/README.md](examples/README.md) è·å–è¯¦ç»†ç¤ºä¾‹
2. è¿è¡Œ `python3 examples/07_all_channels_test.py` è¿›è¡Œç¡¬ä»¶æµ‹è¯•
3. ä½¿ç”¨ `python3 debug_serial.py` è¿›è¡Œä¸²å£è°ƒè¯•

---

**è®©PythonåƒArduinoä¸€æ ·ç®€å•ï¼** ğŸš€
